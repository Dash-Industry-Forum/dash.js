<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>WebVTT Dash Demo</title>
    <meta name="description" content="" />
    <link rel="icon" type="image/x-icon" href="http://dashif.org/wp-content/uploads/2014/12/dashif.ico" />

    <script src="../../dist/dash.all.debug.js"></script>
    <!--dash.all.min.js should be used in production over dash.all.debug.js
        Debug files are not compressed or obfuscated making the file size much larger compared with dash.all.min.js-->
    <!--<script src="../../dist/dash.all.min.js"></script>-->

    <script class="code">
        function startVideo() {
            var url = "https://dash.akamaized.net/akamai/test/caption_test/ElephantsDream/elephants_dream_480p_heaac5_1.mpd",
                video = document.querySelector(".dash-video-player video"),
                player;

            player = dashjs.MediaPlayer({}).create();
            player.initialize(video, url, true);
            player.setTextDefaultEnabled(true);

            var mediaInfo = {
                id: 1,
                lang: 'en-US',
                index: null,
                type: null,
                streamInfo: null,
                representationCount: 0,
                viewpoint: null,
                roles: [],
                codec: null,
                mimeType: null,
                contentProtection: null,
                isText: true,
                KID: null,
                bitrateList: null,
            }

            player.on(dashjs.MediaPlayer.events['STREAM_INITIALIZED'], function handleEvent(e) {
                // Relative URL used here -- absolute URLs are also supported
                player.addTextTrack('external-captions.vtt', mediaInfo);
            });
        }
    </script>

    <style>
        video {
            width: 640px;
            height: 360px;
        }
    </style>

    <body onload="startVideo()">
        <div class="dash-video-player">
            <video controls="true"></video>
        </div>
    </body>
    <script src="../highlighter.js"></script>
</html>