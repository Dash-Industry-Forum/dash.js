!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.dashjs=t():e.dashjs=t()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s=100)}([function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()}var t,r,i;return t=e,(r=[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.PATCH_LOCATION="PatchLocation",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId"}}])&&n(t.prototype,r),i&&n(t,i),e}());t.a=i},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()}var t,r,i;return t=e,(r=[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4}}}])&&n(t.prototype,r),i&&n(t,i),e}());t.a=i},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=s(e);if(t){var i=s(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return o(this,r)}}function o(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var i=p(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(r,e);var t=f(r);function r(){return c(this,r),t.apply(this,arguments)}return r}(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(r,e);var t=a(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(e=t.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",e.BUFFERING_COMPLETED="bufferingCompleted",e.BUFFER_CLEARED="bufferCleared",e.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",e.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",e.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",e.CURRENT_TRACK_CHANGED="currentTrackChanged",e.DATA_UPDATE_COMPLETED="dataUpdateCompleted",e.INBAND_EVENTS="inbandEvents",e.INITIAL_STREAM_SWITCH="initialStreamSwitch",e.INIT_FRAGMENT_LOADED="initFragmentLoaded",e.INIT_FRAGMENT_NEEDED="initFragmentNeeded",e.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",e.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",e.LOADING_COMPLETED="loadingCompleted",e.LOADING_PROGRESS="loadingProgress",e.LOADING_DATA_PROGRESS="loadingDataProgress",e.LOADING_ABANDONED="loadingAborted",e.MANIFEST_UPDATED="manifestUpdated",e.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",e.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",e.QUOTA_EXCEEDED="quotaExceeded",e.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",e.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",e.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",e.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",e.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",e.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",e.SOURCE_BUFFER_ERROR="sourceBufferError",e.STREAMS_COMPOSED="streamsComposed",e.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",e.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",e.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",e.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",e.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",e.URL_RESOLUTION_FAILED="urlResolutionFailed",e.VIDEO_CHUNK_RECEIVED="videoChunkReceived",e.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",e.XLINK_ELEMENT_LOADED="xlinkElementLoaded",e.XLINK_READY="xlinkReady",e.SEEK_TARGET="seekTarget",e}return r}(r(17).a)));t.a=h},function(e,t,r){"use strict";var n=function(){var e,t=[],r={},n={};function i(e,r){for(var n in t){var i=t[n];if(i.context===e&&i.name===r)return i.instance}return null}function a(e,t){return t[e]}function o(e,t,r){e in r&&(r[e]=t)}function s(t,r,n){var i,a=t.__dashjs_factory_name,o=r[a];if(o){var s=o.instance;if(!o.override)return s.apply({context:r,factory:e},n);for(var u in i=t.apply({context:r},n),s=s.apply({context:r,factory:e,parent:i},n))i.hasOwnProperty(u)&&(i[u]=s[u])}else i=t.apply({context:r},n);return i.getClassName=function(){return a},i}return e={extend:function(e,t,r,n){!n[e]&&t&&(n[e]={instance:t,override:r})},getSingletonInstance:i,setSingletonInstance:function(e,r,n){for(var i in t){var a=t[i];if(a.context===e&&a.name===r)return void(t[i].instance=n)}t.push({name:r,context:e,instance:n})},deleteSingletonInstances:function(e){t=t.filter((function(t){return t.context!==e}))},getSingletonFactory:function(e){var n=a(e.__dashjs_factory_name,r);return n||(n=function(r){var n;return void 0===r&&(r={}),{getInstance:function(){return n||(n=i(r,e.__dashjs_factory_name)),n||(n=s(e,r,arguments),t.push({name:e.__dashjs_factory_name,context:r,instance:n})),n}}},r[e.__dashjs_factory_name]=n),n},getSingletonFactoryByName:function(e){return a(e,r)},updateSingletonFactory:function(e,t){o(e,t,r)},getClassFactory:function(e){var t=a(e.__dashjs_factory_name,n);return t||(t=function(t){return void 0===t&&(t={}),{create:function(){return s(e,t,arguments)}}},n[e.__dashjs_factory_name]=t),t},getClassFactoryByName:function(e){return a(e,n)},updateClassFactory:function(e,t){o(e,t,n)}}}();t.a=n},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=s(e);if(t){var i=s(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return o(this,r)}}function o(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(r,e);var t=a(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(e=t.call(this)).AST_IN_FUTURE="astInFuture",e.BUFFER_EMPTY="bufferStalled",e.BUFFER_LOADED="bufferLoaded",e.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",e.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",e.DYNAMIC_TO_STATIC="dynamicToStatic",e.ERROR="error",e.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",e.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",e.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",e.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",e.LOG="log",e.MANIFEST_LOADED="manifestLoaded",e.METRICS_CHANGED="metricsChanged",e.METRIC_CHANGED="metricChanged",e.METRIC_ADDED="metricAdded",e.METRIC_UPDATED="metricUpdated",e.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",e.STREAM_SWITCH_STARTED="streamSwitchStarted",e.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",e.QUALITY_CHANGE_RENDERED="qualityChangeRendered",e.TRACK_CHANGE_RENDERED="trackChangeRendered",e.STREAM_INITIALIZING="streamInitializing",e.STREAM_UPDATED="streamUpdated",e.STREAM_ACTIVATED="streamActivated",e.STREAM_DEACTIVATED="streamDeactivated",e.STREAM_INITIALIZED="streamInitialized",e.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",e.TEXT_TRACKS_ADDED="allTextTracksAdded",e.TEXT_TRACK_ADDED="textTrackAdded",e.TTML_PARSED="ttmlParsed",e.TTML_TO_PARSE="ttmlToParse",e.CAPTION_RENDERED="captionRendered",e.CAPTION_CONTAINER_RESIZE="captionContainerResize",e.CAN_PLAY="canPlay",e.CAN_PLAY_THROUGH="canPlayThrough",e.PLAYBACK_ENDED="playbackEnded",e.PLAYBACK_ERROR="playbackError",e.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",e.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",e.PLAYBACK_LOADED_DATA="playbackLoadedData",e.PLAYBACK_PAUSED="playbackPaused",e.PLAYBACK_PLAYING="playbackPlaying",e.PLAYBACK_PROGRESS="playbackProgress",e.PLAYBACK_RATE_CHANGED="playbackRateChanged",e.PLAYBACK_SEEKED="playbackSeeked",e.PLAYBACK_SEEKING="playbackSeeking",e.PLAYBACK_SEEK_ASKED="playbackSeekAsked",e.PLAYBACK_STALLED="playbackStalled",e.PLAYBACK_STARTED="playbackStarted",e.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",e.PLAYBACK_WAITING="playbackWaiting",e.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",e.EVENT_MODE_ON_START="eventModeOnStart",e.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",e.CONFORMANCE_VIOLATION="conformanceViolation",e.REPRESENTATION_SWITCH="representationSwitch",e}return r}(r(17).a));t.a=u},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a}));var i=function e(){n(this,e),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null},a=function e(){n(this,e),this.s=null,this.d=null,this.b=[],this.t=null};i.GET="GET",i.HEAD="HEAD",i.MPD_TYPE="MPD",i.XLINK_EXPANSION_TYPE="XLinkExpansion",i.INIT_SEGMENT_TYPE="InitializationSegment",i.INDEX_SEGMENT_TYPE="IndexSegment",i.MEDIA_SEGMENT_TYPE="MediaSegment",i.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",i.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",i.LICENSE="license",i.OTHER_TYPE="other"},function(e,t,r){"use strict";var n=r(7),i=r(2),a=r(3),o=1,s=2,u=3,c=4,l=5;function f(e){e=e||{};var t,r,a,f,d=this.context,p=Object(n.a)(d).getInstance(),h=e.settings,m=[];function _(e){return e&&e.bind?e.bind(window.console):window.console.log.bind(window.console)}function g(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];b.apply(void 0,[o,this].concat(t))}function y(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];b.apply(void 0,[s,this].concat(t))}function E(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];b.apply(void 0,[u,this].concat(t))}function v(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];b.apply(void 0,[c,this].concat(t))}function T(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];b.apply(void 0,[l,this].concat(t))}function b(e,t){var n="",o=null;r&&(o=(new Date).getTime(),n+="["+(o-f)+"]"),a&&t&&t.getClassName&&(n+="["+t.getClassName()+"]",t.getType&&(n+="["+t.getType()+"]")),n.length>0&&(n+=" ");for(var s=arguments.length,u=new Array(s>2?s-2:0),c=2;c<s;c++)u[c-2]=arguments[c];Array.apply(null,u).forEach((function(e){n+=e+" "})),m[e]&&h.get().debug.logLevel>=e&&m[e](n),h&&h.get().debug.dispatchEvent&&p.trigger(i.a.LOG,{message:n,level:e})}return t={getLogger:function(e){return{fatal:g.bind(e),error:y.bind(e),warn:E.bind(e),info:v.bind(e),debug:T.bind(e)}},setLogTimestampVisible:function(e){r=e},setCalleeNameVisible:function(e){a=e}},r=!0,a=!0,f=(new Date).getTime(),"undefined"!=typeof window&&window.console&&(m[o]=_(window.console.error),m[s]=_(window.console.error),m[u]=_(window.console.warn),m[c]=_(window.console.info),m[l]=_(window.console.debug)),t}f.__dashjs_factory_name="Debug";var d=a.a.getSingletonFactory(f);d.LOG_LEVEL_NONE=0,d.LOG_LEVEL_FATAL=o,d.LOG_LEVEL_ERROR=s,d.LOG_LEVEL_WARNING=u,d.LOG_LEVEL_INFO=c,d.LOG_LEVEL_DEBUG=l,a.a.updateSingletonFactory(f.__dashjs_factory_name,d),t.a=d},function(e,t,r){"use strict";var n=r(3),i=r(4);function a(){var e={};function t(t,r,n){var i=-1;return e[t]?(e[t].some((function(e,t){if(e&&e.callback===r&&(!n||n===e.scope))return i=t,!0})),i):i}return{on:function(r,n,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!r)throw new Error("event type cannot be null or undefined");if(!n||"function"!=typeof n)throw new Error("listener must be a function: "+n);var o=a.priority||0;if(!(t(r,n,i)>=0)){e[r]=e[r]||[];var s={callback:n,scope:i,priority:o};i&&i.getStreamId&&(s.streamId=i.getStreamId()),i&&i.getType&&(s.mediaType=i.getType()),a&&a.mode&&(s.mode=a.mode);var u=e[r].some((function(t,n){if(t&&o>t.priority)return e[r].splice(n,0,s),!0}));u||e[r].push(s)}},off:function(r,n,i){if(r&&n&&e[r]){var a=t(r,n,i);a<0||(e[r][a]=null)}},trigger:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&e[t]){if((r=r||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");r.type=t,n.streamId&&(r.streamId=n.streamId),n.mediaType&&(r.mediaType=n.mediaType),e[t].filter((function(e){return!!e&&((!n.streamId||!e.streamId||e.streamId===n.streamId)&&((!n.mediaType||!e.mediaType||e.mediaType===n.mediaType)&&!(n.mode&&e.mode&&e.mode!==n.mode||!e.mode&&n.mode&&n.mode===i.a.EVENT_MODE_ON_RECEIVE)))})).forEach((function(e){return e&&e.callback.call(e.scope,r)}))}},reset:function(){e={}}}}a.__dashjs_factory_name="EventBus";var o=n.a.getSingletonFactory(a);o.EVENT_PRIORITY_LOW=0,o.EVENT_PRIORITY_HIGH=5e3,n.a.updateSingletonFactory(a.__dashjs_factory_name,o),t.a=o},function(e,t,r){"use strict";t.a=function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.code=t||null,this.message=r||null,this.data=n||null}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=s(e);if(t){var i=s(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return o(this,r)}}function o(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(r,e);var t=a(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(e=t.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,e.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,e.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,e.SEGMENT_BASE_LOADER_ERROR_CODE=15,e.TIME_SYNC_FAILED_ERROR_CODE=16,e.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,e.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,e.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,e.APPEND_ERROR_CODE=20,e.REMOVE_ERROR_CODE=21,e.DATA_UPDATE_FAILED_ERROR_CODE=22,e.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,e.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,e.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,e.DOWNLOAD_ERROR_ID_SIDX_CODE=26,e.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,e.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,e.DOWNLOAD_ERROR_ID_XLINK_CODE=29,e.MANIFEST_ERROR_ID_PARSE_CODE=31,e.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,e.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,e.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,e.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,e.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",e.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",e.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",e.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",e.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",e.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",e.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",e.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",e.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",e.APPEND_ERROR_MESSAGE="chunk is not defined",e.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",e.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",e.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",e.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",e.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",e.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",e}return r}(r(24).a));t.a=u},function(e,t,r){"use strict";r.d(t,"e",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return s})),r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return f}));var n=r(27);function i(e,t){for(;e.length<t;)e="0"+e;return e}function a(e){return e?e.split("$$").join("$"):e}function o(e,t){if(!t||!e||-1===e.indexOf("$RepresentationID$"))return e;var r=t.toString();return e.split("$RepresentationID$").join(r)}function s(e,t,r){var n,a,o,s,u,c,l=t.length,f="%0".length;if(!e)return e;for(;;){if((n=e.indexOf("$"+t))<0)return e;if((a=e.indexOf("$",n+l))<0)return e;if((o=e.indexOf("%0",n+l))>n&&o<a)switch(s=e.charAt(a-1),u=parseInt(e.substring(o+f,a-1),10),s){case"d":case"i":case"u":c=i(r.toString(),u);break;case"x":c=i(r.toString(16),u);break;case"X":c=i(r.toString(16),u).toUpperCase();break;case"o":c=i(r.toString(8),u);break;default:return e}else c=r;e=e.substring(0,n)+c+e.substring(a+1)}}function u(e,t,r,i,a,o,s,u){var c,l=new n.a;return l.representation=e,l.duration=t,l.presentationStartTime=r,l.mediaStartTime=i,l.availabilityStartTime=a.calcAvailabilityStartTimeFromPresentationTime(o,e,s),l.availabilityEndTime=a.calcAvailabilityEndTimeFromPresentationTime(o+t,e,s),l.wallStartTime=a.calcWallTimeForSegment(l,s),l.replacementNumber=(c=u,l.representation.startNumber+c),l.index=u,l}function c(e,t,r,n){var i=t.adaptation.period;if(isFinite(i.duration)&&i.start+i.duration<=r.presentationStartTime)return!1;if(n){if("INF"===t.availabilityTimeOffset)return!0;var a=e.getClientReferenceTime();return r.availabilityStartTime.getTime()<=a&&(!isFinite(r.availabilityEndTime)||r.availabilityEndTime.getTime()>=a)}return!0}function l(e,t,r,n){var i,a,o;i=r.segmentDuration,isNaN(i)&&(i=r.adaptation.period.duration),a=parseFloat((r.adaptation.period.start+n*i).toFixed(5)),o=parseFloat((a+i).toFixed(5));var s=u(r,i,a,e.calcMediaTimeFromPresentationTime(a,r),e,o,t,n);return c(e,r,s,t)?s:null}function f(e,t,r,n,i,a,o,l,f,d){var p,h,m=n/a,_=i/a;return p=e.calcPresentationTimeFromMediaTime(m,r),c(e,r,h=u(r,_,p,m,e,p+_,t,f),t)?(h.replacementTime=d||n,o=s(o,"Number",h.replacementNumber),o=s(o,"Time",h.replacementTime),h.media=o,h.mediaRange=l,h):null}},function(e,t,r){"use strict";var n=r(3);function i(){var e,t=/^[a-z][a-z0-9+\-_.]*:/i,r=/^https?:\/\//i,n=/^https:\/\//i,i=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,a=function(e,t){try{return new window.URL(e,t).toString()}catch(t){return e}},o=function(e,t){var r=s;if(!t)return e;if(!l(e))return e;f(e)&&(r=u),d(e)&&(r=c);var n=r(t),i="/"!==n.charAt(n.length-1)&&"/"!==e.charAt(0)?"/":"";return[n,e].join(i)};function s(e){var t=e.indexOf("/"),r=e.lastIndexOf("/");return-1!==t?r===t+1?e:(-1!==e.indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),e.substring(0,r+1)):""}function u(e){var t=e.match(i);return t?t[1]:""}function c(e){var r=e.match(t);return r?r[0]:""}function l(e){return!t.test(e)}function f(e){return l(e)&&"/"===e.charAt(0)}function d(e){return 0===e.indexOf("//")}return function(){try{new window.URL("x","http://y");e=a}catch(e){}finally{e=e||o}}(),{parseBaseUrl:s,parseOrigin:u,parseScheme:c,isRelative:l,isPathAbsolute:f,isSchemeRelative:d,isHTTPURL:function(e){return r.test(e)},isHTTPS:function(e){return n.test(e)},removeHostname:function(e){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(e)[2].substring(1)},resolve:function(t,r){return e(t,r)}}}i.__dashjs_factory_name="DefaultURLUtils";var a=n.a.getSingletonFactory(i);function o(){var e,t=[],r=this.context;function n(r,n,i){var a=function(r){var n;for(n=0;n<t.length;n++){if(t[n].regex.test(r))return t[n].utils}return e}(i||n);return a&&"function"==typeof a[r]?a[r](n,i):e[r](n,i)}return e=a(r).getInstance(),{registerUrlRegex:function(e,r){t.push({regex:e,utils:r})},parseBaseUrl:function(e){return n("parseBaseUrl",e)},parseOrigin:function(e){return n("parseOrigin",e)},parseScheme:function(e){return n("parseScheme",e)},isRelative:function(e){return n("isRelative",e)},isPathAbsolute:function(e){return n("isPathAbsolute",e)},isSchemeRelative:function(e){return n("isSchemeRelative",e)},isHTTPURL:function(e){return n("isHTTPURL",e)},isHTTPS:function(e){return n("isHTTPS",e)},removeHostname:function(e){return n("removeHostname",e)},resolve:function(e,t){return n("resolve",e,t)}}}o.__dashjs_factory_name="URLUtils";var s=n.a.getSingletonFactory(o);t.a=s},function(e,t,r){"use strict";var n=r(5);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.action=e.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=t||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}var t,r,a;return t=e,(r=[{key:"isInitializationRequest",value:function(){return this.type&&this.type===n.a.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(e){this.type=e&&e.init?n.a.INIT_SEGMENT_TYPE:n.a.MEDIA_SEGMENT_TYPE,this.url=e&&e.url?e.url:null,this.range=e&&e.range?e.range.start+"-"+e.range.end:null,this.mediaType=e&&e.mediaType?e.mediaType:null}}])&&i(t.prototype,r),a&&i(t,a),e}();a.ACTION_DOWNLOAD="download",a.ACTION_COMPLETE="complete",t.a=a},,function(e,t,r){"use strict";var n=r(43),i=r.n(n);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"mixin",value:function(t,r,n){var i,o={};if(t)for(var s in r)r.hasOwnProperty(s)&&(i=r[s],s in t&&(t[s]===i||s in o&&o[s]===i)||("object"===a(t[s])&&null!==t[s]?t[s]=e.mixin(t[s],i,n):t[s]=n(i)));return t}},{key:"clone",value:function(t){if(!t||"object"!==a(t))return t;var r;if(t instanceof Array){r=[];for(var n=0,i=t.length;n<i;++n)n in t&&r.push(e.clone(t[n]))}else r={};return e.mixin(r,t,e.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(e,t){try{if(!t||0===t.length)return e;var r=new URL(e);return t.forEach((function(e){e.key&&e.value&&r.searchParams.set(e.key,e.value)})),r.href}catch(t){return e}}},{key:"parseHttpHeaders",value:function(e){var t={};if(!e)return t;for(var r=e.trim().split("\r\n"),n=0,i=r.length;n<i;n++){var a=r[n],o=a.indexOf(": ");o>0&&(t[a.substring(0,o)]=a.substring(o+2))}return t}},{key:"generateUuid",value:function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?r:3&r|8).toString(16)}))}},{key:"generateHashCode",value:function(e){var t=0;if(0===e.length)return t;for(var r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}},{key:"getRelativeUrl",value:function(e,t){try{var r=new URL(e),n=new URL(t);if(r.protocol=n.protocol,r.origin!==n.origin)return t;var a=i.a.relative(r.pathname.substr(0,r.pathname.lastIndexOf("/")),n.pathname.substr(0,n.pathname.lastIndexOf("/"))),o=0===a.length?1:0;return a+=n.pathname.substr(n.pathname.lastIndexOf("/")+o,n.pathname.length-1),n.pathname.length<a.length?n.pathname:a}catch(e){return t}}}],(r=null)&&o(t.prototype,r),n&&o(t,n),e}();t.a=s},function(e,t,r){"use strict";var n=r(3),i=r(14),a=r(6),o=r(1),s=r(5);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(){var e,t,r={debug:{logLevel:a.a.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,lowLatencyEnabled:!1,lowLatencyEnabledByManifest:!0,manifestUpdateRetryInterval:100,cacheInitSegments:!1,eventControllerRefreshDelay:150,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0,applyServiceDescription:!0},protection:{keepProtectionMediaKeys:!1},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!1},utcSynchronization:{useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0},liveCatchup:{minDrift:.02,maxDrift:12,playbackRate:.5,latencyThreshold:60,playbackBufferMin:.5,enabled:!1,mode:o.a.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:o.a.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:o.a.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:o.a.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:0,retryIntervals:(e={},c(e,s.a.MPD_TYPE,500),c(e,s.a.XLINK_EXPANSION_TYPE,500),c(e,s.a.MEDIA_SEGMENT_TYPE,1e3),c(e,s.a.INIT_SEGMENT_TYPE,1e3),c(e,s.a.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),c(e,s.a.INDEX_SEGMENT_TYPE,1e3),c(e,s.a.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),c(e,s.a.LICENSE,1e3),c(e,s.a.OTHER_TYPE,1e3),c(e,"lowLatencyReductionFactor",10),e),retryAttempts:(t={},c(t,s.a.MPD_TYPE,3),c(t,s.a.XLINK_EXPANSION_TYPE,1),c(t,s.a.MEDIA_SEGMENT_TYPE,3),c(t,s.a.INIT_SEGMENT_TYPE,3),c(t,s.a.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),c(t,s.a.INDEX_SEGMENT_TYPE,3),c(t,s.a.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),c(t,s.a.LICENSE,3),c(t,s.a.OTHER_TYPE,3),c(t,"lowLatencyMultiplyFactor",5),t),abr:{movingAverageMethod:o.a.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:o.a.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!1},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:o.a.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:o.a.CMCD_MODE_QUERY}},errors:{recoverAttempts:{mediaErrorDecode:5}}},n=i.a.clone(r);return{get:function(){return n},update:function(e){"object"===u(e)&&function e(t,r,n){for(var a in t)t.hasOwnProperty(a)&&r.hasOwnProperty(a)&&("object"===u(t[a])&&null!==t[a]?e(t[a],r[a],n.slice()+a+"."):r[a]=i.a.clone(t[a]))}(e,n,"")},reset:function(){n=i.a.clone(r)}}}l.__dashjs_factory_name="Settings";var f=n.a.getSingletonFactory(l);t.a=f},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=s(e);if(t){var i=s(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return o(this,r)}}function o(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(r,e);var t=a(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(e=t.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",e.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",e.CMCD_DATA_GENERATED="cmcdDataGenerated",e}return r}(r(17).a));t.a=u},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"extend",value:function(e,t){if(e){var r=!!t&&t.override,n=!!t&&t.publicOnly;for(var i in e)!e.hasOwnProperty(i)||this[i]&&!r||n&&-1===e[i].indexOf("public_")||(this[i]=e[i])}}}])&&n(t.prototype,r),i&&n(t,i),e}();t.a=i},function(e,t,r){"use strict";var n=r(3),i=r(12);function a(e){var t,r,n,a,o=(e=e||{}).eventBus,s=e.events,u=e.dashMetrics,c=e.fragmentLoader,l=e.debug,f=e.streamInfo,d=e.type;function p(e){var t;return!!e&&(t=!1,n.some((function(r){if(n=e,a=r,!isNaN(n.index)&&n.startTime===a.startTime&&n.adaptationIndex===a.adaptationIndex&&n.type===a.type||function(e,t){return isNaN(e.index)&&isNaN(t.index)&&e.quality===t.quality}(e,r)||function(e,t){return e.action===i.a.ACTION_COMPLETE&&e.action===t.action}(e,r))return t=!0;var n,a})),t)}function h(e){return isNaN(e.duration)?.25:Math.min(e.duration/8,.5)}function m(e){n=n.filter((function(t){var r=h(t);return isNaN(t.startTime)||void 0!==e&&t.startTime>=e-r}))}function _(e,t){t<=e+.5||(n=n.filter((function(r){var n=h(r);return isNaN(r.startTime)||r.startTime>=t-n||isNaN(r.duration)||r.startTime+r.duration<=e+n})))}function g(e,t,r){for(var n=e.length-1;n>=0;n--){var i=e[n],a=i.startTime,o=a+i.duration;if(r=isNaN(r)?h(i):r,!isNaN(a)&&!isNaN(o)&&t+r>=a&&t-r<o||isNaN(a)&&isNaN(t))return i}return null}function y(e,t){u.addSchedulingInfo(e,t),u.addRequestsQueue(e.mediaType,a,n)}function E(e){e.sender===c&&(a.splice(a.indexOf(e.request),1),e.response&&!e.error&&n.push(e.request),y(e.request,e.error?"failed":"executed"),o.trigger(s.FRAGMENT_LOADING_COMPLETED,{request:e.request,response:e.response,error:e.error,sender:this},{streamId:f.id,mediaType:d}))}function v(e){e.sender===c&&o.trigger(s.FRAGMENT_LOADING_PROGRESS,{request:e.request,response:e.response,error:e.error,sender:this},{streamId:f.id,mediaType:d})}function T(e){e.sender===c&&o.trigger(s.FRAGMENT_LOADING_ABANDONED,{request:e.request},{streamId:f.id,mediaType:d})}function b(){n=[],a=[]}return t={getStreamId:function(){return f.id},getType:function(){return d},getRequests:function(e){var t=e?e.state instanceof Array?e.state:[e.state]:[],r=[];return t.forEach((function(t){var i=function(e){var t;switch(e){case"loading":t=a;break;case"executed":t=n;break;default:t=[]}return t}(t);r=r.concat(function(e,t){if(t.hasOwnProperty("time"))return[g(e,t.time,t.threshold)];return e.filter((function(e){for(var r in t)if("state"!==r&&t.hasOwnProperty(r)&&e[r]!=t[r])return!1;return!0}))}(i,e))})),r},isFragmentLoaded:p,isFragmentLoadedOrPending:function(e){var t,r=!1,n=0;if(!(r=p(e)))for(n=0;n<a.length;n++)t=a[n],e.url===t.url&&e.startTime===t.startTime&&(r=!0);return r},removeExecutedRequestsBeforeTime:m,removeExecutedRequestsAfterTime:function(e){n=n.filter((function(t){return isNaN(t.startTime)||void 0!==e&&t.startTime<e}))},syncExecutedRequestsWithBufferedRange:function(e,t){if(e&&0!==e.length){for(var r=0,n=0,i=e.length;n<i;n++)_(r,e.start(n)),r=e.end(n);t>0&&_(r,t)}else m()},abortRequests:function(){r.debug("abort requests"),c.abort(),a=[]},executeRequest:function(e){switch(e.action){case i.a.ACTION_DOWNLOAD:y(e,"loading"),a.push(e),function(e){o.trigger(s.FRAGMENT_LOADING_STARTED,{request:e},{streamId:f.id,mediaType:d}),c.load(e)}(e);break;default:r.warn("Unknown request action.")}},reset:function(){o.off(s.LOADING_COMPLETED,E,this),o.off(s.LOADING_DATA_PROGRESS,v,this),o.off(s.LOADING_ABANDONED,T,this),c&&c.reset(),b()},resetInitialSettings:b,addExecutedRequest:function(e){n.push(e)}},r=l.getLogger(t),b(),o.on(s.LOADING_COMPLETED,E,t),o.on(s.LOADING_DATA_PROGRESS,v,t),o.on(s.LOADING_ABANDONED,T,t),t}a.__dashjs_factory_name="FragmentModel";var o=n.a.getClassFactory(a);o.FRAGMENT_MODEL_LOADING="loading",o.FRAGMENT_MODEL_EXECUTED="executed",o.FRAGMENT_MODEL_CANCELED="canceled",o.FRAGMENT_MODEL_FAILED="failed",n.a.updateClassFactory(a.__dashjs_factory_name,o),t.a=o},function(e,t,r){"use strict";var n=r(3),i=r(41);function a(e){e=e||{};var t,r,n=this.context;return t=Object(i.a)(n).getInstance(),{load:function(i){var a=t.getLoader(i&&i.request?i.request.url:null);(r=a(n).create({errHandler:e.errHandler,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,dashMetrics:e.dashMetrics,boxParser:e.boxParser?e.boxParser:null,constants:e.constants?e.constants:null,dashConstants:e.dashConstants?e.dashConstants:null,urlUtils:e.urlUtils?e.urlUtils:null,requestTimeout:isNaN(e.requestTimeout)?0:e.requestTimeout,errors:e.errors})).load(i)},abort:function(){r&&r.abort()}}}a.__dashjs_factory_name="URLLoader";var o=n.a.getClassFactory(a);t.a=o},function(e,t,r){"use strict";var n=r(6);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.offset=t._offset,this.type=t.type,this.size=t.size,this.boxes=[],t.boxes)for(var r=0;r<t.boxes.length;r++)this.boxes.push(new e(t.boxes[r]));switch(this.isComplete=!0,t.type){case"sidx":if(this.timescale=t.timescale,this.earliest_presentation_time=t.earliest_presentation_time,this.first_offset=t.first_offset,this.references=t.references,t.references){this.references=[];for(var n=0;n<t.references.length;n++){var i={reference_type:t.references[n].reference_type,referenced_size:t.references[n].referenced_size,subsegment_duration:t.references[n].subsegment_duration};this.references.push(i)}}break;case"emsg":this.id=t.id,this.version=1===t.version?1:0,this.value=t.value,this.timescale=t.timescale,this.scheme_id_uri=t.scheme_id_uri,this.presentation_time_delta=1===t.version?t.presentation_time:t.presentation_time_delta,this.event_duration=t.event_duration,this.message_data=t.message_data;break;case"mdhd":this.timescale=t.timescale;break;case"mfhd":this.sequence_number=t.sequence_number;break;case"subs":this.entry_count=t.entry_count,this.entries=t.entries;break;case"tfhd":this.base_data_offset=t.base_data_offset,this.sample_description_index=t.sample_description_index,this.default_sample_duration=t.default_sample_duration,this.default_sample_size=t.default_sample_size,this.default_sample_flags=t.default_sample_flags,this.flags=t.flags;break;case"tfdt":this.version=t.version,this.baseMediaDecodeTime=t.baseMediaDecodeTime,this.flags=t.flags;break;case"trun":if(this.sample_count=t.sample_count,this.first_sample_flags=t.first_sample_flags,this.data_offset=t.data_offset,this.flags=t.flags,this.samples=t.samples,t.samples){this.samples=[];for(var a=0,o=t.samples.length;a<o;a++){var s={sample_size:t.samples[a].sample_size,sample_duration:t.samples[a].sample_duration,sample_composition_time_offset:t.samples[a].sample_composition_time_offset};this.samples.push(s)}}}}var t,r,n;return t=e,(r=[{key:"getChildBox",value:function(e){for(var t=0;t<this.boxes.length;t++)if(this.boxes[t].type===e)return this.boxes[t]}},{key:"getChildBoxes",value:function(e){for(var t=[],r=0;r<this.boxes.length;r++)this.boxes[r].type===e&&t.push(this.boxes[r]);return t}}])&&i(t.prototype,r),n&&i(t,n),e}(),o=r(3);function s(){var e;function t(t){var n=[];if(!t||!e||"function"!=typeof e.fetchAll)return n;for(var i,a=e.fetchAll(t),o=0,s=a.length;o<s;o++)(i=r(a[o]))&&n.push(i);return n}function r(e){if(!e)return null;var t=new a(e);return e.hasOwnProperty("_incomplete")&&(t.isComplete=!e._incomplete),t}return{getBox:function(t){return t&&e&&e.boxes&&0!==e.boxes.length&&"function"==typeof e.fetch?r(e.fetch(t)):null},getBoxes:t,setData:function(t){e=t},getLastBox:function(){if(!e||!e.boxes||!e.boxes.length)return null;var r=t(e.boxes[e.boxes.length-1].type);return r.length>0?r[r.length-1]:null}}}s.__dashjs_factory_name="IsoFile";var u=o.a.getClassFactory(s),c=r(22),l=r.n(c);var f=function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lastCompletedOffset=t,this.found=r,this.size=n};function d(){var e,t,r=this.context;function i(e){if(!e)return null;void 0===e.fileStart&&(e.fileStart=0);var t=l.a.parseBuffer(e),n=u(r).create();return n.setData(t),n}function a(e,t){return e[t+3]>>>0|e[t+2]<<8>>>0|e[t+1]<<16>>>0|e[t]<<24>>>0}function o(e,t){return String.fromCharCode(e[t++])+String.fromCharCode(e[t++])+String.fromCharCode(e[t++])+String.fromCharCode(e[t])}return t={parse:i,findLastTopIsoBoxCompleted:function(e,t,r){if(void 0===r&&(r=0),!t||r+8>=t.byteLength)return new f(0,!1);for(var n,i=t instanceof ArrayBuffer?new Uint8Array(t):t,s=0;r<i.byteLength;){var u=a(i,r),c=o(i,r+4);if(0===u)break;r+u<=i.byteLength&&(e.indexOf(c)>=0?n=new f(r,!0,u):s=r+u),r+=u}return n||new f(s,!1)},getMediaTimescaleFromMoov:function(e){var t=i(e),r=t?t.getBox("mdhd"):void 0;return r?r.timescale:NaN},getSamplesInfo:function(e){if(!e||0===e.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var t,r,n,a,o,s,u,c,l,f,d,p,h,m,_,g,y=i(e),E=y.getBoxes("moof"),v=y.getBoxes("mfhd");_=y.getBoxes("moof").length,m=v[v.length-1].sequence_number,r=0,o=[];var T=-1,b=-1;for(f=0;f<E.length;f++){var A=E[f],I=A.getChildBoxes("traf");for(c=0;c<I.length;c++){var S=I[c],R=S.getChildBox("tfhd"),O=S.getChildBox("tfdt");a=O.baseMediaDecodeTime;var N=S.getChildBoxes("trun"),w=S.getChildBoxes("subs");for(l=0;l<N.length;l++){var D=N[l];for(r=D.sample_count,h=(R.base_data_offset||0)+(D.data_offset||0),u=0;u<r;u++){t=void 0!==(s=D.samples[u]).sample_duration?s.sample_duration:R.default_sample_duration,n=void 0!==s.sample_size?s.sample_size:R.default_sample_size;var P={dts:a,cts:a+(void 0!==s.sample_composition_time_offset?s.sample_composition_time_offset:0),duration:t,offset:A.offset+h,size:n,subSizes:[n]};if(w)for(d=0;d<w.length;d++){var C=w[d];if(T<C.entry_count-1&&u>b&&(T++,b+=C.entries[T].sample_delta),u==b){P.subSizes=[];var L=C.entries[T];for(p=0;p<L.subsample_count;p++)P.subSizes.push(L.subsamples[p].subsample_size)}}o.push(P),h+=n,a+=t}}g=a-O.baseMediaDecodeTime}}return{sampleList:o,lastSequenceNumber:m,totalDuration:g,numSequences:_}},findInitRange:function(t){var r=null,n=i(t);if(!n)return r;var a=n.getBox("ftyp"),o=n.getBox("moov");return e.debug("Searching for initialization."),o&&o.isComplete&&(r=(a?a.offset:o.offset)+"-"+(o.offset+o.size-1),e.debug("Found the initialization.  Range: "+r)),r},parsePayload:function(e,t,r){if(void 0===r&&(r=0),!t||r+8>=t.byteLength)return new f(0,!1);for(var n,i=t instanceof ArrayBuffer?new Uint8Array(t):t,s=0;r<i.byteLength;){var u=a(i,r),c=o(i,r+4);if(0===u)break;r+u<=i.byteLength&&(e.indexOf(c)>=0?n=new f(r,!0,u,c):s=r+u),r+=u}return n||new f(s,!1)}},e=Object(n.a)(r).getInstance().getLogger(t),t}d.__dashjs_factory_name="BoxParser";t.a=o.a.getSingletonFactory(d)},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){
/*! codem-isoboxer v0.3.6 https://github.com/madebyhiro/codem-isoboxer/blob/master/LICENSE.txt */
var n={parseBuffer:function(e){return new i(e).parse()},addBoxProcessor:function(e,t){"string"==typeof e&&"function"==typeof t&&(a.prototype._boxProcessors[e]=t)},createFile:function(){return new i},createBox:function(e,t,r){var n=a.create(e);return t&&t.append(n,r),n},createFullBox:function(e,t,r){var i=n.createBox(e,t,r);return i.version=0,i.flags=0,i},Utils:{}};n.Utils.dataViewToString=function(e,t){var r=t||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(r).decode(e);var n=[],i=0;if("utf-8"===r)for(;i<e.byteLength;){var a=e.getUint8(i++);a<128||(a<224?(a=(31&a)<<6,a|=63&e.getUint8(i++)):a<240?(a=(15&a)<<12,a|=(63&e.getUint8(i++))<<6,a|=63&e.getUint8(i++)):(a=(7&a)<<18,a|=(63&e.getUint8(i++))<<12,a|=(63&e.getUint8(i++))<<6,a|=63&e.getUint8(i++))),n.push(String.fromCharCode(a))}else for(;i<e.byteLength;)n.push(String.fromCharCode(e.getUint8(i++)));return n.join("")},n.Utils.utf8ToByteArray=function(e){var t,r;if("undefined"!=typeof TextEncoder)t=(new TextEncoder).encode(e);else for(t=[],r=0;r<e.length;++r){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?(t.push(192|n>>6),t.push(128|63&n)):n<65536?(t.push(224|n>>12),t.push(128|63&n>>6),t.push(128|63&n)):(t.push(240|n>>18),t.push(128|63&n>>12),t.push(128|63&n>>6),t.push(128|63&n))}return t},n.Utils.appendBox=function(e,t,r){if(t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,-1!==r)if(null!=r){var n,i=-1;if("number"==typeof r)i=r;else{if("string"==typeof r)n=r;else{if("object"!=typeof r||!r.type)return void e.boxes.push(t);n=r.type}for(var a=0;a<e.boxes.length;a++)if(n===e.boxes[a].type){i=a+1;break}}e.boxes.splice(i,0,t)}else e.boxes.push(t)},t.parseBuffer=n.parseBuffer,t.addBoxProcessor=n.addBoxProcessor,t.createFile=n.createFile,t.createBox=n.createBox,t.createFullBox=n.createFullBox,t.Utils=n.Utils,n.Cursor=function(e){this.offset=void 0===e?0:e};var i=function(e){this._cursor=new n.Cursor,this.boxes=[],e&&(this._raw=new DataView(e))};i.prototype.fetch=function(e){var t=this.fetchAll(e,!0);return t.length?t[0]:null},i.prototype.fetchAll=function(e,t){var r=[];return i._sweep.call(this,e,r,t),r},i.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var e=a.parse(this);if(void 0===e.type)break;this.boxes.push(e)}return this},i._sweep=function(e,t,r){for(var n in this.type&&this.type==e&&t.push(this),this.boxes){if(t.length&&r)return;i._sweep.call(this.boxes[n],e,t,r)}},i.prototype.write=function(){var e,t=0;for(e=0;e<this.boxes.length;e++)t+=this.boxes[e].getLength(!1);var r=new Uint8Array(t);for(this._rawo=new DataView(r.buffer),this.bytes=r,this._cursor.offset=0,e=0;e<this.boxes.length;e++)this.boxes[e].write();return r.buffer},i.prototype.append=function(e,t){n.Utils.appendBox(this,e,t)};var a=function(){this._cursor=new n.Cursor};a.parse=function(e){var t=new a;return t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,t._parseBox(),e._cursor.offset=t._raw.byteOffset+t._raw.byteLength,t},a.create=function(e){var t=new a;return t.type=e,t.boxes=[],t},a.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],a.prototype._boxProcessors={},a.prototype._procField=function(e,t,r){this._parsing?this[e]=this._readField(t,r):this._writeField(t,r,this[e])},a.prototype._procFieldArray=function(e,t,r,n){var i;if(this._parsing)for(this[e]=[],i=0;i<t;i++)this[e][i]=this._readField(r,n);else for(i=0;i<this[e].length;i++)this._writeField(r,n,this[e][i])},a.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},a.prototype._procEntries=function(e,t,r){var n;if(this._parsing)for(this[e]=[],n=0;n<t;n++)this[e].push({}),r.call(this,this[e][n]);else for(n=0;n<t;n++)r.call(this,this[e][n])},a.prototype._procSubEntries=function(e,t,r,n){var i;if(this._parsing)for(e[t]=[],i=0;i<r;i++)e[t].push({}),n.call(this,e[t][i]);else for(i=0;i<r;i++)n.call(this,e[t][i])},a.prototype._procEntryField=function(e,t,r,n){this._parsing?e[t]=this._readField(r,n):this._writeField(r,n,e[t])},a.prototype._procSubBoxes=function(e,t){var r;if(this._parsing)for(this[e]=[],r=0;r<t;r++)this[e].push(a.parse(this));else for(r=0;r<t;r++)this._rawo?this[e][r].write():this.size+=this[e][r].getLength()},a.prototype._readField=function(e,t){switch(e){case"uint":return this._readUint(t);case"int":return this._readInt(t);case"template":return this._readTemplate(t);case"string":return-1===t?this._readTerminatedString():this._readString(t);case"data":return this._readData(t);case"utf8":return this._readUTF8String();default:return-1}},a.prototype._readInt=function(e){var t=null,r=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:t=this._raw.getInt8(r);break;case 16:t=this._raw.getInt16(r);break;case 32:t=this._raw.getInt32(r);break;case 64:var n=this._raw.getInt32(r),i=this._raw.getInt32(r+4);t=n*Math.pow(2,32)+i}return this._cursor.offset+=e>>3,t},a.prototype._readUint=function(e){var t,r,n=null,i=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:n=this._raw.getUint8(i);break;case 16:n=this._raw.getUint16(i);break;case 24:n=((t=this._raw.getUint16(i))<<8)+(r=this._raw.getUint8(i+2));break;case 32:n=this._raw.getUint32(i);break;case 64:t=this._raw.getUint32(i),r=this._raw.getUint32(i+4),n=t*Math.pow(2,32)+r}return this._cursor.offset+=e>>3,n},a.prototype._readString=function(e){for(var t="",r=0;r<e;r++){var n=this._readUint(8);t+=String.fromCharCode(n)}return t},a.prototype._readTemplate=function(e){return this._readUint(e/2)+this._readUint(e/2)/Math.pow(2,e/2)},a.prototype._readTerminatedString=function(){for(var e="";this._cursor.offset-this._offset<this._raw.byteLength;){var t=this._readUint(8);if(0===t)break;e+=String.fromCharCode(t)}return e},a.prototype._readData=function(e){var t=e>0?e:this._raw.byteLength-(this._cursor.offset-this._offset);if(t>0){var r=new Uint8Array(this._raw.buffer,this._cursor.offset,t);return this._cursor.offset+=t,r}return null},a.prototype._readUTF8String=function(){var e=this._raw.byteLength-(this._cursor.offset-this._offset),t=null;return e>0&&(t=new DataView(this._raw.buffer,this._cursor.offset,e),this._cursor.offset+=e),t?n.Utils.dataViewToString(t):t},a.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},a.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},a.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(a.parse(this))},a.prototype.append=function(e,t){n.Utils.appendBox(this,e,t)},a.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var e=0;e<this.boxes.length;e++)this.size+=this.boxes[e].getLength();return this._data&&this._writeData(this._data),this.size},a.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var e=0;e<this.boxes.length;e++)this.boxes[e].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},a.prototype._writeInt=function(e,t){if(this._rawo){var r=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setInt8(r,t);break;case 16:this._rawo.setInt16(r,t);break;case 32:this._rawo.setInt32(r,t);break;case 64:var n=Math.floor(t/Math.pow(2,32)),i=t-n*Math.pow(2,32);this._rawo.setUint32(r,n),this._rawo.setUint32(r+4,i)}this._cursor.offset+=e>>3}else this.size+=e>>3},a.prototype._writeUint=function(e,t){if(this._rawo){var r,n,i=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setUint8(i,t);break;case 16:this._rawo.setUint16(i,t);break;case 24:r=(16776960&t)>>8,n=255&t,this._rawo.setUint16(i,r),this._rawo.setUint8(i+2,n);break;case 32:this._rawo.setUint32(i,t);break;case 64:n=t-(r=Math.floor(t/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(i,r),this._rawo.setUint32(i+4,n)}this._cursor.offset+=e>>3}else this.size+=e>>3},a.prototype._writeString=function(e,t){for(var r=0;r<e;r++)this._writeUint(8,t.charCodeAt(r))},a.prototype._writeTerminatedString=function(e){if(0!==e.length){for(var t=0;t<e.length;t++)this._writeUint(8,e.charCodeAt(t));this._writeUint(8,0)}},a.prototype._writeTemplate=function(e,t){var r=Math.floor(t),n=(t-r)*Math.pow(2,e/2);this._writeUint(e/2,r),this._writeUint(e/2,n)},a.prototype._writeData=function(e){if(e)if(this._rawo){if(e instanceof Array){for(var t=this._cursor.offset-this._rawo.byteOffset,r=0;r<e.length;r++)this._rawo.setInt8(t+r,e[r]);this._cursor.offset+=e.length}e instanceof Uint8Array&&(this._root.bytes.set(e,this._cursor.offset),this._cursor.offset+=e.length)}else this.size+=e.length},a.prototype._writeUTF8String=function(e){var t=n.Utils.utf8ToByteArray(e);if(this._rawo)for(var r=new DataView(this._rawo.buffer,this._cursor.offset,t.length),i=0;i<t.length;i++)r.setUint8(i,t[i]);else this.size+=t.length},a.prototype._writeField=function(e,t,r){switch(e){case"uint":this._writeUint(t,r);break;case"int":this._writeInt(t,r);break;case"template":this._writeTemplate(t,r);break;case"string":-1==t?this._writeTerminatedString(r):this._writeString(t,r);break;case"data":this._writeData(r);break;case"utf8":this._writeUTF8String(r)}},a.prototype._boxProcessors.avc1=a.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},a.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},a.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"segment_duration","uint",1===this.version?64:32),this._procEntryField(e,"media_time","int",1===this.version?64:32),this._procEntryField(e,"media_rate_integer","int",16),this._procEntryField(e,"media_rate_fraction","int",16)}))},a.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},a.prototype._boxProcessors.free=a.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},a.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},a.prototype._boxProcessors.ftyp=a.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var e=-1;this._parsing&&(e=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",e,"string",4)},a.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},a.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},a.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._parsing||"string"!=typeof this.language||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},a.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},a.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},a.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},a.prototype._boxProcessors.mp4a=a.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},a.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},a.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},a.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},a.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},a.prototype._boxProcessors.sdtp=function(){this._procFullBox();var e=-1;this._parsing&&(e=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",e,"uint",8)},a.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,(function(e){this._parsing||(e.reference=(1&e.reference_type)<<31,e.reference|=2147483647&e.referenced_size,e.sap=(1&e.starts_with_SAP)<<31,e.sap|=(3&e.SAP_type)<<28,e.sap|=268435455&e.SAP_delta_time),this._procEntryField(e,"reference","uint",32),this._procEntryField(e,"subsegment_duration","uint",32),this._procEntryField(e,"sap","uint",32),this._parsing&&(e.reference_type=e.reference>>31&1,e.referenced_size=2147483647&e.reference,e.starts_with_SAP=e.sap>>31&1,e.SAP_type=e.sap>>28&7,e.SAP_delta_time=268435455&e.sap)}))},a.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},a.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,(function(e){this._procEntryField(e,"ranges_count","uint",32),this._procSubEntries(e,"ranges",e.ranges_count,(function(e){this._procEntryField(e,"level","uint",8),this._procEntryField(e,"range_size","uint",24)}))}))},a.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},a.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(e){this._procEntryField(e,"sample_delta","uint",32),this._procEntryField(e,"subsample_count","uint",16),this._procSubEntries(e,"subsamples",e.subsample_count,(function(e){this._procEntryField(e,"subsample_size","uint",1===this.version?32:16),this._procEntryField(e,"subsample_priority","uint",8),this._procEntryField(e,"discardable","uint",8),this._procEntryField(e,"codec_specific_parameters","uint",32)}))}))},a.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},a.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},a.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},a.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,(function(e){this._procEntryField(e,"time","uint",1===this.version?64:32),this._procEntryField(e,"moof_offset","uint",1===this.version?64:32),this._procEntryField(e,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(e,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(e,"sample_number","uint",8*(this.length_size_of_sample_num+1))}))},a.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},a.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},a.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,(function(e){256&this.flags&&this._procEntryField(e,"sample_duration","uint",32),512&this.flags&&this._procEntryField(e,"sample_size","uint",32),1024&this.flags&&this._procEntryField(e,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(e,"sample_composition_time_offset",1===this.version?"int":"uint",32)}))},a.prototype._boxProcessors["url "]=a.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},a.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},a.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},a.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},a.prototype._boxProcessors.vtte=function(){}},function(e,t,r){"use strict";var n=r(3);function i(){return{modifyRequestURL:function(e){return e},modifyRequestHeader:function(e){return e}}}i.__dashjs_factory_name="RequestModifier",t.a=n.a.getSingletonFactory(i)},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,i;return t=e,(r=[{key:"extend",value:function(e,t){if(e){var r=!!t&&t.override,n=!!t&&t.publicOnly;for(var i in e)!e.hasOwnProperty(i)||this[i]&&!r||n&&-1===e[i].indexOf("public_")||(this[i]=e[i])}}}])&&n(t.prototype,r),i&&n(t,i),e}();t.a=i},function(e,t,r){"use strict";var n=r(3);function i(e){var t=(e=e||{}).requestModifier;return{load:function(e){var r=new Date,n=e.request,i=new XMLHttpRequest;if(i.open(e.method,e.url,!0),n.responseType&&(i.responseType=n.responseType),n.range&&i.setRequestHeader("Range","bytes="+n.range),n.requestStartDate||(n.requestStartDate=r),t&&(i=t.modifyRequestHeader(i)),e.headers)for(var a in e.headers){var o=e.headers[a];o&&i.setRequestHeader(a,o)}i.withCredentials=e.withCredentials,i.onload=e.onload,i.onloadend=e.onend,i.onerror=e.onerror,i.onprogress=e.progress,i.onabort=e.onabort,i.ontimeout=e.ontimeout,i.timeout=e.timeout,i.send(),e.response=i},abort:function(e){var t=e.response;t.onloadend=t.onerror=t.onprogress=void 0,t.abort()}}}i.__dashjs_factory_name="XHRLoader";var a=n.a.getClassFactory(i);t.a=a},function(e,t){var r,n,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";t.a=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null}},function(e,t,r){"use strict";var n=r(1),i=r(0);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}var t,r,n;return t=e,(r=[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==i.a.BASE_URL&&this.segmentInfoType!==i.a.SEGMENT_BASE&&!this.indexRange}}])&&a(t.prototype,r),n&&a(t,n),e}();var s=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.period=null,this.index=-1,this.type=null};var u=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null};u.DEFAULT_ID="defaultId";var c=u;var l=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN},f=r(37),d=r(38),p=r(33);var h=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0},m=r(39),_=r(11),g=r(3),y=r(6),E=r(8),v=r(9),T=r(29);function b(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(){var e,t,r,a,u=this.context,g=Object(_.a)(u).getInstance(),A=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function I(e,t){if(!e)throw new Error("adaptation is not defined");if(!t)throw new Error("type is not defined");if(e.Representation_asArray&&e.Representation_asArray.length){var r=F(e.Representation_asArray[0]);if(r&&r.length>0&&T.a.indexOf(r[0].schemeIdUri)>=0)return t===n.a.IMAGE}if(e.ContentComponent_asArray&&e.ContentComponent_asArray.length>0){if(e.ContentComponent_asArray.length>1)return t===n.a.MUXED;if(e.ContentComponent_asArray[0].contentType===t)return!0}var a=t===n.a.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(t);if(e.Representation_asArray&&e.Representation_asArray.length){var o=e.Representation_asArray[0].codecs;if(a.test(o))return!0}if(e.hasOwnProperty(i.a.MIME_TYPE))return a.test(e.mimeType);if(e.Representation_asArray)for(var s,u=0;u<e.Representation_asArray.length;u++)if((s=e.Representation_asArray[u]).hasOwnProperty(i.a.MIME_TYPE))return a.test(s.mimeType);return!1}function S(e){if(!e)throw new Error("adaptation is not defined");if(e.hasOwnProperty(i.a.SEGMENT_TEMPLATE)||e.hasOwnProperty(i.a.SEGMENT_TIMELINE)||e.hasOwnProperty(i.a.SEGMENT_LIST)||e.hasOwnProperty(i.a.SEGMENT_BASE))return!0;if(e.Representation_asArray&&e.Representation_asArray.length>0){var t=e.Representation_asArray[0];if(t.hasOwnProperty(i.a.SEGMENT_TEMPLATE)||t.hasOwnProperty(i.a.SEGMENT_TIMELINE)||t.hasOwnProperty(i.a.SEGMENT_LIST)||t.hasOwnProperty(i.a.SEGMENT_BASE))return!0}return!1}function R(e){return I(e,n.a.AUDIO)}function O(e){return I(e,n.a.VIDEO)}function N(e){return I(e,n.a.TEXT)}function w(e){return I(e,n.a.IMAGE)}function D(){return function(e,t){return e.bandwidth-t.bandwidth}}function P(e){return e&&Array.isArray(e.Representation_asArray)&&e.Representation_asArray.sort((function(e,t){return e.bandwidth-t.bandwidth})),e}function C(e,t){return e&&e.Period_asArray&&A(t)&&e.Period_asArray[t]?e.Period_asArray[t].AdaptationSet_asArray:[]}function L(e){return e&&e.Period_asArray?e.Period_asArray:[]}function M(e){var t=!1;return e&&e.hasOwnProperty("type")&&(t=e.type===i.a.DYNAMIC),t}function F(e){return e&&e.EssentialProperty_asArray&&e.EssentialProperty_asArray.length?e.EssentialProperty_asArray.map((function(e){return{schemeIdUri:e.schemeIdUri,value:e.value}})):null}function x(e){if(!e||!e.S_asArray)return NaN;var t=e.S_asArray[0],r=e.S_asArray[1];return t.hasOwnProperty("d")?t.d:r.t-t.t}function U(e,t){if(!e)throw new Error("Period cannot be null or undefined");var r=c.DEFAULT_ID+"_"+t;return e.hasOwnProperty(i.a.ID)&&e.id.length>0&&"__proto__"!==e.id&&(r=e.id),r}function B(e,t){var r,a=[];if(!e)return a;for(r=0;r<e.length;r++){var o=new h;if(o.timescale=1,o.representation=t,!e[r].hasOwnProperty(n.a.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");o.schemeIdUri=e[r].schemeIdUri,e[r].hasOwnProperty(i.a.TIMESCALE)&&(o.timescale=e[r].timescale),e[r].hasOwnProperty(i.a.VALUE)&&(o.value=e[r].value),a.push(o)}return a}function G(e){var t=[],r=e.BaseURL_asArray||[e.baseUri],n=!1;return r.some((function(r){if(r){var a=new p.a,o=r.__text||r;return g.isRelative(o)&&(n=!0,e.baseUri&&(o=g.resolve(o,e.baseUri))),a.url=o,r.hasOwnProperty(i.a.SERVICE_LOCATION)&&r.serviceLocation.length?a.serviceLocation=r.serviceLocation:a.serviceLocation=o,r.hasOwnProperty(i.a.DVB_PRIORITY)&&(a.dvb_priority=r[i.a.DVB_PRIORITY]),r.hasOwnProperty(i.a.DVB_WEIGHT)&&(a.dvb_weight=r[i.a.DVB_WEIGHT]),r.hasOwnProperty(i.a.AVAILABILITY_TIME_OFFSET)&&(a.availabilityTimeOffset=r[i.a.AVAILABILITY_TIME_OFFSET]),r.hasOwnProperty(i.a.AVAILABILITY_TIME_COMPLETE)&&(a.availabilityTimeComplete="false"!==r[i.a.AVAILABILITY_TIME_COMPLETE]),t.push(a),n}})),t}return e={getIsTypeOf:I,getIsText:N,getIsFragmented:S,getLanguageForAdaptation:function(e){var t="";return e&&e.hasOwnProperty(i.a.LANG)&&(t=e.lang.replace(/[^A-Za-z0-9-]/g,"")),t},getViewpointForAdaptation:function(e){return e&&e.hasOwnProperty(i.a.VIEWPOINT)?e.Viewpoint:null},getRolesForAdaptation:function(e){return e&&e.hasOwnProperty(i.a.ROLE_ASARRAY)?e.Role_asArray:[]},getAccessibilityForAdaptation:function(e){return e&&e.hasOwnProperty(i.a.ACCESSIBILITY_ASARRAY)?e.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function(e){return e&&e.hasOwnProperty(i.a.AUDIOCHANNELCONFIGURATION_ASARRAY)?e.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function(e){return e&&e.hasOwnProperty(i.a.AUDIOCHANNELCONFIGURATION_ASARRAY)?e.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function(e,t,r){var n=C(t,r);return n.length>0&&A(e)?n[e]:null},getIndexForAdaptation:function(e,t,r){if(!e)return-1;for(var n=C(t,r),i=0;i<n.length;i++){if(Object(m.a)(u).getInstance().areEqual(n[i],e))return i}return-1},getAdaptationForId:function(e,t,r){var n,a,o=C(t,r);for(n=0,a=o.length;n<a;n++)if(o[n].hasOwnProperty(i.a.ID)&&o[n].id===e)return o[n];return null},getAdaptationsForType:function(e,t,r){var n,i,a=C(e,t),o=[];for(n=0,i=a.length;n<i;n++)I(a[n],r)&&o.push(P(a[n]));return o},getRealPeriods:L,getRealPeriodForIndex:function(e,t){var r=L(t);return r.length>0&&A(e)?r[e]:null},getCodec:function(e,t,r){var n=null;if(e&&e.Representation_asArray&&e.Representation_asArray.length>0){var i=A(t)&&t>=0&&t<e.Representation_asArray.length?e.Representation_asArray[t]:e.Representation_asArray[0];i&&(n=i.mimeType+';codecs="'+i.codecs+'"',r&&void 0!==i.width&&(n+=';width="'+i.width+'";height="'+i.height+'"'))}return n&&(n=n.replace(/\sprofiles=[^;]*/g,"")),n},getSelectionPriority:function(e){try{var t=e&&void 0!==e.selectionPriority?parseInt(e.selectionPriority):1;return isNaN(t)?1:t}catch(e){return 1}},getMimeType:function(e){return e&&e.Representation_asArray&&e.Representation_asArray.length>0?e.Representation_asArray[0].mimeType:null},getKID:function(e){return e&&e.hasOwnProperty(i.a.CENC_DEFAULT_KID)?e[i.a.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(e){if(!e||!Array.isArray(e.Label_asArray))return[];for(var t=[],r=0;r<e.Label_asArray.length;r++)t.push({lang:e.Label_asArray[r].lang,text:e.Label_asArray[r].__text||e.Label_asArray[r]});return t},getContentProtectionData:function(e){return e&&e.hasOwnProperty(i.a.CONTENTPROTECTION_ASARRAY)&&0!==e.ContentProtection_asArray.length?e.ContentProtection_asArray:null},getIsDynamic:M,getId:function(e){return e&&e[i.a.ID]||null},hasProfile:function(e,t){var r=!1;return e&&e.profiles&&e.profiles.length>0&&(r=-1!==e.profiles.indexOf(t)),r},getDuration:function(e){return e&&e.hasOwnProperty(i.a.MEDIA_PRESENTATION_DURATION)?e.mediaPresentationDuration:e&&"dynamic"==e.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function(e){return e&&e.bandwidth?e.bandwidth:NaN},getManifestUpdatePeriod:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=NaN;return e&&e.hasOwnProperty(i.a.MINIMUM_UPDATE_PERIOD)&&(r=e.minimumUpdatePeriod),isNaN(r)?r:Math.max(r-t,1)},getPublishTime:function(e){return e&&e.hasOwnProperty(i.a.PUBLISH_TIME)?new Date(e[i.a.PUBLISH_TIME]):null},getRepresentationCount:function(e){return e&&Array.isArray(e.Representation_asArray)?e.Representation_asArray.length:0},getBitrateListForAdaptation:function(e){var t=P(e);return(t&&Array.isArray(t.Representation_asArray)?t.Representation_asArray:[]).map((function(e){return{bandwidth:e.bandwidth,width:e.width||0,height:e.height||0,scanType:e.scanType||null,id:e.id||null}}))},getRepresentationFor:function(e,t){return t&&t.Representation_asArray&&t.Representation_asArray.length>0&&A(e)?t.Representation_asArray[e]:null},getRepresentationsForAdaptation:function(e){var t,r,n,a,s=[],u=function(e){if(e&&e.period&&A(e.period.index)){var t=e.period.mpd.manifest.Period_asArray[e.period.index];if(t&&t.AdaptationSet_asArray&&A(e.index))return P(t.AdaptationSet_asArray[e.index])}}(e);if(u&&u.Representation_asArray){if(e&&e.period&&A(e.period.index)){var c=G(e.period.mpd.manifest);c&&(r=c[0])}for(var l=0,f=u.Representation_asArray.length;l<f;++l){var d=u.Representation_asArray[l],p=new o;if(p.index=l,p.adaptation=e,d.hasOwnProperty(i.a.ID)&&(p.id=d.id),d.hasOwnProperty(i.a.CODECS)&&(p.codecs=d.codecs),d.hasOwnProperty(i.a.MIME_TYPE)&&(p.mimeType=d[i.a.MIME_TYPE]),d.hasOwnProperty(i.a.CODEC_PRIVATE_DATA)&&(p.codecPrivateData=d.codecPrivateData),d.hasOwnProperty(i.a.BANDWITH)&&(p.bandwidth=d.bandwidth),d.hasOwnProperty(i.a.WIDTH)&&(p.width=d.width),d.hasOwnProperty(i.a.HEIGHT)&&(p.height=d.height),d.hasOwnProperty(i.a.SCAN_TYPE)&&(p.scanType=d.scanType),d.hasOwnProperty(i.a.MAX_PLAYOUT_RATE)&&(p.maxPlayoutRate=d.maxPlayoutRate),d.hasOwnProperty(i.a.SEGMENT_BASE)?(t=d.SegmentBase,p.segmentInfoType=i.a.SEGMENT_BASE):d.hasOwnProperty(i.a.SEGMENT_LIST)?(t=d.SegmentList).hasOwnProperty(i.a.SEGMENT_TIMELINE)?p.segmentInfoType=i.a.SEGMENT_TIMELINE:p.segmentInfoType=i.a.SEGMENT_LIST:d.hasOwnProperty(i.a.SEGMENT_TEMPLATE)?((t=d.SegmentTemplate).hasOwnProperty(i.a.SEGMENT_TIMELINE)?p.segmentInfoType=i.a.SEGMENT_TIMELINE:p.segmentInfoType=i.a.SEGMENT_TEMPLATE,t.hasOwnProperty(i.a.INITIALIZATION_MINUS)&&(p.initialization=t.initialization.split("$Bandwidth$").join(d.bandwidth).split("$RepresentationID$").join(d.id))):p.segmentInfoType=i.a.BASE_URL,p.essentialProperties=F(d),t){if(t.hasOwnProperty(i.a.INITIALIZATION)){var h=t.Initialization;h.hasOwnProperty(i.a.SOURCE_URL)&&(p.initialization=h.sourceURL),h.hasOwnProperty(i.a.RANGE)&&(p.range=h.range)}else N(u)&&S(u)&&u.mimeType&&-1===u.mimeType.indexOf("application/mp4")&&(p.range=0);t.hasOwnProperty(i.a.TIMESCALE)&&(p.timescale=t.timescale),t.hasOwnProperty(i.a.DURATION)?p.segmentDuration=t.duration/p.timescale:d.hasOwnProperty(i.a.SEGMENT_TEMPLATE)&&(t=d.SegmentTemplate).hasOwnProperty(i.a.SEGMENT_TIMELINE)&&(p.segmentDuration=x(t.SegmentTimeline)/p.timescale),t.hasOwnProperty(i.a.MEDIA)&&(p.media=t.media),t.hasOwnProperty(i.a.START_NUMBER)&&(p.startNumber=t.startNumber),t.hasOwnProperty(i.a.INDEX_RANGE)&&(p.indexRange=t.indexRange),t.hasOwnProperty(i.a.PRESENTATION_TIME_OFFSET)&&(p.presentationTimeOffset=t.presentationTimeOffset/p.timescale),t.hasOwnProperty(i.a.AVAILABILITY_TIME_OFFSET)?p.availabilityTimeOffset=t.availabilityTimeOffset:r&&void 0!==r.availabilityTimeOffset&&(p.availabilityTimeOffset=r.availabilityTimeOffset),t.hasOwnProperty(i.a.AVAILABILITY_TIME_COMPLETE)?p.availabilityTimeComplete="false"!==t.availabilityTimeComplete:r&&void 0!==r.availabilityTimeComplete&&(p.availabilityTimeComplete=r.availabilityTimeComplete)}p.MSETimeOffset=(a=void 0,void 0,a=(n=p).presentationTimeOffset,n.adaptation.period.start-a),p.path=[e.period.index,e.index,l],s.push(p)}}return s},getAdaptationsForPeriod:function(e){var r,a,o,u=e&&A(e.index)?e.mpd.manifest.Period_asArray[e.index]:null,c=[];if(u&&u.AdaptationSet_asArray)for(o=0;o<u.AdaptationSet_asArray.length;o++)a=u.AdaptationSet_asArray[o],r=new s,a.hasOwnProperty(i.a.ID)&&(r.id=a.id),r.index=o,r.period=e,I(a,n.a.MUXED)?r.type=n.a.MUXED:R(a)?r.type=n.a.AUDIO:O(a)?r.type=n.a.VIDEO:N(a)?r.type=n.a.TEXT:w(a)?r.type=n.a.IMAGE:t.warn("Unknown Adaptation stream type"),c.push(r);return c},getRegularPeriods:function(e){var a,o,s=!!e&&M(e.manifest),u=[],l=null,f=null,d=null,p=null;for(o=0,a=e&&e.manifest&&e.manifest.Period_asArray?e.manifest.Period_asArray.length:0;o<a;o++)(f=e.manifest.Period_asArray[o]).hasOwnProperty(i.a.START)?(p=new c).start=f.start:null!==l&&l.hasOwnProperty(i.a.DURATION)&&null!==d?(p=new c).start=parseFloat((d.start+d.duration).toFixed(5)):0!==o||s||((p=new c).start=0),null!==d&&isNaN(d.duration)&&(null!==p?d.duration=parseFloat((p.start-d.start).toFixed(5)):t.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==p&&(p.id=U(f,o),p.index=o,p.mpd=e,f.hasOwnProperty(i.a.DURATION)&&(p.duration=f.duration),d&&(d.nextPeriodId=p.id),u.push(p),l=f,d=p),f=null,p=null;return 0===u.length||null!==d&&isNaN(d.duration)&&(d.duration=parseFloat((function(e){!function(){if(!r||!r.hasOwnProperty("error"))throw new Error(n.a.MISSING_CONFIG_ERROR)}();var t,i=M(e.mpd.manifest);e.mpd.manifest.mediaPresentationDuration?t=e.mpd.manifest.mediaPresentationDuration:e.duration?t=e.duration:i?t=Number.POSITIVE_INFINITY:r.error(new E.a(v.a.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",e));return t}(d)-d.start).toFixed(5))),u},getMpd:function(e){var t=new l;return e&&(t.manifest=e,e.hasOwnProperty(i.a.AVAILABILITY_START_TIME)?t.availabilityStartTime=new Date(e.availabilityStartTime.getTime()):e.loadedTime&&(t.availabilityStartTime=new Date(e.loadedTime.getTime())),e.hasOwnProperty(i.a.AVAILABILITY_END_TIME)&&(t.availabilityEndTime=new Date(e.availabilityEndTime.getTime())),e.hasOwnProperty(i.a.MINIMUM_UPDATE_PERIOD)&&(t.minimumUpdatePeriod=e.minimumUpdatePeriod),e.hasOwnProperty(i.a.MEDIA_PRESENTATION_DURATION)&&(t.mediaPresentationDuration=e.mediaPresentationDuration),e.hasOwnProperty(i.a.SUGGESTED_PRESENTATION_DELAY)&&(t.suggestedPresentationDelay=e.suggestedPresentationDelay),e.hasOwnProperty(i.a.TIMESHIFT_BUFFER_DEPTH)&&(t.timeShiftBufferDepth=e.timeShiftBufferDepth),e.hasOwnProperty(i.a.MAX_SEGMENT_DURATION)&&(t.maxSegmentDuration=e.maxSegmentDuration),e.hasOwnProperty(i.a.PUBLISH_TIME)&&(t.publishTime=new Date(e.publishTime))),t},getEventsForPeriod:function(e){var t,r,o=e&&e.mpd&&e.mpd.manifest?e.mpd.manifest:null,s=o?o.Period_asArray:null,u=s&&e&&A(e.index)?s[e.index].EventStream_asArray:null,c=[];if(u)for(t=0;t<u.length;t++){var l=new h;if(l.period=e,l.timescale=1,!u[t].hasOwnProperty(n.a.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(l.schemeIdUri=u[t][n.a.SCHEME_ID_URI],u[t].hasOwnProperty(i.a.TIMESCALE)&&(l.timescale=u[t][i.a.TIMESCALE]),u[t].hasOwnProperty(i.a.VALUE)&&(l.value=u[t][i.a.VALUE]),u[t].hasOwnProperty(i.a.PRESENTATION_TIME_OFFSET)&&(l.presentationTimeOffset=u[t][i.a.PRESENTATION_TIME_OFFSET]),r=0;u[t].Event_asArray&&r<u[t].Event_asArray.length;r++){var f=u[t].Event_asArray[r],p=new d.a;if(p.presentationTime=0,p.eventStream=l,f.hasOwnProperty(i.a.PRESENTATION_TIME)){p.presentationTime=f.presentationTime;var m=l.presentationTimeOffset?l.presentationTimeOffset/l.timescale:0;p.calculatedPresentationTime=p.presentationTime/l.timescale+e.start-m}f.hasOwnProperty(i.a.DURATION)&&(p.duration=f.duration/l.timescale),f.hasOwnProperty(i.a.ID)&&(p.id=f.id),f.Signal&&f.Signal.Binary?p.messageData=a.decodeArray(f.Signal.Binary.toString()):p.messageData=f.messageData||f.__text,c.push(p)}}return c},getEssentialPropertiesForRepresentation:F,getEventStreamForAdaptationSet:function(e,t){var r,n,i;return e&&e.Period_asArray&&t&&t.period&&A(t.period.index)&&(n=e.Period_asArray[t.period.index])&&n.AdaptationSet_asArray&&A(t.index)&&(i=n.AdaptationSet_asArray[t.index])&&(r=i.InbandEventStream_asArray),B(r,null)},getEventStreamForRepresentation:function(e,t){var r,n,i,a;return e&&e.Period_asArray&&t&&t.adaptation&&t.adaptation.period&&A(t.adaptation.period.index)&&(n=e.Period_asArray[t.adaptation.period.index])&&n.AdaptationSet_asArray&&A(t.adaptation.index)&&(i=n.AdaptationSet_asArray[t.adaptation.index])&&i.Representation_asArray&&A(t.index)&&(a=i.Representation_asArray[t.index])&&(r=a.InbandEventStream_asArray),B(r,t)},getUTCTimingSources:function(e){var t=M(e),r=!!e&&e.hasOwnProperty(i.a.AVAILABILITY_START_TIME),a=e?e.UTCTiming_asArray:null,o=[];return(t||r)&&a&&a.forEach((function(e){var t=new f.a;e.hasOwnProperty(n.a.SCHEME_ID_URI)&&(t.schemeIdUri=e.schemeIdUri,e.hasOwnProperty(i.a.VALUE)&&(t.value=e.value.toString(),o.push(t)))})),o},getBaseURLsFromElement:G,getRepresentationSortFunction:D,getLocation:function(e){if(e&&e.hasOwnProperty(n.a.LOCATION))return e.Location=e.Location_asArray[0],e.Location},getPatchLocation:function(e){if(e&&e.hasOwnProperty(i.a.PATCH_LOCATION))return e.PatchLocation=e.PatchLocation_asArray[0],e.PatchLocation},getSuggestedPresentationDelay:function(e){return e&&e.hasOwnProperty(i.a.SUGGESTED_PRESENTATION_DELAY)?e.suggestedPresentationDelay:null},getAvailabilityStartTime:function(e){return e&&e.hasOwnProperty(i.a.AVAILABILITY_START_TIME)&&null!==e.availabilityStartTime?e.availabilityStartTime.getTime():null},getServiceDescriptions:function(e){var t=[];if(e&&e.hasOwnProperty(i.a.SERVICE_DESCRIPTION)){var r,a=b(e.ServiceDescription_asArray);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=void 0,u=void 0,c=void 0,l=void 0;for(var f in o)o.hasOwnProperty(f)&&(f===i.a.ID?s=o[f]:f===i.a.SERVICE_DESCRIPTION_SCOPE?u=o[f].schemeIdUri:f===i.a.SERVICE_DESCRIPTION_LATENCY?c={target:o[f].target,max:o[f].max,min:o[f].min}:f===i.a.SERVICE_DESCRIPTION_PLAYBACK_RATE&&(l={max:o[f].max,min:o[f].min}));u===n.a.SERVICE_DESCRIPTION_LL_SCHEME&&(c||l)&&t.push({id:s,schemeIdUri:u,latency:c,playbackRate:l})}}catch(e){a.e(e)}finally{a.f()}}return t},getSupplementalProperties:function(e){var t={};if(e&&e.hasOwnProperty(i.a.SUPPLEMENTAL_PROPERTY)){var r,a=b(e.SupplementalProperty_asArray);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.hasOwnProperty(n.a.SCHEME_ID_URI)&&o.hasOwnProperty(i.a.VALUE)&&(t[o[n.a.SCHEME_ID_URI]]=o[i.a.VALUE])}}catch(e){a.e(e)}finally{a.f()}}return t},setConfig:function(e){e&&(e.errHandler&&(r=e.errHandler),e.BASE64&&(a=e.BASE64))}},t=Object(y.a)(u).getInstance().getLogger(e),e}I.__dashjs_factory_name="DashManifestModel";t.a=g.a.getSingletonFactory(I)},function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(1),i=r(0),a=r(3);var o=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""},s=r(11),u=r(10),c=r(20),l=r(25),f=r(31),d=r(32),p=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function h(e){var t,r,a,h,m,_,g,y,E=this.context,v=e.adapter,T=e.baseURLController,b=e.streamInfo,A=e.timelineConverter,I=e.debug,S=e.eventBus,R=e.events,O=e.dashConstants,N=Object(s.a)(E).getInstance();function w(e,t){var n=new o;n.id=e.id,n.bitrate=e.bandwidth,n.width=e.width,n.height=e.height,n.tilesHor=1,n.tilesVert=1,e.essentialProperties&&e.essentialProperties.forEach((function(e){if(p.indexOf(e.schemeIdUri)>=0&&e.value){var t=e.value.split("x");2!==t.length||isNaN(t[0])||isNaN(t[1])||(n.tilesHor=parseInt(t[0],10),n.tilesVert=parseInt(t[1],10))}})),t?_.updateSegmentData(e).then((function(t){!function(e,t,r){var n=[],i=function(e,t){var r,n,i,a,o=[],s=0;for(r=0,n=e.segments.length;r<n;r++)i=e.segments[r],(a=Object(u.b)(A,v.getIsDynamic(),t,i.startTime,i.duration,i.timescale,i.media,i.mediaRange,s))&&(o.push(a),a=null,s++);return o}(r,t);t.segments=i,e.segmentDuration=t.segments[0].duration,e.readThumbnail=function(e,r){var i=null;n.some((function(t){if(t.start<=e&&t.end>e)return i=t.url,!0})),i?r(i):t.segments.some((function(i){if(i.mediaStartTime<=e&&i.mediaStartTime+i.duration>e){var a=T.resolve(t.path);return g.load({method:"get",url:a.url,request:{range:i.mediaRange,responseType:"arraybuffer"},onload:function(e){var t=y.getSamplesInfo(e.target.response),a=new Blob([e.target.response.slice(t.sampleList[0].offset,t.sampleList[0].offset+t.sampleList[0].size)],{type:"image/jpeg"}),o=window.URL.createObjectURL(a);n.push({start:i.mediaStartTime,end:i.mediaStartTime+i.duration,url:o}),r&&r(o)}}),!0}}))}}(n,e,t)})):(n.startNumber=e.startNumber,n.segmentDuration=e.segmentDuration,n.timescale=e.timescale,n.templateUrl=function(e){var t=N.isRelative(e.media)?N.resolve(e.media,T.resolve(e.path).url):e.media;if(!t)return"";return Object(u.c)(t,e.id)}(e)),n.tilesHor>0&&n.tilesVert>0&&(n.widthPerTile=n.width/n.tilesHor,n.heightPerTile=n.height/n.tilesVert,r.push(n))}function D(){r=[],h=-1,m=null}return t={getTracks:function(){return r},addTracks:function(){if(b&&v&&(m=v.getMediaInfoForType(b,n.a.IMAGE))){var e=v.getVoRepresentations(m);e&&e.length>0&&e.forEach((function(e){(e.segmentInfoType===i.a.SEGMENT_TEMPLATE&&e.segmentDuration>0&&e.media||e.segmentInfoType===i.a.SEGMENT_TIMELINE)&&w(e),e.segmentInfoType===i.a.SEGMENT_BASE&&w(e,!0)})),r.length>0&&r.sort((function(e,t){return e.bitrate-t.bitrate}))}},reset:D,setTrackByIndex:function(e){r&&0!==r.length&&(e>=r.length&&(e=r.length-1),h=e)},getCurrentTrack:function(){return h<0?null:r[h]},getCurrentTrackIndex:function(){return h},getThumbnailRequestForTime:function(e){for(var t,n=v.getVoRepresentations(m),i=0;i<n.length;i++)if(r[h].id===n[i].id){t=n[i];break}return a.getSegmentRequestForTime(m,t,e)}},D(),g=Object(l.a)(E).create({}),y=Object(c.a)(E).getInstance(),_=Object(d.a)(E).create({events:R,eventBus:S,streamInfo:b,timelineConverter:A,dashConstants:O,dashMetrics:e.dashMetrics,segmentBaseController:e.segmentBaseController,type:n.a.IMAGE}),(a=Object(f.a)(E).create({streamInfo:b,type:n.a.IMAGE,timelineConverter:A,segmentsController:_,baseURLController:T,debug:I,eventBus:S,events:R,dashConstants:O,urlUtils:N})).initialize(!!v&&v.getIsDynamic()),t}h.__dashjs_factory_name="ThumbnailTracks";t.b=a.a.getClassFactory(h)},,function(e,t,r){"use strict";var n=r(12),i=r(5),a=r(3),o=r(4),s=r(10),u=r(0);function c(e){var t,r,a,c,l,f=(e=e||{}).eventBus,d=e.debug,p=e.urlUtils,h=e.type,m=e.streamInfo,_=e.segmentsController,g=e.timelineConverter,y=e.baseURLController;function E(){return h}function v(){a=null}function T(e,t,r){var n,i,a=y.resolve(r.path);return a&&t!==a.url&&p.isRelative(t)?(n=a.url,i=a.serviceLocation,t&&(n=p.resolve(t,n))):n=t,!p.isRelative(n)&&(e.url=n,e.serviceLocation=i,!0)}function b(e,t){if(null==t)return null;var r=new n.a,a=t.representation,o=a.adaptation.period.mpd.manifest.Period_asArray[a.adaptation.period.index].AdaptationSet_asArray[a.adaptation.index].Representation_asArray[a.index].bandwidth,u=t.media;return u=Object(s.d)(u,"Number",t.replacementNumber),u=Object(s.d)(u,"Time",t.replacementTime),u=Object(s.d)(u,"Bandwidth",o),u=Object(s.c)(u,a.id),u=Object(s.e)(u),r.mediaType=E(),r.type=i.a.MEDIA_SEGMENT_TYPE,r.range=t.mediaRange,r.startTime=t.presentationStartTime,r.mediaStartTime=t.mediaStartTime,r.duration=t.duration,r.timescale=a.timescale,r.availabilityStartTime=t.availabilityStartTime,r.availabilityEndTime=t.availabilityEndTime,r.wallStartTime=t.wallStartTime,r.quality=a.index,r.index=t.index,r.mediaInfo=e,r.adaptationIndex=a.adaptation.index,r.representationId=a.id,T(r,u,a)?r:void 0}function A(e,t,n){var i=null;if(!t||!t.segmentInfoType)return i;var o=_.getSegmentByTime(t,n);return o&&(a=o,r.debug("Index for time "+n+" is "+o.index),i=b(e,o)),i}function I(){r.debug("Dynamic stream complete"),l=!0}return t={initialize:function(e){c=e,l=!1,_.initialize(e)},getStreamId:function(){return m.id},getType:E,getStreamInfo:function(){return m},getInitRequest:function(e,t){return t?function(e,t,r){var a=new n.a,o=t.adaptation.period,u=o.start;if(a.mediaType=r,a.type=i.a.INIT_SEGMENT_TYPE,a.range=t.range,a.availabilityStartTime=g.calcAvailabilityStartTimeFromPresentationTime(u,t,c),a.availabilityEndTime=g.calcAvailabilityEndTimeFromPresentationTime(u+o.duration,t,c),a.quality=t.index,a.mediaInfo=e,a.representationId=t.id,T(a,t.initialization,t))return a.url=Object(s.d)(a.url,"Bandwidth",t.bandwidth),a}(e,t,E()):null},getSegmentRequestForTime:A,getCurrentIndex:function(){return a?a.index:-1},getNextSegmentRequest:function(e,t){var n=null;if(!t||!t.segmentInfoType)return null;var i=a?a.index+1:0,o=_.getSegmentByIndex(t,i,a?a.mediaStartTime:-1);if(o)n=b(e,o),a=o;else{if(c&&!l)return r.debug(E()+" No segment found at index: "+i+". Wait for next loop"),null;l=!0}return n},isLastSegmentRequested:function(e,t){if(!e||!a)return!1;if(l)return!0;if(!isFinite(e.adaptation.period.duration))return!1;if(a.presentationStartTime+a.duration>t)return!1;if(e.mediaFinishedInformation&&!isNaN(e.mediaFinishedInformation.numberOfSegments)&&!isNaN(a.index)&&a.index>=e.mediaFinishedInformation.numberOfSegments-1){if(!c||e.segmentInfoType===u.a.SEGMENT_TEMPLATE)return!0;if(c&&e.segmentInfoType===u.a.SEGMENT_LIST&&e.adaptation.period.nextPeriodId)return!0}return!!(c&&e.adaptation.period.nextPeriodId&&e.segmentInfoType===u.a.SEGMENT_TIMELINE&&e.mediaFinishedInformation&&!isNaN(e.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&a&&!isNaN(a.mediaStartTime)&&!isNaN(a.duration)&&a.mediaStartTime+a.duration>=e.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},reset:function(){v(),f.off(o.a.DYNAMIC_TO_STATIC,I,t)},getNextSegmentRequestIdempotent:function(e,t){var r=a?a.index+1:0,n=_.getSegmentByIndex(t,r,a?a.mediaStartTime:-1);return n?b(e,n):null},getValidSeekTimeCloseToTargetTime:function(e,t,r,n){try{if(isNaN(e)||!t||!r)return NaN;if(e<0&&(e=0),isNaN(n)&&(n=.5),A(t,r,e))return e;for(var i=r.adaptation.period.start,a=r.adaptation.period.start+r.adaptation.period.duration,o=Math.min(e+n,a),s=Math.max(e-n,i),u=NaN,c=null;o<=a||s>=i;){var l=null,f=null;if(o<=a&&(l=A(t,r,o)),s>=i&&(f=A(t,r,s)),f){u=s,c=f;break}if(l){u=o,c=l;break}o+=n,s-=n}if(c){var d=c.startTime+c.duration;return e>=c.startTime&&d-e>n?e:e<c.startTime?c.startTime:Math.min(d-n,u)}return u}catch(e){return NaN}}},r=d.getLogger(t),v(),f.on(o.a.DYNAMIC_TO_STATIC,I,t),t}c.__dashjs_factory_name="DashHandler",t.a=a.a.getClassFactory(c)},function(e,t,r){"use strict";var n=r(3),i=r(1),a=r(10);function o(e,t){var r=(e=e||{}).timelineConverter,n=e.dashMetrics;function o(){if(!r)throw new Error(i.a.MISSING_CONFIG_ERROR)}function s(e,t){var r,n,i,a,o,s,c,l=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate||e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,f=l.SegmentTimeline,d=l.SegmentURL_asArray,p=0,h=0,m=-1;c=e.timescale;var _=!1;for(i=0,a=(r=f.S_asArray).length;i<a&&!_;i++){if(s=0,(n=r[i]).hasOwnProperty("r")&&(s=n.r),n.hasOwnProperty("t")&&(h=(p=n.t)/c),s<0)s=u(e,r[i+1],n,c,h);for(o=0;o<=s&&!_;o++)(_=t(p,h,l,d,n,c,++m,i))&&(e.segmentDuration=n.d/c),h=(p+=n.d)/c}}function u(e,t,i,a,o){var s;if(t&&t.hasOwnProperty("t"))s=t.t/a;else try{var u=0;if(isNaN(e.adaptation.period.start)||isNaN(e.adaptation.period.duration)||!isFinite(e.adaptation.period.duration)){var c=n.getCurrentDVRInfo();u=isNaN(c.end)?0:c.end}else u=e.adaptation.period.start+e.adaptation.period.duration;s=r.calcMediaTimeFromPresentationTime(u,e),e.segmentDuration=i.d/a}catch(e){s=0}return Math.max(Math.ceil((s-o)/(i.d/a))-1,0)}return{getSegmentByIndex:function(e,n,i){if(o(),!e)return null;var u=null,c=!1;return s(e,(function(n,o,s,l,f,d,p,h){if(c||i<0){var m=s.media,_=f.mediaRange;return l&&(m=l[h].media||"",_=l[h].mediaRange),u=Object(a.b)(r,t,e,n,f.d,d,m,_,p,f.tManifest),!0}return o>=i-.5*f.d/d&&(c=!0),!1})),u},getSegmentByTime:function(e,n){if(o(),!e)return null;void 0===n&&(n=null);var i=null,u=r.calcMediaTimeFromPresentationTime(n,e);return s(e,(function(n,o,s,c,l,f,d,p){if(u<o+l.d/f){var h=s.media,m=l.mediaRange;return c&&(h=c[p].media||"",m=c[p].mediaRange),i=Object(a.b)(r,t,e,n,l.d,f,h,m,d,l.tManifest),!0}return!1})),i},getMediaFinishedInformation:function(e){if(!e)return 0;var t,r,n,i,a,o,s,c=(e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate||e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList).SegmentTimeline,l=0,f=0,d=0;for(s=e.timescale,i=(t=c.S_asArray).length,n=0;n<i;n++){if(o=0,(r=t[n]).hasOwnProperty("r")&&(o=r.r),r.hasOwnProperty("t")&&(f=(l=r.t)/s),o<0)o=u(e,t[n+1],r,s,f);for(a=0;a<=o;a++)d++,f=(l+=r.d)/s}return{numberOfSegments:d,mediaTimeOfLastSignaledSegment:f}}}}o.__dashjs_factory_name="TimelineSegmentsGetter";var s=n.a.getClassFactory(o);function u(e,t){var r=(e=e||{}).timelineConverter;function n(){if(!r||!r.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(i.a.MISSING_CONFIG_ERROR)}function o(e,i){if(n(),!e)return null;var o=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate;i=Math.max(i,0);var s=Object(a.a)(r,t,e,i);if(s){s.replacementTime=Math.round((i-1)*e.segmentDuration*e.timescale,10);var u=o.media;u=Object(a.d)(u,"Number",s.replacementNumber),u=Object(a.d)(u,"Time",s.replacementTime),s.media=u}return s}return{getSegmentByIndex:o,getSegmentByTime:function(e,t){if(n(),!e)return null;var i=e.segmentDuration;if(isNaN(i))return null;var a=r.calcPeriodRelativeTimeFromMpdRelativeTime(e,t);return o(e,Math.floor(a/i))},getMediaFinishedInformation:function(e){var t={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!e)return t;var r=e.segmentDuration;return isNaN(r)?t.numberOfSegments=1:t.numberOfSegments=Math.ceil(e.adaptation.period.duration/r),t}}}u.__dashjs_factory_name="TemplateSegmentsGetter";var c=n.a.getClassFactory(u);function l(e,t){var r=(e=e||{}).timelineConverter;function n(){if(!r||!r.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(i.a.MISSING_CONFIG_ERROR)}function o(e,i){if(n(),!e)return null;var o=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,s=o.SegmentURL_asArray.length,u=e&&!isNaN(e.startNumber)?e.startNumber:1,c=Math.max(u-1,0),l=Math.max(i-c,0),f=null;if(l<s){var d=o.SegmentURL_asArray[l];(f=Object(a.a)(r,t,e,i))&&(f.replacementTime=(u+i-1)*e.segmentDuration,f.media=d.media?d.media:"",f.mediaRange=d.mediaRange,f.indexRange=d.indexRange)}return f}return{getSegmentByIndex:o,getSegmentByTime:function(e,t){if(n(),!e)return null;var i=e.segmentDuration;if(isNaN(i))return null;var a=r.calcPeriodRelativeTimeFromMpdRelativeTime(e,t);return o(e,Math.floor(a/i))},getMediaFinishedInformation:function(e){var t={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!e)return t;var r=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,n=e&&!isNaN(e.startNumber)?e.startNumber:1,i=Math.max(n-1,0);return t.numberOfSegments=i+r.SegmentURL_asArray.length,t}}}l.__dashjs_factory_name="ListSegmentsGetter";var f=n.a.getClassFactory(l);function d(e){var t=(e=e||{}).timelineConverter;function r(){if(!t||!t.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(i.a.MISSING_CONFIG_ERROR)}function n(e,t){if(r(),!e)return null;var n,i=e.segments?e.segments.length:-1;if(t<i&&(n=e.segments[t])&&n.index===t)return n;for(var a=0;a<i;a++)if((n=e.segments[a])&&n.index===t)return n;return null}return{getSegmentByIndex:n,getSegmentByTime:function(e,t){return r(),n(e,function(e,t){if(!e)return-1;var r,n,i,a,o,s=e.segments,u=s?s.length:null,c=-1;if(s&&u>0)for(o=0;o<u;o++)if(n=s[o],i=n.presentationStartTime,a=n.duration,t+(r=a/2)>=i&&t-r<i+a){c=n.index;break}return c}(e,t))},getMediaFinishedInformation:function(e){var t={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return e&&e.segments?(t.numberOfSegments=e.segments.length,t):t}}}d.__dashjs_factory_name="SegmentBaseGetter";var p=n.a.getClassFactory(d);function h(e){e=e||{};var t,r,n=this.context,i=e.dashConstants,a=e.type,o=e.segmentBaseController;function u(e){return e?e.segments?r[i.SEGMENT_BASE]:r[e.segmentInfoType]:null}return t={initialize:function(t){r[i.SEGMENT_TIMELINE]=s(n).create(e,t),r[i.SEGMENT_TEMPLATE]=c(n).create(e,t),r[i.SEGMENT_LIST]=f(n).create(e,t),r[i.SEGMENT_BASE]=p(n).create(e,t)},updateInitData:function(e,t){return t?Promise.resolve():o.getSegmentBaseInitSegment({representation:e,mediaType:a})},updateSegmentData:function(e,t){return t?Promise.resolve():o.getSegmentList({mimeType:e.mimeType,representation:e,mediaType:a})},getSegmentByIndex:function(e,t,r){var n=u(e);return n?n.getSegmentByIndex(e,t,r):null},getSegmentByTime:function(e,t){var r=u(e);return r?r.getSegmentByTime(e,t):null},getMediaFinishedInformation:function(e){var t=u(e);return t?t.getMediaFinishedInformation(e):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},r={},t}h.__dashjs_factory_name="SegmentsController";var m=n.a.getClassFactory(h);t.a=m},function(e,t,r){"use strict";var n=function e(t,r,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t||"",this.serviceLocation=r||t||"",this.dvb_priority=n||1,this.dvb_weight=i||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0};n.DEFAULT_DVB_PRIORITY=1,n.DEFAULT_DVB_WEIGHT=1,t.a=n},,,function(e,t,r){"use strict";var n=r(7),i=r(4),a=r(16),o=r(3),s=r(15),u=r(1),c=r(5),l=r(28),f=r(14);function d(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h="m",m="a",_="v",g="i",y="c",E="tt",v="k",T="o",b="d",A="s",I="v",S="l";function R(){var e,t,r,o,p,R,O,N,w,D,P=this.context,C=Object(n.a)(P).getInstance(),L=Object(s.a)(P).getInstance();function M(){r={pr:1,nor:null,st:null,sf:null,sid:"".concat(f.a.generateUuid()),cid:null},w={},N={},D={},x()}function F(){x()}function x(){if(R){var e=R.getStreamController();if(e&&"function"==typeof e.getActiveStream){var t=e.getActiveStream();t&&(O=t.getProcessors())}}}function U(e,t){var r,n={},i=d(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;e[a]&&(n[a]=e[a])}}catch(e){i.e(e)}finally{i.f()}return n}function B(e){try{return e.type===c.a.MPD_TYPE?((t=G()).ot=h,t):e.type===c.a.MEDIA_SEGMENT_TYPE?(function(e){D.hasOwnProperty(e)||(D[e]=!1);N.hasOwnProperty(e)||(N[e]=!1);w.hasOwnProperty(e)||(w[e]=!1)}(e.mediaType),function(e){var t,n=G(),i=function(e){try{var t=e.quality,r=e.mediaInfo.bitrateList;return parseInt(r[t].bandwidth/1e3)}catch(e){return null}}(e),a=function(e){try{return isNaN(e.duration)?null:Math.round(1e3*e.duration)}catch(e){return null}}(e),s=function(e){try{return 100*parseInt(o.getThroughputHistory().getSafeAverageThroughput(e)/100)}catch(e){return null}}(e.mediaType),c=function(e){try{var t=r.pr,n=p.getCurrentBufferLevel(e);return isNaN(t)||isNaN(n)?null:100*parseInt(n/t*10)}catch(e){return null}}(e.mediaType),l=q(e.mediaType),h=function(e){try{var t=o.getTopBitrateInfoFor(e);return Math.round(t.bitrate/1e3)}catch(e){return null}}(e.mediaType),g=r.pr,v=function(e){if(!O||0===O.length)return;var t,r=d(O);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.getType()===e)return n.probeNextRequest()}}catch(e){r.e(e)}finally{r.f()}}(e.mediaType);e.mediaType===u.a.VIDEO&&(t=_);e.mediaType===u.a.AUDIO&&(t=m);e.mediaType===u.a.TEXT&&(t="application/mp4"===e.mediaInfo.mimeType?E:y);var T=L.get().streaming.cmcd.rtp;T||(T=function(e){var t=R.getPlaybackRate();t||(t=1);var r=e.quality,n=e.mediaType,i=e.mediaInfo,a=e.duration,o=q(n);0===o&&(o=500);var s=i.bitrateList[r].bandwidth*a/1e3/(o/t/1e3),u=L.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(L.get().streaming.cmcd.rtpSafetyFactor)?L.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(s*u/100)+1)}(e));n.rtp=T,v&&(e.url!==v.url?n.nor=encodeURIComponent(f.a.getRelativeUrl(e.url,v.url)):v.range&&(n.nrr=v.range));i&&(n.br=i);t&&(n.ot=t);isNaN(a)||(n.d=a);isNaN(s)||(n.mtp=s);isNaN(c)||(n.dl=c);isNaN(l)||(n.bl=l);isNaN(h)||(n.tb=h);isNaN(g)||1===g||(n.pr=g);w[e.mediaType]&&(n.bs=!0,w[e.mediaType]=!1);!N[e.mediaType]&&D[e.mediaType]||(n.su=!0,N[e.mediaType]=!1,D[e.mediaType]=!0);return n}(e)):e.type===c.a.INIT_SEGMENT_TYPE?function(){var e=G();return e.ot=g,e.su=!0,e}():e.type===c.a.OTHER_TYPE||e.type===c.a.XLINK_EXPANSION_TYPE?function(){var e=G();return e.ot=T,e}():e.type===c.a.LICENSE?function(e){var t=G();return t.ot=v,t}():null}catch(e){return null}var t}function G(){var e={},t=L.get().streaming.cmcd.cid?L.get().streaming.cmcd.cid:r.cid;return e.v=1,e.sid=L.get().streaming.cmcd.sid?L.get().streaming.cmcd.sid:r.sid,e.sid="".concat(e.sid),t&&(e.cid="".concat(t)),isNaN(r.pr)||1===r.pr||null===r.pr||(e.pr=r.pr),r.st&&(e.st=r.st),r.sf&&(e.sf=r.sf),e}function q(e){try{var t=p.getCurrentBufferLevel(e);return isNaN(t)?null:100*parseInt(10*t)}catch(e){return null}}function j(e){try{r.pr=e.playbackRate}catch(e){}}function k(t){try{var n=e.getIsDynamic(t.data)?S:I,i=t.protocol&&"MSS"===t.protocol?A:b;r.st="".concat(n),r.sf="".concat(i)}catch(e){}}function H(e){try{e.state&&e.mediaType&&e.state===i.a.BUFFER_EMPTY&&(w[e.mediaType]||(w[e.mediaType]=!0),N[e.mediaType]||(N[e.mediaType]=!0))}catch(e){}}function V(){for(var e in w)w.hasOwnProperty(e)&&(w[e]=!0);for(var t in N)N.hasOwnProperty(t)&&(N[t]=!0)}function Y(e){try{if(!e)return null;var t=Object.keys(e).sort((function(e,t){return e.localeCompare(t)})),r=t.length,n=t.reduce((function(t,n,i){if("v"===n&&1===e[n])return t;if("string"==typeof e[n]&&"ot"!==n&&"sf"!==n&&"st"!==n){var a=e[n].replace(/"/g,'"');t+="".concat(n,'="').concat(a,'"')}else t+="".concat(n,"=").concat(e[n]);return i<r-1&&(t+=","),t}),"");return n=(n=n.replace(/=true/g,"")).replace(/,\s*$/,"")}catch(e){return null}}return t={getQueryParameter:function(e){try{if(L.get().streaming.cmcd&&L.get().streaming.cmcd.enabled){var t=B(e),r=Y(t);return C.trigger(a.a.CMCD_DATA_GENERATED,{url:e.url,mediaType:e.mediaType,cmcdData:t,cmcdString:r}),{key:"CMCD",value:r}}return null}catch(e){return null}},getHeaderParameters:function(e){try{if(L.get().streaming.cmcd&&L.get().streaming.cmcd.enabled){var t=B(e),r=U(t,["br","d","ot","tb"]),n=U(t,["bl","dl","mtp","nor","nrr","su"]),i=U(t,["bs","rtp"]),o=U(t,["cid","pr","sf","sid","st","v"]),s={"CMCD-Object":Y(r),"CMCD-Request":Y(n),"CMCD-Status":Y(i),"CMCD-Session":Y(o)};return C.trigger(a.a.CMCD_DATA_GENERATED,{url:e.url,mediaType:e.mediaType,cmcdData:t,headers:s}),s}return null}catch(e){return null}},setConfig:function(e){e&&(e.abrController&&(o=e.abrController),e.dashMetrics&&(p=e.dashMetrics),e.playbackController&&(R=e.playbackController))},reset:function(){C.off(i.a.PLAYBACK_RATE_CHANGED,j,this),C.off(i.a.MANIFEST_LOADED,k,this),C.off(i.a.BUFFER_LEVEL_STATE_CHANGED,H,t),C.off(i.a.PLAYBACK_SEEKED,V,t),M()},initialize:function(){C.on(i.a.PLAYBACK_RATE_CHANGED,j,t),C.on(i.a.MANIFEST_LOADED,k,t),C.on(i.a.BUFFER_LEVEL_STATE_CHANGED,H,t),C.on(i.a.PLAYBACK_SEEKED,V,t),C.on(i.a.PERIOD_SWITCH_COMPLETED,F,t)}},e=Object(l.a)(P).getInstance(),M(),t}R.__dashjs_factory_name="CmcdModel",t.a=o.a.getSingletonFactory(R)},function(e,t,r){"use strict";t.a=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.schemeIdUri="",this.value=""}},function(e,t,r){"use strict";t.a=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN}},function(e,t,r){"use strict";var n=r(3),i=r(56),a=r.n(i);function o(){return{areEqual:function(e,t){return a()(e,t)}}}o.__dashjs_factory_name="ObjectUtils",t.a=n.a.getSingletonFactory(o)},function(e,t,r){"use strict";t.a=function(e){e=e||{},function(){void 0===e.escapeMode&&(e.escapeMode=!0);void 0===e.attributePrefix&&(e.attributePrefix="_");e.arrayAccessForm=e.arrayAccessForm||"none",e.emptyNodeForm=e.emptyNodeForm||"text",void 0===e.enableToStringFunc&&(e.enableToStringFunc=!0);e.arrayAccessFormPaths=e.arrayAccessFormPaths||[],void 0===e.skipEmptyTextNodesForObj&&(e.skipEmptyTextNodesForObj=!0);void 0===e.stripWhitespaces&&(e.stripWhitespaces=!0);e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[],void 0===e.useDoubleQuotes&&(e.useDoubleQuotes=!1);e.xmlElementsFilter=e.xmlElementsFilter||[],e.jsonPropertiesFilter=e.jsonPropertiesFilter||[],void 0===e.keepCData&&(e.keepCData=!1);void 0===e.ignoreRoot&&(e.ignoreRoot=!1)}();var t=1,r=3,n=4,i=8,a=9;function o(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}function s(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}function u(e,t,r,n){for(var i=0;i<e.length;i++){var a=e[i];if("string"==typeof a){if(a==n)break}else if(a instanceof RegExp){if(a.test(n))break}else if("function"==typeof a&&a(t,r,n))break}return i!=e.length}function c(t,r,n){switch(e.arrayAccessForm){case"property":t[r]instanceof Array?t[r+"_asArray"]=t[r]:t[r+"_asArray"]=[t[r]]}!(t[r]instanceof Array)&&e.arrayAccessFormPaths.length>0&&u(e.arrayAccessFormPaths,t,r,n)&&(t[r]=[t[r]])}function l(e){var t=e.split(/[-T:+Z]/g),r=new Date(t[0],t[1]-1,t[2]),n=t[5].split(".");if(r.setHours(t[3],t[4],n[0]),n.length>1&&r.setMilliseconds(n[1]),t[6]&&t[7]){var i=60*t[6]+Number(t[7]);i=0+("-"==(/\d\d-\d\d:\d\d$/.test(e)?"-":"+")?-1*i:i),r.setMinutes(r.getMinutes()-i-r.getTimezoneOffset())}else-1!==e.indexOf("Z",e.length-1)&&(r=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds())));return r}function f(r,n,i,a){return!(n==t&&e.xmlElementsFilter.length>0)||u(e.xmlElementsFilter,r,i,a)}function d(s,p){if(s.nodeType==a){for(var h=new Object,m=s.childNodes,_=0;_<m.length;_++){if((y=m[_]).nodeType==t)if(e.ignoreRoot)h=d(y);else(h={})[E=o(y)]=d(y)}return h}if(s.nodeType==t){(h=new Object).__cnt=0;var g=[];for(m=s.childNodes,_=0;_<m.length;_++){var y,E=o(y=m[_]);if(y.nodeType!=i){var v=p+"."+E;if(f(h,y.nodeType,E,v))if(h.__cnt++,null==h[E]){var T=d(y,v);if("#text"!=E||/[^\s]/.test(T))(b={})[E]=T,g.push(b);h[E]=T,c(h,E,v)}else{null!=h[E]&&(h[E]instanceof Array||(h[E]=[h[E]],c(h,E,v)));var b;T=d(y,v);if("#text"!=E||/[^\s]/.test(T))(b={})[E]=T,g.push(b);h[E][h[E].length]=T}}}h.__children=g;for(var A=o(s),I=0;I<s.attributes.length;I++){var S=s.attributes[I];h.__cnt++;for(var R=S.value,O=0,N=e.matchers.length;O<N;O++){var w=e.matchers[O];w.test(S,A)&&(R=w.converter(S.value))}h[e.attributePrefix+S.name]=R}var D=function(e){return e.prefix}(s);return null!=D&&""!=D&&(h.__cnt++,h.__prefix=D),null!=h["#text"]&&(h.__text=h["#text"],h.__text instanceof Array&&(h.__text=h.__text.join("\n")),e.stripWhitespaces&&(h.__text=h.__text.trim()),delete h["#text"],"property"==e.arrayAccessForm&&delete h["#text_asArray"],h.__text=function(t,r,n){if(e.datetimeAccessFormPaths.length>0){var i=n.split(".#")[0];return u(e.datetimeAccessFormPaths,t,r,i)?l(t):t}return t}(h.__text,E,p+"."+E)),null!=h["#cdata-section"]&&(h.__cdata=h["#cdata-section"],delete h["#cdata-section"],"property"==e.arrayAccessForm&&delete h["#cdata-section_asArray"]),0==h.__cnt&&"text"==e.emptyNodeForm?h="":1==h.__cnt&&null!=h.__text?h=h.__text:1!=h.__cnt||null==h.__cdata||e.keepCData?h.__cnt>1&&null!=h.__text&&e.skipEmptyTextNodesForObj&&(e.stripWhitespaces&&""==h.__text||""==h.__text.trim())&&delete h.__text:h=h.__cdata,delete h.__cnt,!e.enableToStringFunc||null==h.__text&&null==h.__cdata||(h.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),h}if(s.nodeType==r||s.nodeType==n)return s.nodeValue}function p(t,r,n,i){var a="<"+(null!=t&&null!=t.__prefix?t.__prefix+":":"")+r;if(null!=n)for(var o=0;o<n.length;o++){var u=n[o],c=t[u];e.escapeMode&&(c=s(c)),a+=" "+u.substr(e.attributePrefix.length)+"=",e.useDoubleQuotes?a+='"'+c+'"':a+="'"+c+"'"}return a+=i?"/>":">"}function h(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function m(t,r){return"property"==e.arrayAccessForm&&(n=r.toString(),i="_asArray",-1!==n.indexOf(i,n.length-i.length))||0==r.toString().indexOf(e.attributePrefix)||0==r.toString().indexOf("__")||t[r]instanceof Function;var n,i}function _(e){var t=0;if(e instanceof Object)for(var r in e)m(e,r)||t++;return t}function g(t,r,n){return 0==e.jsonPropertiesFilter.length||""==n||u(e.jsonPropertiesFilter,t,r,n)}function y(t){var r=[];if(t instanceof Object)for(var n in t)-1==n.toString().indexOf("__")&&0==n.toString().indexOf(e.attributePrefix)&&r.push(n);return r}function E(t){var r="";return t instanceof Object?r+=function(t){var r="";return null!=t.__cdata&&(r+="<![CDATA["+t.__cdata+"]]>"),null!=t.__text&&(e.escapeMode?r+=s(t.__text):r+=t.__text),r}(t):null!=t&&(e.escapeMode?r+=s(t):r+=t),r}function v(e,t){return""===e?t:e+"."+t}function T(e,t,r,n){var i="";if(0==e.length)i+=p(e,t,r,!0);else for(var a=0;a<e.length;a++)i+=p(e[a],t,y(e[a]),!1),i+=b(e[a],v(n,t)),i+=h(e[a],t);return i}function b(e,t){var r="";if(_(e)>0)for(var n in e)if(!m(e,n)&&(""==t||g(e,n,v(t,n)))){var i=e[n],a=y(i);if(null==i||null==i)r+=p(i,n,a,!0);else if(i instanceof Object)if(i instanceof Array)r+=T(i,n,a,t);else if(i instanceof Date)r+=p(i,n,a,!1),r+=i.toISOString(),r+=h(i,n);else{_(i)>0||null!=i.__text||null!=i.__cdata?(r+=p(i,n,a,!1),r+=b(i,v(t,n)),r+=h(i,n)):r+=p(i,n,a,!0)}else r+=p(i,n,a,!1),r+=E(i),r+=h(i,n)}return r+=E(e)}this.parseXmlString=function(e){var t;window.ActiveXObject||window;if(void 0===e)return null;if(window.DOMParser){var r=new window.DOMParser;try{(t=r.parseFromString(e,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(t=null)}catch(e){t=null}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),(t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e);return t},this.asArray=function(e){return void 0===e||null==e?[]:e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():"number"==typeof e?new Date(e).toISOString():null},this.asDateTime=function(e){return"string"==typeof e?l(e):e},this.xml2json=function(e){return d(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return null!=t?this.xml2json(t):null},this.json2xml_str=function(e){return b(e,"")},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return"1.2.0"}}},function(e,t,r){"use strict";var n=r(3),i=r(25),a=r(15),o=r(1);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e){e=e||{};var t,r=this.context,n=e.requestModifier,i=e.lowLatencyThroughputModel,c=e.boxParser,l=Object(a.a)(r).getInstance();function f(e,t){e.reader.read().then(t).catch((function(t){e.onerror&&200===e.response.status&&e.onerror(t)}))}function d(e,t){try{if((e=e.filter((function(r){return r.bytes>t/4/e.length}))).length>1){var r=0,n=(e[e.length-1].ts-e[0].ts)/e.length;return e.forEach((function(t,i){var a=e[i+1];if(a){var o=a.ts-t.ts;r+=o<n?o:0}})),r}return null}catch(e){return null}}return{load:function(e){var r,a=new Date,p=e.request,h=new Headers;if(p.range&&h.append("Range","bytes="+p.range),e.headers)for(var m in e.headers){var _=e.headers[m];_&&h.append(m,_)}p.requestStartDate||(p.requestStartDate=a),n&&n.modifyRequestHeader({setRequestHeader:function(e,t){h.append(e,t)}}),"function"==typeof window.AbortController&&(r=new AbortController,e.abortController=r,r.signal.onabort=e.onabort);var g={method:e.method,headers:h,credentials:e.withCredentials?"include":void 0,signal:r?r.signal:void 0},y=l.get().streaming.abr.fetchThroughputCalculationMode,E=Date.now(),v=0;new Promise((function(e){if(y===o.a.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&i&&(v=i.getThroughputCapacityDelayMS(p,1e3*t.getCurrentBufferLevel(p.mediaType))))return setTimeout(e,v);e()})).then((function(){var r=Date.now();fetch(e.url,g).then((function(n){e.response||(e.response={}),e.response.status=n.status,e.response.statusText=n.statusText,e.response.responseURL=n.url,n.ok||e.onerror();var a,l="",h=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=u(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}(n.headers.keys());try{for(h.s();!(a=h.n()).done;){var m=a.value;l+=m+": "+n.headers.get(m)+"\r\n"}}catch(e){h.e(e)}finally{h.f()}if(e.response.responseHeaders=l,!n.body)return n.arrayBuffer().then((function(t){e.response.response=t;var r={loaded:t.byteLength,total:t.byteLength,stream:!1};e.progress(r),e.onload(),e.onend()}));var _,g,T=parseInt(n.headers.get("Content-Length"),10),b=0,A=!1,I=new Uint8Array,S=0;if(y===o.a.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&i){var R=r,O=0,N=s(n.body.tee(),2),w=N[0],D=N[1];_=w.getReader(),g=[],_.read().then((function n(a){var o=a.value,s=a.done;if(O=Date.now(),o&&o.length){var u=O-R,c=o.length;g.push({chunkDownloadTimeRelativeMS:O-r,chunkDownloadDurationMS:u,chunkBytes:c,kbps:Math.round(8*c/(u/1e3)),bufferLevel:t.getCurrentBufferLevel(p.mediaType)})}if(s){var f=O-r,d=g.reduce((function(e,t){return e+t.chunkBytes}),0);return i.addMeasurement(p,f,g,E,v,l),void e.progress({loaded:d,total:d,lengthComputable:!0,time:i.getEstimatedDownloadDurationMS(p),stream:!0})}return R=Date.now(),_.read().then(n)})),e.reader=D.getReader()}else e.reader=n.body.getReader();var P=[],C=[],L=[],M=!0;f(e,(function t(r){var n=r.value;if(r.done){if(I){if(y!==o.a.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var i=null;y===o.a.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&(i=function(e,t){try{var r,n;r=e.filter((function(t,r){return r<e.length-1})),n=t.filter((function(e,r){return r<t.length-1}));var i=[];if(r.length>1){for(var a=0,o=0,s=0;s<r.length;s++)if(r[s]&&n[s]){var u=n[s].ts-r[s].ts;if(u>1)i.push(8*n[s].bytes/u);else{0===o&&(o=r[s].ts);var c=n[s].ts-o;c>1?(i.push(8*a/c),a=0,o=0):a+=n[s].bytes}}if(i.length>0)return i.reduce((function(e,t){return e+t}),0)/i.length}return null}catch(e){return null}}(C,L)),e.progress({loaded:b,total:isNaN(T)?b:T,lengthComputable:!0,time:d(P,b),throughput:i,stream:!0})}e.response.response=I.buffer}return e.onload(),void e.onend()}if(n&&n.length>0){if(I=function(e,t){if(0===e.length)return t;var r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}(I,n),b+=n.length,P.push({ts:Date.now(),bytes:n.length}),y===o.a.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&M)c.findLastTopIsoBoxCompleted(["moof"],I,S).found&&(M=!1,C.push({ts:performance.now(),bytes:n.length}));var a=c.findLastTopIsoBoxCompleted(["moov","mdat"],I,S);if(a.found){var s,u=a.lastCompletedOffset+a.size;y!==o.a.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING||M||(M=!0,L.push({ts:performance.now(),bytes:I.length})),u===I.length?(s=I,I=new Uint8Array):(s=new Uint8Array(I.subarray(0,u)),I=I.subarray(u)),e.progress({data:s.buffer,lengthComputable:!1,noTrace:!0}),S=0}else S=a.lastCompletedOffset,A||(e.progress({lengthComputable:!1,noTrace:!0}),A=!0)}f(e,t)}))})).catch((function(t){e.onerror&&e.onerror(t)}))}))},abort:function(e){if(e.abortController)e.abortController.abort();else if(e.reader)try{e.reader.cancel(),e.onabort()}catch(e){}},calculateDownloadedTime:d,setup:function(e){t=e.dashMetrics}}}l.__dashjs_factory_name="FetchLoader";var f=n.a.getClassFactory(l),d=r(5),p=r(8),h=r(36),m=r(14),_=r(6),g=r(7),y=r(2);function E(){var e,t,r=this.context,n={};function i(){t=Object(_.a)(r).getInstance().getLogger(e)}function a(e){for(var t={},r=0,n=0,i=0,a=0,o=e.length,s=0;s<o;++s)r+=e[s].chunkDownloadTimeRelativeMS,n+=e[s].bufferLevel,i+=e[s].chunkDownloadTimeRelativeMS*e[s].bufferLevel,a+=e[s].chunkDownloadTimeRelativeMS*e[s].chunkDownloadTimeRelativeMS;return t.m=(i-r*n/o)/(a-r*r/o),t.b=n/o-t.m*r/o,function(e){return t.m*e+t.b}}function o(e){var t,r=!0,n=e.reduce((function(e,t){return e+t.bufferLevelAtSegmentEnd}),0)/e.length;return e.forEach((function(e){Math.abs(e.bufferLevelAtSegmentEnd/e.bufferLevelAtSegmentStart)<.95&&(r=!1),e.bufferLevelAtSegmentEnd/n<.8&&(r=!1),t?t>e.bitrate&&(r=!1):t=e.bitrate})),r}return e={setup:i,addMeasurement:function(e,t,r,i,o){e&&e.mediaType&&!n[e.mediaType]&&(n[e.mediaType]=[]);var s=e.mediaInfo.bitrateList.find((function(t){return t.id===e.representationId}));n[e.mediaType].push({index:e.index,repId:e.representationId,mediaType:e.mediaType,requestTimeMS:i,adjustedAvailabilityStartTimeMS:e.availabilityStartTime.getTime(),segDurationMS:1e3*e.duration,chunksDurationMS:r.reduce((function(e,t){return e+t.chunkDownloadDurationMS}),0),segmentBytes:r.reduce((function(e,t){return e+t.chunkBytes}),0),bitrate:s&&s.bandwidth,bitrateList:e.mediaInfo.bitrateList,chunkMeasurements:r,fetchDownloadDurationMS:t,throughputCapacityDelayMS:o,getEstimatedBufferLevel:a(r.slice(1))}),n[e.mediaType].length>10&&n[e.mediaType].shift()},getThroughputCapacityDelayMS:function(e,t){var r=n[e.mediaType]&&n[e.mediaType].slice(-3);return!r||r.length<3?0:o(r)?t/4>250?250:t/4:0},getEstimatedDownloadDurationMS:function(e){var r=n[e.mediaType].slice(-1).pop(),i=n[e.mediaType].slice(-3),a=r.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;r.bufferLevelAtSegmentStart=r.getEstimatedBufferLevel(a/2),r.bufferLevelAtSegmentEnd=r.getEstimatedBufferLevel(a);var s=o(i),u=s?.6:.8;if(r.isBufferStable&&1.05*r.segDurationMS<r.fetchDownloadDurationMS)return r.fetchDownloadDurationMS;if(!s||r.segDurationMS<r.fetchDownloadDurationMS)return.8*r.fetchDownloadDurationMS;if(r.adjustedAvailabilityStartTimeMS<=r.requestTimeMS+r.throughputCapacityDelayMS-r.segDurationMS)return.8*r.fetchDownloadDurationMS;for(var c=r.requestTimeMS+r.throughputCapacityDelayMS-r.adjustedAvailabilityStartTimeMS,l=0,f=0,d=0,p=0;p<r.chunkMeasurements.length;p++){var h=r.chunkMeasurements[p];if(c<f+h.chunkDownloadDurationMS)break;f+=h.chunkDownloadDurationMS,l+=h.chunkBytes,d++}if(c<0&&t.warn("request time was before adjusted availibitly start time"),l&&f&&d>.2*r.chunkMeasurements.length){var m=l/f,_=r.segmentBytes/m;return r.fetchDownloadDurationMS<_?r.fetchDownloadDurationMS*u:_*u}var g=r.bitrate;return r.bitrateList.some((function(e){if(e.bandwidth>r.bitrate)return g=e.bandwidth,!0})),g===r.bitrate?r.fetchDownloadDurationMS*u:u*r.segmentBytes*8*1e3/g}},i(),e}E.__dashjs_factory_name="LowLatencyThroughputModel";var v=n.a.getSingletonFactory(E);function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){e=e||{};var t,r,n,s,u,c,l,E,b,A=this.context,I=e.errHandler,S=e.dashMetrics,R=e.mediaPlayerModel,O=e.requestModifier,N=e.boxParser,w=e.errors,D=e.requestTimeout||0,P=Object(g.a)(A).getInstance(),C=Object(a.a)(A).getInstance();function L(e,t){var a,h=e.request,_=[],g=!0,v=!0,T=new Date,b=T,w=0;if(!O||!S||!I)throw new Error("config object is not correct or missing");var M,F=function(e){if(v=!1,h.requestStartDate=T,h.requestEndDate=new Date,h.firstByteDate=h.firstByteDate||T,!h.checkExistenceOnly){var t=a.response?a.response.responseURL:null,r=a.response?a.response.status:null,n=a.response&&a.response.getAllResponseHeaders?a.response.getAllResponseHeaders():a.response?a.response.responseHeaders:[];S.addHttpRequest(h,t,r,n,e?_:null),h.type===d.a.MPD_TYPE&&S.addManifestUpdate(h)}},x=function(){if(-1!==r.indexOf(a)&&(r.splice(r.indexOf(a),1),v))if(F(!1),t>0){try{if(C.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&h.type===d.a.MEDIA_SEGMENT_TYPE)R.getRetryAttemptsForType(d.a.MEDIA_SEGMENT_TYPE)===t&&P.trigger(y.a.ATTEMPT_BACKGROUND_SYNC)}catch(e){}t--;var n={config:e};s.push(n),n.timeout=setTimeout((function(){-1!==s.indexOf(n)&&(s.splice(s.indexOf(n),1),L(e,t))}),R.getRetryIntervalsForType(h.type))}else{if(h.type===d.a.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;I.error(new p.a(u[h.type],h.url+" is not available",{request:h,response:a.response})),e.error&&e.error(h,"error",a.response.statusText),e.complete&&e.complete(h,a.response.statusText)}};C.get().streaming.lowLatencyEnabled&&window.fetch&&"arraybuffer"===h.responseType&&h.type===d.a.MEDIA_SEGMENT_TYPE?(M=f(A).create({requestModifier:O,lowLatencyThroughputModel:l,boxParser:N})).setup({dashMetrics:S}):M=Object(i.a)(A).create({requestModifier:O});var U=null,B=O.modifyRequestURL(h.url);if(C.get().streaming.cmcd&&C.get().streaming.cmcd.enabled){var G=C.get().streaming.cmcd.mode;if(G===o.a.CMCD_MODE_QUERY){var q=function(e){try{var t=[],r=c.getQueryParameter(e);return r&&t.push(r),t}catch(e){return[]}}(h);B=m.a.addAditionalQueryParameterToUrl(B,q)}else G===o.a.CMCD_MODE_HEADER&&(U=c.getHeaderParameters(h))}h.url=B;var j=h.checkExistenceOnly?d.a.HEAD:d.a.GET,k=R.getXHRWithCredentialsForType(h.type);a={url:B,method:j,withCredentials:k,request:h,onload:function(){a.response.status>=200&&a.response.status<=299&&(F(!0),e.success&&e.success(a.response.response,a.response.statusText,a.response.responseURL),e.complete&&e.complete(h,a.response.statusText))},onend:x,onerror:x,progress:function(t){var r=new Date;g&&(g=!1,(!t.lengthComputable||t.lengthComputable&&t.total!==t.loaded)&&(h.firstByteDate=r)),t.lengthComputable&&(h.bytesLoaded=t.loaded,h.bytesTotal=t.total),t.noTrace||(_.push({s:b,d:t.time?t.time:r.getTime()-b.getTime(),b:[t.loaded?t.loaded-w:0],t:t.throughput}),b=r,w=t.loaded),e.progress&&t&&e.progress(t)},onabort:function(){e.abort&&e.abort(h)},ontimeout:function(e){var t;if(e.lengthComputable){var r=e.loaded/e.total*100;t="Request timeout: loaded: "+e.loaded+", out of: "+e.total+" : "+r.toFixed(3)+"% Completed"}else t="Request timeout: non-computable download size";E.warn(t)},loader:M,timeout:D,headers:U};var H=(new Date).getTime();if(isNaN(h.delayLoadingTime)||H>=h.delayLoadingTime)r.push(a),M.load(a);else{var V={httpRequest:a};n.push(V),V.delayTimeout=setTimeout((function(){if(-1!==n.indexOf(V)){n.splice(n.indexOf(V),1);try{T=new Date,b=T,r.push(V.httpRequest),M.load(V.httpRequest)}catch(e){V.httpRequest.onerror()}}}),h.delayLoadingTime-H)}}return t={load:function(e){e.request?L(e,R.getRetryAttemptsForType(e.request.type)):e.error&&e.error(e.request,"error")},abort:function(){s.forEach((function(e){clearTimeout(e.timeout),e.config.request&&e.config.abort&&e.config.abort(e.config.request)})),s=[],n.forEach((function(e){return clearTimeout(e.delayTimeout)})),n=[],r.forEach((function(e){e.request.type!==d.a.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(e.onloadend=e.onerror=e.onprogress=void 0,e.loader.abort(e))})),r=[]}},E=Object(_.a)(A).getInstance().getLogger(t),r=[],n=[],s=[],c=Object(h.a)(A).getInstance(),l=v(A).getInstance(),T(b={},d.a.MPD_TYPE,w.DOWNLOAD_ERROR_ID_MANIFEST_CODE),T(b,d.a.XLINK_EXPANSION_TYPE,w.DOWNLOAD_ERROR_ID_XLINK_CODE),T(b,d.a.INIT_SEGMENT_TYPE,w.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),T(b,d.a.MEDIA_SEGMENT_TYPE,w.DOWNLOAD_ERROR_ID_CONTENT_CODE),T(b,d.a.INDEX_SEGMENT_TYPE,w.DOWNLOAD_ERROR_ID_CONTENT_CODE),T(b,d.a.BITSTREAM_SWITCHING_SEGMENT_TYPE,w.DOWNLOAD_ERROR_ID_CONTENT_CODE),T(b,d.a.OTHER_TYPE,w.DOWNLOAD_ERROR_ID_CONTENT_CODE),u=b,t}b.__dashjs_factory_name="HTTPLoader";var A=n.a.getClassFactory(b);function I(){var e;function t(){e={}}function r(){t()}return r(),{getLoader:function(t){for(var r in e)if(e.hasOwnProperty(r)&&t.startsWith(r))return e[r];return A},registerLoader:function(t,r){e[t]=r},unregisterLoader:function(t){e[t]&&delete e[t]},unregisterAllLoader:t,reset:r}}I.__dashjs_factory_name="SchemeLoaderFactory";var S=n.a.getSingletonFactory(I);t.a=S},,function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,i="/"===o.charAt(0))}return(i?"/":"")+(t=r(n(t.split("/"),(function(e){return!!e})),!i).join("/"))||"."},t.normalize=function(e){var a=t.isAbsolute(e),o="/"===i(e,-1);return(e=r(n(e.split("/"),(function(e){return!!e})),!a).join("/"))||a||(e="."),e&&o&&(e+="/"),(a?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var i=n(e.split("/")),a=n(r.split("/")),o=Math.min(i.length,a.length),s=o,u=0;u<o;u++)if(i[u]!==a[u]){s=u;break}var c=[];for(u=s;u<i.length;u++)c.push("..");return(c=c.concat(a.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,i=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!i){n=a;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var r=function(e){"string"!=typeof e&&(e+="");var t,r=0,n=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){r=t+1;break}}else-1===n&&(i=!1,n=t+1);return-1===n?"":e.slice(r,n)}(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,r=0,n=-1,i=!0,a=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===n&&(i=!1,n=o+1),46===s?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1);else if(!i){r=o+1;break}}return-1===t||-1===n||0===a||1===a&&t===n-1&&t===r+1?"":e.slice(t,n)};var i="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,r(26))},,,,,,,,,,,function(e,t,r){"use strict";var n=r(1),i=r(3),a=r(4),o=r(10);function s(e){var t,r,i,s,u,c=(e=e||{}).eventBus,l=e.events,f=e.abrController,d=e.dashMetrics,p=e.playbackController,h=e.timelineConverter,m=e.type,_=e.streamInfo,g=e.dashConstants,y=e.segmentsController,E=e.isDynamic;function v(){return m}function T(){if(!(f&&d&&p&&h))throw new Error(n.a.MISSING_CONFIG_ERROR)}function b(){return i}function A(){return u}function I(){r=null,i=!0,s=[]}function S(e){return new Promise((function(t,r){var n=e.hasInitialization(),i=e.hasSegments(),a=[];a.push(y.updateInitData(e,n)),a.push(y.updateSegmentData(e,i)),Promise.all(a).then((function(r){var n;r[0]&&!r[0].error&&(e=function(e,t){if(!t||t.error||!t.representation)return e;return t.representation}(e,r[0])),r[1]&&!r[1].error&&(e=function(e,t){if(!t||t.error)return;var r,n,i,a,s=t.segments,u=[],c=0;for(r=0,n=s?s.length:0;r<n;r++)i=s[r],(a=Object(o.b)(h,E,e,i.startTime,i.duration,i.timescale,i.media,i.mediaRange,c))&&(u.push(a),a=null,c++);u.length>0&&(e.segments=u);return e}(e,r[1])),(n=e).mediaFinishedInformation=y.getMediaFinishedInformation(n),function(e){if(!b())return;var t,r=d.getCurrentManifestUpdate(),n=!1;if(r){for(var i=0;i<r.representationInfo.length;i++)if((t=r.representationInfo[i]).index===e.index&&t.mediaType===v()){n=!0;break}n||d.addManifestUpdateRepresentationInfo(e,v())}if(function(){for(var e=0,t=s.length;e<t;e++){var r=s[e].segmentInfoType;if(!s[e].hasInitialization()||(r===g.SEGMENT_BASE||r===g.BASE_URL)&&!s[e].segments)return!1}return!0}()){f.setPlaybackQuality(m,_,(o=u,s.indexOf(o)));var a=d.getCurrentDVRInfo(m);a&&d.updateManifestUpdateInfo({latency:a.range.end-p.getTime()}),d.getCurrentRepresentationSwitch(A().adaptation.type)||R(),N()}var o}(e),t()})).catch((function(e){r(e)}))}))}function R(){T();var e=new Date,t=A(),r=1e3*p.getTime();t&&d.addRepresentationSwitch(t.adaptation.type,e,r,t.id),c.trigger(a.a.REPRESENTATION_SWITCH,{mediaType:m,streamId:_.id,currentRepresentation:t,numberOfRepresentations:s.length},{streamId:_.id,mediaType:m})}function O(e){return null==e||e>=s.length?null:s[e]}function N(e){i=!1,c.trigger(l.DATA_UPDATE_COMPLETED,{data:r,currentRepresentation:u,error:e},{streamId:_.id,mediaType:m})}function w(e){u=e}function D(e){if(e.newDuration){var t=A();if(t&&t.adaptation.period)t.adaptation.period.duration=e.newDuration}}return t={getStreamId:function(){return _.id},getType:v,getData:function(){return r},isUpdating:b,updateData:function(e,t,a,o,u){if(T(),i=!0,s=t,w(O(u)),r=e,a!==n.a.VIDEO&&a!==n.a.AUDIO&&(a!==n.a.TEXT||!o))return N(),Promise.resolve();for(var c=[],l=0,f=s.length;l<f;l++){var d=s[l];c.push(S(d))}return Promise.all(c)},getCurrentRepresentation:A,getRepresentationForQuality:O,prepareQualityChange:function(e){w(O(e)),R()},reset:function(){c.off(a.a.MANIFEST_VALIDITY_CHANGED,D,t),I()}},I(),c.on(a.a.MANIFEST_VALIDITY_CHANGED,D,t),t}s.__dashjs_factory_name="RepresentationController",t.a=i.a.getClassFactory(s)},,function(e,t,r){"use strict";var n=Array.isArray,i=Object.keys,a=Object.prototype.hasOwnProperty;e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){var o,s,u,c=n(t),l=n(r);if(c&&l){if((s=t.length)!=r.length)return!1;for(o=s;0!=o--;)if(!e(t[o],r[o]))return!1;return!0}if(c!=l)return!1;var f=t instanceof Date,d=r instanceof Date;if(f!=d)return!1;if(f&&d)return t.getTime()==r.getTime();var p=t instanceof RegExp,h=r instanceof RegExp;if(p!=h)return!1;if(p&&h)return t.toString()==r.toString();var m=i(t);if((s=m.length)!==i(r).length)return!1;for(o=s;0!=o--;)if(!a.call(r,m[o]))return!1;for(o=s;0!=o--;)if(!e(t[u=m[o]],r[u]))return!1;return!0}return t!=t&&r!=r}},function(e,t,r){"use strict";var n=r(3);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){function t(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}function r(e,r,n){for(var a=0,o=e.length;a<o;++a){var s=e[a];if(r[s.name])if(n[s.name]){if(s.merge){var u=r[s.name],c=n[s.name];"object"===i(u)&&"object"===i(c)?t(u,c):n[s.name]=u+c}}else n[s.name]=r[s.name]}}function n(e,t){for(var i=0,a=e.children.length;i<a;++i){var o=e.children[i],s=t[o.name+"_asArray"];if(s)for(var u=0,c=s.length;u<c;++u){var l=s[u];r(e.properties,t,l),n(o,l)}}}return{run:function(t){if(null===t||"object"!==i(t))return t;if(t.Period_asArray&&"period"in e)for(var r=e.period,a=t.Period_asArray,o=0,s=a.length;o<s;++o){var u=a[o];if(n(r,u),"adaptationset"in e){var c=u.AdaptationSet_asArray;if(c)for(var l=e.adaptationset,f=0,d=c.length;f<d;++f)n(l,c[f])}}return t}}}a.__dashjs_factory_name="ObjectIron";var o=n.a.getClassFactory(a),s=r(40);function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._test=t,this._converter=r}var t,r,n;return t=e,(r=[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}])&&u(t.prototype,r),n&&u(t,n),e}(),l=r(0);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=_(e);if(t){var i=_(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}function m(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(r,e);var t=h(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t.call(this,(function(e,t){var r,n=(d(r={},l.a.MPD,[l.a.ID,l.a.PROFILES]),d(r,l.a.PERIOD,[l.a.ID]),d(r,l.a.BASE_URL,[l.a.SERVICE_LOCATION,l.a.BYTE_RANGE]),d(r,l.a.SEGMENT_BASE,[l.a.INDEX_RANGE]),d(r,l.a.INITIALIZATION,[l.a.RANGE]),d(r,l.a.REPRESENTATION_INDEX,[l.a.RANGE]),d(r,l.a.SEGMENT_LIST,[l.a.INDEX_RANGE]),d(r,l.a.BITSTREAM_SWITCHING,[l.a.RANGE]),d(r,l.a.SEGMENT_URL,[l.a.MEDIA_RANGE,l.a.INDEX_RANGE]),d(r,l.a.SEGMENT_TEMPLATE,[l.a.INDEX_RANGE,l.a.MEDIA,l.a.INDEX,l.a.INITIALIZATION_MINUS,l.a.BITSTREAM_SWITCHING_MINUS]),d(r,l.a.ASSET_IDENTIFIER,[l.a.VALUE,l.a.ID]),d(r,l.a.EVENT_STREAM,[l.a.VALUE]),d(r,l.a.ADAPTATION_SET,[l.a.PROFILES,l.a.MIME_TYPE,l.a.SEGMENT_PROFILES,l.a.CODECS,l.a.CONTENT_TYPE]),d(r,l.a.FRAME_PACKING,[l.a.VALUE,l.a.ID]),d(r,l.a.AUDIO_CHANNEL_CONFIGURATION,[l.a.VALUE,l.a.ID]),d(r,l.a.CONTENT_PROTECTION,[l.a.VALUE,l.a.ID]),d(r,l.a.ESSENTIAL_PROPERTY,[l.a.VALUE,l.a.ID]),d(r,l.a.SUPPLEMENTAL_PROPERTY,[l.a.VALUE,l.a.ID]),d(r,l.a.INBAND_EVENT_STREAM,[l.a.VALUE,l.a.ID]),d(r,l.a.ACCESSIBILITY,[l.a.VALUE,l.a.ID]),d(r,l.a.ROLE,[l.a.VALUE,l.a.ID]),d(r,l.a.RATING,[l.a.VALUE,l.a.ID]),d(r,l.a.VIEWPOINT,[l.a.VALUE,l.a.ID]),d(r,l.a.CONTENT_COMPONENT,[l.a.CONTENT_TYPE]),d(r,l.a.REPRESENTATION,[l.a.ID,l.a.DEPENDENCY_ID,l.a.MEDIA_STREAM_STRUCTURE_ID]),d(r,l.a.SUBSET,[l.a.ID]),d(r,l.a.METRICS,[l.a.METRICS_MINUS]),d(r,l.a.REPORTING,[l.a.VALUE,l.a.ID]),r);if(n.hasOwnProperty(t)){var i=n[t];return void 0!==i&&i.indexOf(e.name)>=0}return!1}),(function(e){return String(e)}))}return r}(c),y=r(1);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A(e);if(t){var i=A(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return b(this,r)}}function b(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(r,e);var t=T(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t.call(this,(function(e){for(var t=[l.a.MIN_BUFFER_TIME,l.a.MEDIA_PRESENTATION_DURATION,l.a.MINIMUM_UPDATE_PERIOD,l.a.TIMESHIFT_BUFFER_DEPTH,l.a.MAX_SEGMENT_DURATION,l.a.MAX_SUBSEGMENT_DURATION,l.a.SUGGESTED_PRESENTATION_DELAY,l.a.START,y.a.START_TIME,l.a.DURATION],r=t.length,n=0;n<r;n++)if(e.nodeName===t[n])return I.test(e.value);return!1}),(function(e){var t=I.exec(e),r=31536e3*parseFloat(t[3]||0)+2592e3*parseFloat(t[5]||0)+86400*parseFloat(t[7]||0)+3600*parseFloat(t[9]||0)+60*parseFloat(t[11]||0)+parseFloat(t[13]||0);return void 0!==t[1]&&(r=-r),r}))}return r}(c);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=D(e);if(t){var i=D(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return w(this,r)}}function w(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(r,e);var t=N(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t.call(this,(function(e){return P.test(e.value)}),(function(e){var t,r=P.exec(e);if(t=Date.UTC(parseInt(r[1],10),parseInt(r[2],10)-1,parseInt(r[3],10),parseInt(r[4],10),parseInt(r[5],10),r[6]&&parseInt(r[6],10)||0,r[7]&&1e3*parseFloat(r[7])||0),r[9]&&r[10]){var n=60*parseInt(r[9],10)+parseInt(r[10],10);t+=("+"===r[8]?-1:1)*n*60*1e3}return new Date(t)}))}return r}(c);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=U(e);if(t){var i=U(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return x(this,r)}}function x(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(r,e);var t=F(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t.call(this,(function(e){return B.test(e.value)}),(function(e){return parseFloat(e)}))}return r}(c);function q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var j=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r;this._name=t,this._merge=(r=t)&&r.length&&r.charAt(0)===r.charAt(0).toUpperCase()}var t,r,n;return t=e,(r=[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}])&&q(t.prototype,r),n&&q(t,n),e}();function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var H=function(){function e(t,r,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t||"",this._properties=[],this._children=n||[],Array.isArray(r)&&r.forEach((function(e){i._properties.push(new j(e))}))}var t,r,n;return t=e,(r=[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}])&&k(t.prototype,r),n&&k(t,n),e}();function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=W(e);if(t){var i=W(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return X(this,r)}}function X(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(r,e);var t=z(r);function r(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var e=[l.a.PROFILES,l.a.WIDTH,l.a.HEIGHT,l.a.SAR,l.a.FRAMERATE,l.a.AUDIO_SAMPLING_RATE,l.a.MIME_TYPE,l.a.SEGMENT_PROFILES,l.a.CODECS,l.a.MAXIMUM_SAP_PERIOD,l.a.START_WITH_SAP,l.a.MAX_PLAYOUT_RATE,l.a.CODING_DEPENDENCY,l.a.SCAN_TYPE,l.a.FRAME_PACKING,l.a.AUDIO_CHANNEL_CONFIGURATION,l.a.CONTENT_PROTECTION,l.a.ESSENTIAL_PROPERTY,l.a.SUPPLEMENTAL_PROPERTY,l.a.INBAND_EVENT_STREAM];return t.call(this,l.a.ADAPTATION_SET,e,[new H(l.a.REPRESENTATION,e,[new H(l.a.SUB_REPRESENTATION,e)])])}return r}(H);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ee(e);if(t){var i=ee(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return J(this,r)}}function J(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(r,e);var t=$(r);function r(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var e=[l.a.SEGMENT_BASE,l.a.SEGMENT_TEMPLATE,l.a.SEGMENT_LIST];return t.call(this,l.a.PERIOD,e,[new H(l.a.ADAPTATION_SET,e,[new H(l.a.REPRESENTATION,e)])])}return r}(H);function re(e){e=e||{};var t,r,n,i,a,u=this.context,c=e.debug;return t={parse:function(e){var t,n=window.performance.now();if(!(t=i.xml_str2json(e)))throw new Error("parsing the manifest failed");var o=window.performance.now();t.Patch?((t=t.Patch).add_asArray&&t.add_asArray.forEach((function(e){return a.run(e)})),t.replace_asArray&&t.replace_asArray.forEach((function(e){return a.run(e)}))):(t=t.MPD,a.run(t));var s=window.performance.now();return r.info("Parsing complete: ( xml2json: "+(o-n).toPrecision(3)+"ms, objectiron: "+(s-o).toPrecision(3)+"ms, total: "+((s-n)/1e3).toPrecision(3)+"s)"),t.protocol="DASH",t},getMatchers:function(){return n},getIron:function(){return a}},r=c.getLogger(t),n=[new S,new C,new G,new g],i=new s.a({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:n}),a=o(u).create({adaptationset:new K,period:new te}),t}re.__dashjs_factory_name="DashParser";t.a=n.a.getClassFactory(re)},function(e,t,r){"use strict";var n=r(1),i=r(19);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var i=c(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,e);var t=s(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).checkForExistenceOnly=!0,n}return r}(r(12).a),f=r(8),d=r(3);function p(e){e=e||{};var t,r,a=this.context,o=e.eventBus,s=e.events,u=e.urlUtils,c=e.errors,d=e.streamId;return t={checkForExistence:function(e){var t=function(t){o.trigger(s.CHECK_FOR_EXISTENCE_COMPLETED,{request:e,exists:t})};if(e){var n=new l(e.url);r.load({request:n,success:function(){t(!0)},error:function(){t(!1)}})}else t(!1)},load:function(e){var n=function(r,n){o.trigger(s.LOADING_COMPLETED,{request:e,response:r||null,error:n||null,sender:t})};e?r.load({request:e,progress:function(r){o.trigger(s.LOADING_PROGRESS,{request:e,stream:r.stream,streamId:d}),r.data&&o.trigger(s.LOADING_DATA_PROGRESS,{request:e,response:r.data||null,error:null,sender:t})},success:function(e){n(e)},error:function(e,t,r){n(void 0,new f.a(c.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,r,t))},abort:function(e){e&&o.trigger(s.LOADING_ABANDONED,{mediaType:e.mediaType,request:e,sender:t})}}):n(void 0,new f.a(c.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,c.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){r&&r.abort()},reset:function(){r&&(r.abort(),r=null)}},r=Object(i.a)(a).create({errHandler:e.errHandler,errors:c,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,urlUtils:u,constants:n.a,boxParser:e.boxParser,dashConstants:e.dashConstants,requestTimeout:e.settings.get().streaming.fragmentRequestTimeout}),t}p.__dashjs_factory_name="FragmentLoader";t.a=d.a.getClassFactory(p)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()}var t,r,i;return t=e,(r=[{key:"init",value:function(){this.OFFLINE_SCHEME="offline_indexeddb",this.OFFLINE_URL_REGEX=/^offline_indexeddb:\/\//i,this.OFFLINE_STATUS_CREATED="created",this.OFFLINE_STATUS_STARTED="started",this.OFFLINE_STATUS_STOPPED="stopped",this.OFFLINE_STATUS_FINISHED="finished",this.OFFLINE_STATUS_ERROR="error"}}])&&n(t.prototype,r),i&&n(t,i),e}()),a=r(101),o=r(96).XmlEntities;function s(){var e,t;function r(e){return n().then((function(t){if(t){for(var r=null,n=0;n<t.manifests.length;n++)t.manifests[n].manifestId===parseInt(e)&&(r=t.manifests[n]);return null!==r?(r.manifest=o.decode(r.manifest),Promise.resolve(r)):Promise.reject("Cannot found manifest with this manifestId : "+e)}return Promise.reject("Any manifests stored in DB !")})).catch((function(e){return Promise.reject(e)}))}function n(){return e.getItem("manifest").then((function(e){return Promise.resolve(e||{manifests:[]})})).catch((function(e){return Promise.reject(e)}))}function i(t){return n().then((function(r){try{for(var n=0;n<r.manifests.length;n++)r.manifests[n].manifestId===t.manifestId&&(r.manifests[n]=t);return e.setItem("manifest",r)}catch(e){throw new Error("Any results found !")}}))}return t={},"undefined"!=typeof window&&(a.config({driver:a.INDEXEDDB,name:"dash_offline_db"}),e=a.createInstance({driver:a.INDEXEDDB,name:"dash_offline_db",version:1,storeName:"manifest"})),{dropAll:function(){return a.clear().then((function(){return Promise.resolve()})).catch((function(e){return Promise.reject(e)}))},getFragmentByKey:function(e,r){var n=t[e];return n?n.getItem(r).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)})):Promise.reject(new Error("No fragment store found for manifest ".concat(e)))},getManifestById:r,storeFragment:function(e,r,n){var i=t[e];return i?i.setItem(r,n,(function(){return Promise.resolve()})).catch((function(e){return Promise.reject(e)})):Promise.reject(new Error("No fragment store found for manifest ".concat(e)))},storeManifest:function(t){return e.getItem("manifest").then((function(r){var n=r||{manifests:[]};return n.manifests.push(t),e.setItem("manifest",n)}))},updateManifest:i,saveSelectedRepresentations:function(e,t){return r(e).then((function(e){return e.selected||(e.selected={}),e.selected=t,i(e).catch((function(){return Promise.reject("Cannot save selected representations")}))})).catch((function(e){return Promise.reject(e)}))},createFragmentStore:function(e){if(!t[e]){console.log("setStore  "+e);var r=a.createInstance({driver:a.INDEXEDDB,name:"dash_offline_db",version:1,storeName:e});t[e]=r}},setDownloadingStatus:function(e,t){return r(e).then((function(e){return e.status=t,i(e).catch((function(){return Promise.reject("Cannot set status "+t+" for this stream !")}))})).catch((function(e){return Promise.reject(e)}))},setRepresentationCurrentState:function(e,t,n){return r(e).then((function(e){return e.state||(e.state={}),e.state[t]||(e.state[t]={index:-1,downloaded:0}),e.state[t]=n,i(e).catch((function(){return Promise.reject("Cannot set current index for represenation id "+t)}))})).catch((function(e){return Promise.reject(e)}))},getRepresentationCurrentState:function(e,t){return r(e).then((function(e){var r={index:-1,downloaded:0};return e.state&&e.state[t]&&(r=e.state[t]),Promise.resolve(r)})).catch((function(e){return Promise.reject(e)}))},getCurrentHigherManifestId:function(){return n().then((function(e){var t=0;if(e){for(var r=0;r<e.manifests.length;r++)e.manifests[r].manifestId>t&&(t=e.manifests[r].manifestId);return Promise.resolve(t)}return Promise.resolve(t)})).catch((function(e){return Promise.reject(e)}))},getAllManifests:n,dropFragmentStore:function(e){a.dropInstance({driver:a.INDEXEDDB,name:"dash_offline_db",version:1,storeName:e}).then((function(){delete t[e]})).catch((function(e){console.log("dropFragmentStore failed "+e)}))},deleteDownloadById:function(r){return e.getItem("manifest").then((function(n){return n?(i=r,a.createInstance({name:"dash_offline_db",storeName:i}),a.dropInstance({name:"dash_offline_db",storeName:i}).then((function(){return delete t[i],Promise.resolve()})).catch((function(e){return console.log(e),Promise.reject(e)}))).then((function(){for(var t=0;t<n.manifests.length;t++)n.manifests[t].manifestId===parseInt(r)&&n.manifests.splice(t,1);return e.setItem("manifest",n).then((function(){return Promise.resolve("This stream has been successfull removed !")})).catch((function(){return Promise.reject("An error occured when trying to delete this manifest")}))})):Promise.resolve("Nothing to delete !");var i})).catch((function(e){return Promise.reject(e)}))}}}s.__dashjs_factory_name="IndexDBStore";var u=dashjs.FactoryMaker.getSingletonFactory(s);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var i=p(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(r,e);var t=f(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(e=t.call(this)).OFFLINE_ERROR=11e3,e.INDEXEDDB_QUOTA_EXCEED_ERROR=11001,e.INDEXEDDB_INVALID_STATE_ERROR=11002,e.INDEXEDDB_NOT_READABLE_ERROR=11003,e.INDEXEDDB_NOT_FOUND_ERROR=11004,e.INDEXEDDB_NETWORK_ERROR=11005,e.INDEXEDDB_DATA_ERROR=11006,e.INDEXEDDB_TRANSACTION_INACTIVE_ERROR=11007,e.INDEXEDDB_NOT_ALLOWED_ERROR=11008,e.INDEXEDDB_NOT_SUPPORTED_ERROR=11009,e.INDEXEDDB_VERSION_ERROR=11010,e.INDEXEDDB_TIMEOUT_ERROR=11011,e.INDEXEDDB_ABORT_ERROR=11012,e.INDEXEDDB_UNKNOWN_ERROR=11013,e}return r}(r(24).a));function m(e){e=e||{};var t,r,n=this.context,i=e.errHandler;function a(e){var t;if(e){switch(e.name){case"QuotaExceededError":t=h.INDEXEDDB_QUOTA_EXCEED_ERROR;break;case"InvalidStateError":t=h.INDEXEDDB_INVALID_STATE_ERROR;break;case"NotFoundError":t=h.INDEXEDDB_NOT_FOUND_ERROR;break;case"VersionError":t=h.INDEXEDDB_VERSION_ERROR}i.error({code:t,message:e.name,data:e})}}return t={storeFragment:function(e,t,n){return r.storeFragment(e,t,n).catch((function(e){a(e)}))},createOfflineManifest:function(e){return r.storeManifest(e).catch((function(e){a(e)}))},updateOfflineManifest:function(e){return r.updateManifest(e).catch((function(e){a(e)}))},getManifestById:function(e){return r.getManifestById(e).catch((function(e){a(e)}))},saveSelectedRepresentations:function(e,t){return r.saveSelectedRepresentations(e,t).catch((function(e){a(e)}))},createFragmentStore:function(e,t){try{r.createFragmentStore(e,t)}catch(e){a(e)}},getCurrentHigherManifestId:function(){return r.getCurrentHigherManifestId().catch((function(e){a(e)}))},getAllManifests:function(){return r.getAllManifests().catch((function(e){a(e)}))},deleteDownloadById:function(e){return r.deleteDownloadById(e).catch((function(e){a(e)}))},setDownloadingStatus:function(e,t){return r.setDownloadingStatus(e,t).catch((function(e){a(e)}))},setRepresentationCurrentState:function(e,t,n){return r.setRepresentationCurrentState(e,t,n).catch((function(e){a(e)}))},getRepresentationCurrentState:function(e,t){return r.getRepresentationCurrentState(e,t).catch((function(e){a(e)}))}},r=u(n).getInstance(),t}m.__dashjs_factory_name="OfflineStoreController";var _=dashjs.FactoryMaker.getClassFactory(m),g=r(31),y=r(54),E=r(18),v=r(58),T=r(11),b=r(23),A=r(32);function I(e){e=e||{};var t,r,n,i,a,o,s,u,c,l,f,d=this.context,p=e.eventBus,h=e.events,m=e.errors,_=e.debug,I=e.constants,S=e.settings,R=e.dashConstants,O=e.id,N=e.type,w=e.streamInfo,D=e.errHandler,P=e.mediaPlayerModel,C=e.abrController,L=e.playbackController,M=e.adapter,F=e.dashMetrics,x=e.baseURLController,U=e.timelineConverter,B=e.bitrate,G=e.offlineStoreController,q=e.callbacks&&e.callbacks.completed,j=e.callbacks&&e.callbacks.progression;function k(e){if(e.sender===o){if(null!==e.request){var t="InitializationSegment"===e.request.type,r=t?"init":e.request.index,n=e.request.representationId+"_"+r;G.storeFragment(O,n,e.response).then((function(){t||G.setRepresentationCurrentState(O,e.request.representationId,{index:e.request.index,downloaded:u})}))}e.error&&e.request.serviceLocation&&!f?o.executeRequest(e.request):(u++,Y())}}function H(e){e.fragmentModel===o&&(r.info("[".concat(O,"] Stream is complete")),V(),q())}function V(){f||(f=!0)}function Y(){if(!f&&isNaN(a.getCurrentRepresentation())){var e=null;c?(e=i.getNextSegmentRequest(z(),a.getCurrentRepresentation()),j&&j(t,u,X())):(e=a.getCurrentRepresentation()?i.getInitRequest(z(),a.getCurrentRepresentation()):null,c=!0),e?(r.info("[".concat(O,"] download request : ").concat(e.url)),o.executeRequest(e)):r.info("[".concat(O,"] no request to be downloaded"))}}function z(){return n}function X(){return a.getCurrentRepresentation().numberOfSegments+1}function W(){c=!1,u=0,s=!1}return t={initialize:function(e){n=e,i.initialize(!1),function(e){s=!0;var t=M.getVoRepresentations(e),r=t.findIndex((function(e){return e.id===B.id}));if(N!==I.VIDEO&&N!==I.AUDIO&&N!==I.TEXT)return void(s=!1);a.updateData(null,t,N,e.isFragmented,r)}(n)},getMediaInfo:z,getRepresentationController:function(){return a},removeExecutedRequestsBeforeTime:function(e){o&&o.removeExecutedRequestsBeforeTime(e)},getType:function(){return N},getRepresentationId:function(){return a.getCurrentRepresentation().id},isUpdating:function(){return s},start:function(){if(a){if(!a.getCurrentRepresentation())throw new Error("Start denied to OfflineStreamProcessor");f=!1,G.getRepresentationCurrentState(O,a.getCurrentRepresentation().id).then((function(e){e&&(i.setCurrentIndex(e.index),u=e.downloaded),Y()})).catch((function(){Y()}))}},stop:V,getAvailableSegmentsNumber:X,reset:function(){W(),i.reset(),p.off(h.STREAM_REQUESTING_COMPLETED,H,t),p.off(h.FRAGMENT_LOADING_COMPLETED,k,t)}},W(),r=_.getLogger(t),l=Object(A.a)(d).create({events:h,eventBus:p,streamInfo:w,timelineConverter:U,dashConstants:R,segmentBaseController:e.segmentBaseController,type:N}),i=Object(g.a)(d).create({streamInfo:w,type:N,timelineConverter:U,dashMetrics:F,mediaPlayerModel:P,baseURLController:x,errHandler:D,settings:S,eventBus:p,events:h,debug:_,requestModifier:Object(b.a)(d).getInstance(),dashConstants:R,constants:I,segmentsController:l,urlUtils:Object(T.a)(d).getInstance()}),a=Object(y.a)(d).create({streamInfo:w,type:N,abrController:C,dashMetrics:F,playbackController:L,timelineConverter:U,dashConstants:R,events:h,eventBus:p,errors:m,segmentsController:l}),o=Object(E.a)(d).create({streamInfo:w,dashMetrics:F,fragmentLoader:Object(v.a)(d).create({dashMetrics:F,mediaPlayerModel:P,errHandler:D,requestModifier:Object(b.a)(d).getInstance(),settings:S,eventBus:p,events:h,errors:m,constants:I,dashConstants:R,urlUtils:Object(T.a)(d).getInstance()}),debug:_,eventBus:p,events:h}),p.on(h.STREAM_REQUESTING_COMPLETED,H,t),p.on(h.FRAGMENT_LOADING_COMPLETED,k,t),t}I.__dashjs_factory_name="OfflineStreamProcessor";var S=dashjs.FactoryMaker.getClassFactory(I);function R(e){e=e||{};var t,r,n,i,a,o,s,u,c=this.context,l=e.eventBus,f=e.events,d=e.errors,p=e.constants,h=e.dashConstants,m=e.settings,_=e.debug,g=e.errHandler,y=e.mediaPlayerModel,E=e.abrController,v=e.playbackController,T=e.adapter,b=e.dashMetrics,A=e.baseURLController,I=e.timelineConverter,R=e.segmentBaseController,O=e.offlineStoreController,N=e.id,w=e.callbacks&&e.callbacks.started,D=e.callbacks&&e.callbacks.progression,P=e.callbacks&&e.callbacks.finished,C=e.callbacks&&e.callbacks.updateManifestNeeded;function L(){a=null,r=[],n=0,i=0,s=[],o=[],u={}}function M(e,t){var r=T.getAllMediaInfoForType(t,e);return r.forEach((function(t){t.bitrateList=t.bitrateList.filter((function(t){return!(!s[e]||-1===s[e].indexOf(t.id))}))})),(r=r.filter((function(e){return e.bitrateList&&e.bitrateList.length>0}))).forEach((function(e){e.bitrateList&&e.bitrateList.forEach((function(t){F(e,t)}))})),r}function F(e,t){var n=S(c).create({id:N,streamInfo:a,debug:_,events:f,errors:d,eventBus:l,constants:p,dashConstants:h,settings:m,type:e.type,mimeType:e.mimeType,bitrate:t,errHandler:g,mediaPlayerModel:y,abrController:E,playbackController:v,adapter:T,dashMetrics:b,baseURLController:A,timelineConverter:I,offlineStoreController:O,segmentBaseController:R,callbacks:{completed:x,progression:U}});r.push(n),n.initialize(e),u[t.id]=null}function x(){++i===r.length&&P({sender:this,id:N,message:"Downloading has been successfully completed for this stream !"})}function U(e,r,n){u[e.getRepresentationId()]={downloadedSegments:r,availableSegments:n};var i,a=0,o=0;for(var s in u)u.hasOwnProperty(s)&&(null===u[s]?i=!0:(a+=u[s].downloadedSegments,o+=u[s].availableSegments));!i&&D&&o>0&&D(t,a,o)}function B(e){var t;e.currentRepresentation.segments&&e.currentRepresentation.segments.length>0&&o.push(e.currentRepresentation);for(var i=0;i<r.length;i++)if(r[i].getRepresentationController().getType()===e.mediaType){t=r[i];break}t&&function(){++n===r.length&&(w({sender:this,id:N,message:"Downloading started for this stream !"}),o.length>0?C({sender:this,id:N,representations:o}):q())}()}function G(){for(var e=0;e<r.length;e++)r[e].stop()}function q(){for(var e=0;e<r.length;e++)r[e].start()}return t={initialize:function(e){a=e,l.on(f.DATA_UPDATE_COMPLETED,B,t)},getStreamId:function(){return a.id},getMediaInfos:function(){var e=T.getAllMediaInfoForType(a,p.VIDEO);e=(e=e.concat(T.getAllMediaInfoForType(a,p.AUDIO))).concat(T.getAllMediaInfoForType(a,p.TEXT)),l.trigger(f.OFFLINE_RECORD_LOADEDMETADATA,{id:N,mediaInfos:e})},initializeAllMediasInfoList:function(e){s=e,function(e){M(p.VIDEO,e),M(p.AUDIO,e),M(p.TEXT,e),M(p.MUXED,e),M(p.IMAGE,e)}(a)},getStreamInfo:function(){return a},stopOfflineStreamProcessors:G,startOfflineStreamProcessors:q,reset:function(){G(),function(){for(var e=r?r.length:0,t=0;t<e;t++)r[t].removeExecutedRequestsBeforeTime((a?a.start:NaN)+(a?a.duration:NaN)),r[t].reset()}(),L(),l.off(f.DATA_UPDATE_COMPLETED,B,t)}},L(),t}R.__dashjs_factory_name="OfflineStream";var O=dashjs.FactoryMaker.getClassFactory(R),N=r(96).XmlEntities;function w(e){var t,r,n,i=e.manifestId,a=e.allMediaInfos,o=e.urlUtils,s=e.debug,u=e.dashConstants,c=e.constants;function l(e){var t,n,a,s="".concat("offline_indexeddb://").concat(i,"/");if(0===(t=e.getElementsByTagName(u.BASE_URL)).length){var c=r.createElement(u.BASE_URL);c.innerHTML=s,e.appendChild(c)}t=e.getElementsByTagName(u.BASE_URL);for(var l=0;l<t.length;l++){var f=t[l].parentNode;if(f.nodeName===u.MPD)t[l].innerHTML=s;else if(f.nodeName===u.REPRESENTATION){var d=f.parentNode;d.nodeName==u.ADAPTATION_SET&&(o.isHTTPS(t[l].innerHTML)||o.isHTTPURL(t[l].innerHTML)?(n=I(t[l].innerHTML),a=A(d),t[l].innerHTML=s+a+"_"+n):"./"===t[l].innerHTML?t[l].innerHTML=s:(n=I(t[l].innerHTML),a=A(d),t[l].innerHTML=a+"_"+n))}else t[l].innerHTML=s}}function f(e,t){for(var r=e.getElementsByTagName(u.PERIOD),n=0;n<r.length;n++)d(r[n],t)}function d(e,t){for(var r,n,i,a,o=(r=e.getElementsByTagName(u.ADAPTATION_SET)).length-1;o>=0;o--)if(n=r[o])if(i=p(n),b(n,a=_(n),i),a=_(n),y(n),0===a.length)e.removeChild(n);else{for(var s=0;s<a.length;s++){var c=a[s],l=c.getElementsByTagName(u.SEGMENT_LIST);l.length>=1&&v(l,c)}var f=g(n);if(f.length>=1&&E(f),t&&t.length>0){for(var d=void 0,h=0;h<a.length;h++)for(var m=a[h],A=0;t&&A<t.length;A++)if(t[A].id===m.id){d=t[A];break}T(n,d)}}}function p(e){return h(e,c.MUXED)?c.MUXED:function(e){return h(e,c.AUDIO)}(e)?c.AUDIO:function(e){return h(e,c.VIDEO)}(e)?c.VIDEO:function(e){return h(e,c.TEXT)}(e)?c.TEXT:function(e){return h(e,c.IMAGE)}(e)?c.IMAGE:null}function h(e,t){if(!e)throw new Error("adaptation is not defined");if(!t)throw new Error("type is not defined");return function(e,t){var r=t!==c.TEXT?new RegExp(t):new RegExp("(vtt|ttml)"),n=m(e);if(n)return r.test(n);var i=_(e);if(i)for(var a=0;a<i.length;a++){var o=i[a];if(n=m(o))return r.test(n)}return!1}(e,t)}function m(e){return e.getAttribute(u.MIME_TYPE)}function _(e){return e.getElementsByTagName(u.REPRESENTATION)}function g(e){return e.getElementsByTagName(u.SEGMENT_TEMPLATE)}function y(e){for(var t=e.getElementsByTagName(u.SEGMENT_BASE),r=0;r<t.length;r++){var n=t[r];n.parentNode.removeChild(n)}}function E(e){for(var t=0;t<e.length;t++){var r=e[t].getAttribute(u.MEDIA);r="$RepresentationID$_$Number$"+r.substring(r.indexOf("."),r.length),e[t].setAttribute(u.START_NUMBER,"0"),e[t].setAttribute(u.MEDIA,r),e[t].setAttribute(u.INITIALIZATION_MINUS,"$RepresentationID$_init")}}function v(e,t){for(var r=t.getAttribute(u.ID),n=0;n<e.length;n++){var i=e[n],a=i.getElementsByTagName(u.INITIALIZATION);if(a){var o=a[0].getAttribute(u.SOURCE_URL);o="".concat(r,"_init"),a[0].setAttribute(u.SOURCE_URL,o)}var s=i.getElementsByTagName(u.SEGMENT_URL);if(s)for(var c=0;c<s.length;c++){var l=s[c],f=l.getAttribute(u.MEDIA);f="".concat(r,"_").concat(c),l.setAttribute(u.MEDIA,f)}}}function T(e,t){var n=r.createElement(u.SEGMENT_TEMPLATE);n.setAttribute(u.START_NUMBER,"0"),n.setAttribute(u.MEDIA,"$RepresentationID$-$Time$"),n.setAttribute(u.INITIALIZATION_MINUS,"$RepresentationID$_init"),function(e,t){var n=r.createElement("S");if(t&&t.segments){for(var i=r.createElement(u.SEGMENT_TIMELINE),a=function(e){var t=[];t.push(0);for(var r=1;r<e.segments.length;r++)e.segments[r-1].duration!==e.segments[r].duration&&t.push(r);return t}(t),o=0;o<a.length;o++){var s=o+1<a.length?a[o+1]-a[o]-1:0;s>1&&n.setAttribute("r",s),n.setAttribute("d",t.segments[a[o]].duration),i.appendChild(n),n=r.createElement("S")}e.appendChild(i)}}(n,t),e.appendChild(n)}function b(e,t,r){for(var n=t.length-1;n>=0;n--){var i=t[n],o=i.getAttribute(u.ID);a[r]&&-1===a[r].indexOf(o)&&e.removeChild(i)}}function A(e){var t=e.getElementsByTagName(u.REPRESENTATION)[0];return console.log(t.getAttribute(u.ID)),t.getAttribute(u.ID)}function I(e){var t=e.lastIndexOf("/");return e.substring(t,e.length)}return n=s.getLogger(t),t={parse:function(e,t){return new Promise((function(i,a){for(var o=(r=(new DOMParser).parseFromString(e,"application/xml")).getElementsByTagName(u.MPD)?r.getElementsByTagName(u.MPD):null,s=0;s<o.length;s++)null!==o[s]&&(l(o[s]),f(o[s],t));var c=function(e){return n.info("encodedManifest "+(new XMLSerializer).serializeToString(e)),(new N).encode((new XMLSerializer).serializeToString(e))}(r);""!==c?i(c):a("Encoded error")}))}}}w.__dashjs_factory_name="OfflineIndexDBManifestParser";var D=dashjs.FactoryMaker.getClassFactory(w),P=r(57);function C(e){e=e||{};var t,r,n,a,o,s,u,c,l,f,d,p,m,_,g=this.context,y=e.manifestLoader,E=e.mediaPlayerModel,v=e.abrController,T=e.playbackController,b=e.adapter,A=e.dashMetrics,I=e.timelineConverter,S=e.offlineStoreController,R=e.id,N=e.eventBus,w=e.errHandler,C=e.events,L=e.errors,M=e.settings,F=e.debug,x=e.manifestUpdater,U=e.baseURLController,B=e.segmentBaseController,G=e.constants,q=e.dashConstants,j=e.urlUtils;function k(){return c}function H(e){if(!l&&!e.error)try{u=e.manifest}catch(e){_=i.OFFLINE_STATUS_ERROR,w.error({code:h.OFFLINE_ERROR,message:e.message,data:{id:R,status:_}})}}function V(e){e.id===R&&(e.error||null===R?(_=i.OFFLINE_STATUS_ERROR,w.error({code:h.OFFLINE_ERROR,message:"Cannot start download ",data:{id:R,status:_,error:e.error}})):(_=i.OFFLINE_STATUS_STARTED,S.setDownloadingStatus(R,_).then((function(){N.trigger(C.OFFLINE_RECORD_STARTED,{id:R,message:"Downloading started for this stream !"})}))))}function Y(e,t,r){p[e.getStreamInfo().id]={downloaded:t,available:r};var n,i=0,a=0;for(var o in p)p.hasOwnProperty(o)&&(null===p[o]?n=!0:(i+=p[o].downloaded,a+=p[o].available));n||(m=i/a,S.getManifestById(R).then((function(e){return e.progress=m,Q(e)})))}function z(e){e.id===R&&(e.error||null===R?(_=i.OFFLINE_STATUS_ERROR,w.error({code:h.OFFLINE_ERROR,message:"Error finishing download ",data:{id:R,status:_,error:e.error}})):(_=i.OFFLINE_STATUS_FINISHED,S.setDownloadingStatus(R,_).then((function(){N.trigger(C.OFFLINE_RECORD_FINISHED,{id:R,message:"Downloading has been successfully completed for this stream !"}),ee()}))))}function X(e){e.id===R&&(f=e.representations).length>0&&d.parse(o,f).then((function(e){if(null===e||null===R)throw"falling parsing offline manifest";S.getManifestById(R).then((function(t){return t.manifest=e,Q(t)})).then((function(){for(var e=0,t=s.length;e<t;e++)s[e].startOfflineStreamProcessors()}))})).catch((function(e){throw e}))}function W(){try{b.updatePeriods(u),U.initialize(u);var e=b.getStreamsInfo();0===e.length&&(_=i.OFFLINE_STATUS_ERROR,w.error({code:h.OFFLINE_ERROR,message:"Cannot download - no streams",data:{id:R,status:_}}));for(var t=0,n=e.length;t<n;t++){var a=e[t],o=O(g).create({id:R,callbacks:{started:V,progression:Y,finished:z,updateManifestNeeded:X},constants:G,dashConstants:q,eventBus:N,events:C,errors:L,settings:M,debug:F,errHandler:w,mediaPlayerModel:E,abrController:v,playbackController:T,dashMetrics:A,baseURLController:U,timelineConverter:I,adapter:b,segmentBaseController:B,offlineStoreController:S});s.push(o),o.initialize(a),p[a.id]=null}l=!0}catch(e){r.info(e),_=i.OFFLINE_STATUS_ERROR,w.error({code:h.OFFLINE_ERROR,message:e.message,data:{id:R,status:_,error:e.error}})}}function K(e){return S.createFragmentStore(e)}function Q(e){return S.updateOfflineManifest(e)}function Z(e){return N.off(C.ORIGINAL_MANIFEST_LOADED,Z,t),o=e.originalManifest,u.type===q.DYNAMIC?(_=i.OFFLINE_STATUS_ERROR,w.error({code:h.OFFLINE_ERROR,message:"Cannot handle DYNAMIC manifest",data:{id:R,status:_}}),void r.error("Cannot handle DYNAMIC manifest")):u.Period_asArray.length>1?(_=i.OFFLINE_STATUS_ERROR,w.error({code:h.OFFLINE_ERROR,message:"MultiPeriod manifest are not yet supported",data:{id:R,status:_}}),void r.error("MultiPeriod manifest are not yet supported")):(W(),s.forEach((function(e){e.getMediaInfos()})),void N.trigger(C.STREAMS_COMPOSED))}function $(e){for(var t=0;t<s.length;t++)s[t].initializeAllMediasInfoList(e)}function J(){if(null!==R&&k()){for(var e=0,t=s.length;e<t;e++)s[e].stopOfflineStreamProcessors();s=[],l=!1,_=i.OFFLINE_STATUS_STOPPED,S.setDownloadingStatus(R,_).then((function(){N.trigger(C.OFFLINE_RECORD_STOPPED,{sender:this,id:R,status:_,message:"Downloading has been stopped for this stream !"}),c=!1}))}}function ee(){for(var e=0,r=s.length;e<r;e++)s[e].reset();d=null,c=!1,s=[],N.off(C.MANIFEST_UPDATED,H,t),N.off(C.ORIGINAL_MANIFEST_LOADED,Z,t),N.on(C.ERROR,te,t)}function te(e){e.error.code!==h.INDEXEDDB_QUOTA_EXCEED_ERROR&&e.error.code!==h.INDEXEDDB_INVALID_STATE_ERROR||J()}return t={reset:function(){k()&&ee(),U.reset(),x.reset()},getId:function(){return R},getOfflineUrl:function(){return a},getManifestUrl:function(){return n},getStatus:function(){return _},setInitialState:function(e){a=e.url,m=e.progress,n=e.originalUrl,_=e.status},initDownload:function(){y.load(n),c=!0},downloadFromUrl:function(e){return n=e,a="".concat(i.OFFLINE_SCHEME,"://").concat(R),_=i.OFFLINE_STATUS_CREATED,N.on(C.MANIFEST_UPDATED,H,t),N.on(C.ORIGINAL_MANIFEST_LOADED,Z,t),N.on(C.ERROR,te,t),function(e){return S.createOfflineManifest(e)}({fragmentStore:R,status:_,manifestId:R,url:a,originalURL:e})},startDownload:function(e){try{var t=function(e){var t={};return t[G.VIDEO]=[],t[G.AUDIO]=[],t[G.TEXT]=[],e.forEach((function(e){e.bitrateList.forEach((function(r){t[e.type].push(r.id)}))})),t}(e);S.saveSelectedRepresentations(R,t).then((function(){return K(R)})).then((function(){return e=t,(d=D(g).create({manifestId:R,allMediaInfos:e,debug:F,dashConstants:q,constants:G,urlUtils:j})).parse(o).then((function(e){return null!==e?S.getManifestById(R).then((function(t){return t.originalURL=u.url,t.originalManifest=o,t.manifest=e,Q(t)})):Promise.reject("falling parsing offline manifest")})).catch((function(e){return Promise.reject(e)}));var e})).then((function(){$(t)}))}catch(e){_=i.OFFLINE_STATUS_ERROR,w.error({code:h.OFFLINE_ERROR,message:e.message,data:{id:R,status:_}})}},stopDownload:J,resumeDownload:function(){var e;k()||(c=!0,S.getManifestById(R).then((function(t){var r=Object(P.a)(g).create({debug:F});return u=r.parse(t.originalManifest),W(),e=t.selected,N.trigger(C.STREAMS_COMPOSED),K(R)})).then((function(){$(e)})))},deleteDownload:function(){J()},getDownloadProgression:function(){return Math.round(100*m)},isDownloading:k,resetDownload:ee},r=F.getLogger(t),x.initialize(),s=[],c=!1,l=!1,p={},m=0,_=void 0,t}C.__dashjs_factory_name="OfflineDownload";var L=dashjs.FactoryMaker.getClassFactory(C);function M(e){e=e||{};var t,r=this.context,n=e.urlUtils,i=e.constants,a=e.dashConstants;return t=u(r).getInstance(),{load:function(e){if(e.request){var r=(u=e.request.url,n.removeHostname(u).split("/")[0]);if(r%1==0)if(e.request.mediaType===i.AUDIO||e.request.mediaType===i.VIDEO||e.request.mediaType===i.TEXT||e.request.mediaType===i.MUXED||e.request.mediaType===i.IMAGE){var o="InitializationSegment"===e.request.type?"init":e.request.index,s=e.request.representationId+"_"+o;t.getFragmentByKey(r,s).then((function(t){e.success(t,null,e.request.url,i.ARRAY_BUFFER)})).catch((function(t){e.error(t)}))}else e.request.type===a.MPD&&t.getManifestById(r).then((function(r){t.createFragmentStore(r.fragmentStore),e.success(r.manifest,null,e.request.url,i.XML)})).catch((function(t){e.error(e.request,404,t)}));else e.error(e.request,null,"MediaType can not be found")}var u},abort:function(){}}}M.__dashjs_factory_name="IndexDBOfflineLoader";var F=dashjs.FactoryMaker.getClassFactory(M);function x(){return{getRegex:function(){return i.OFFLINE_URL_REGEX},isRelative:function(){return!1},removeHostname:function(e){return e.replace(/(^\w+:|^)\/\//,"")},resolve:function(e,t){return"/"!==t.charAt(t.length-1)&&(t=t.concat("/")),t+e}}}x.__dashjs_factory_name="OfflineUrlUtils";var U=dashjs.FactoryMaker.getSingletonFactory(x);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=k(e);if(t){var i=k(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return j(this,r)}}function j(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var H=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(r,e);var t=q(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(e=t.call(this)).OFFLINE_RECORD_LOADEDMETADATA="public_offlineRecordLoadedmetadata",e.OFFLINE_RECORD_STARTED="public_offlineRecordStarted",e.OFFLINE_RECORD_STOPPED="public_offlineRecordStopped",e.OFFLINE_RECORD_FINISHED="public_offlineRecordFinished",e}return r}(r(17).a));var V=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=null,this.url=null,this.originalUrl=null,this.status=null,this.progress=null};function Y(e){var t,r,n,a,o,s=this.context,u=e.errHandler,c=e.events,l=e.errors,f=e.settings,d=e.eventBus,p=e.debug,h=e.manifestLoader,m=e.manifestModel,g=e.mediaPlayerModel,y=e.abrController,E=e.playbackController,v=e.dashMetrics,T=e.timelineConverter,b=e.segmentBaseController,A=e.adapter,I=e.manifestUpdater,S=e.baseURLController,R=e.schemeLoaderFactory,O=e.constants,N=e.dashConstants,w=e.urlUtils;function D(e){return r.find((function(t){return t.getId()===e}))}function P(e){var t;return(t=D(e))||(t=L(s).create({id:e,eventBus:d,events:c,errors:l,settings:f,manifestLoader:h,manifestModel:m,mediaPlayerModel:g,manifestUpdater:I,baseURLController:S,abrController:y,playbackController:E,adapter:A,dashMetrics:v,timelineConverter:T,errHandler:u,segmentBaseController:b,offlineStoreController:a,debug:p,constants:O,dashConstants:N,urlUtils:w}),r.push(t)),t}function C(e){return new Promise((function(n,i){var o=D(e),s=!1;if(o){if(o.isDownloading()){s=!0;d.on(c.OFFLINE_RECORD_STOPPED,(function r(){return d.off(c.OFFLINE_RECORD_STOPPED,r,t),a.deleteDownloadById(e).then((function(){n()})).catch((function(e){i(e)}))}),t)}o.deleteDownload();var u=r.indexOf(o);r.splice(u,1)}s||n()}))}function M(){r.forEach((function(e){e.resetDownload()}))}return t={loadRecordsFromStorage:function(){return new Promise((function(e,t){a.getAllManifests().then((function(t){t.manifests.forEach((function(e){!function(e){var t=D(e.manifestId);if(!t){t=P(e.manifestId);var r=e.status;r===i.OFFLINE_STATUS_STARTED&&(r=i.OFFLINE_STATUS_STOPPED),t.setInitialState({url:e.url,progress:e.progress,originalUrl:e.originalURL,status:r})}}(e)})),e()})).catch((function(e){n.error("Failed to load downloads "+e),t(e)}))}))},createRecord:function(e){return new Promise((function(t,r){var i=(new Date).getTime(),a=P(i);a.downloadFromUrl(e).then((function(){a.initDownload(),t(i)})).catch((function(e){n.error("Failed to download "+e),C(i).then((function(){r(e)}))}))}))},startRecord:function(e,t){var r=D(e);r&&r.startDownload(t)},stopRecord:function(e){var t=D(e);t&&t.stopDownload()},resumeRecord:function(e){var t=D(e);t&&t.resumeDownload()},deleteRecord:function(e){return C(e).then((function(){return a.deleteDownloadById(e)}))},getRecordProgression:function(e){var t=D(e);return t?t.getDownloadProgression():0},getAllRecords:function(){var e=[];return r.forEach((function(t){var r=new V;r.id=t.getId(),r.progress=t.getDownloadProgression(),r.url=t.getOfflineUrl(),r.originalUrl=t.getManifestUrl(),r.status=t.getStatus(),e.push(r)})),e},resetRecords:M,reset:function(){M(),R.unregisterLoader(i.OFFLINE_SCHEME)}},n=p.getLogger(t),a=_(s).create({eventBus:e.eventBus,errHandler:u}),o=U(s).getInstance(),w.registerUrlRegex(o.getRegex(),o),R.registerLoader(i.OFFLINE_SCHEME,F),r=[],t}Y.__dashjs_factory_name="OfflineController";var z=dashjs.FactoryMaker.getClassFactory(Y);z.events=H,z.errors=h,dashjs.FactoryMaker.updateClassFactory(Y.__dashjs_factory_name,z);t.a=z},,function(e,t,r){e.exports={XmlEntities:r(102),Html4Entities:r(103),Html5Entities:r(97),AllHtmlEntities:r(97)}},function(e,t){var r=[["Aacute",[193]],["aacute",[225]],["Abreve",[258]],["abreve",[259]],["ac",[8766]],["acd",[8767]],["acE",[8766,819]],["Acirc",[194]],["acirc",[226]],["acute",[180]],["Acy",[1040]],["acy",[1072]],["AElig",[198]],["aelig",[230]],["af",[8289]],["Afr",[120068]],["afr",[120094]],["Agrave",[192]],["agrave",[224]],["alefsym",[8501]],["aleph",[8501]],["Alpha",[913]],["alpha",[945]],["Amacr",[256]],["amacr",[257]],["amalg",[10815]],["amp",[38]],["AMP",[38]],["andand",[10837]],["And",[10835]],["and",[8743]],["andd",[10844]],["andslope",[10840]],["andv",[10842]],["ang",[8736]],["ange",[10660]],["angle",[8736]],["angmsdaa",[10664]],["angmsdab",[10665]],["angmsdac",[10666]],["angmsdad",[10667]],["angmsdae",[10668]],["angmsdaf",[10669]],["angmsdag",[10670]],["angmsdah",[10671]],["angmsd",[8737]],["angrt",[8735]],["angrtvb",[8894]],["angrtvbd",[10653]],["angsph",[8738]],["angst",[197]],["angzarr",[9084]],["Aogon",[260]],["aogon",[261]],["Aopf",[120120]],["aopf",[120146]],["apacir",[10863]],["ap",[8776]],["apE",[10864]],["ape",[8778]],["apid",[8779]],["apos",[39]],["ApplyFunction",[8289]],["approx",[8776]],["approxeq",[8778]],["Aring",[197]],["aring",[229]],["Ascr",[119964]],["ascr",[119990]],["Assign",[8788]],["ast",[42]],["asymp",[8776]],["asympeq",[8781]],["Atilde",[195]],["atilde",[227]],["Auml",[196]],["auml",[228]],["awconint",[8755]],["awint",[10769]],["backcong",[8780]],["backepsilon",[1014]],["backprime",[8245]],["backsim",[8765]],["backsimeq",[8909]],["Backslash",[8726]],["Barv",[10983]],["barvee",[8893]],["barwed",[8965]],["Barwed",[8966]],["barwedge",[8965]],["bbrk",[9141]],["bbrktbrk",[9142]],["bcong",[8780]],["Bcy",[1041]],["bcy",[1073]],["bdquo",[8222]],["becaus",[8757]],["because",[8757]],["Because",[8757]],["bemptyv",[10672]],["bepsi",[1014]],["bernou",[8492]],["Bernoullis",[8492]],["Beta",[914]],["beta",[946]],["beth",[8502]],["between",[8812]],["Bfr",[120069]],["bfr",[120095]],["bigcap",[8898]],["bigcirc",[9711]],["bigcup",[8899]],["bigodot",[10752]],["bigoplus",[10753]],["bigotimes",[10754]],["bigsqcup",[10758]],["bigstar",[9733]],["bigtriangledown",[9661]],["bigtriangleup",[9651]],["biguplus",[10756]],["bigvee",[8897]],["bigwedge",[8896]],["bkarow",[10509]],["blacklozenge",[10731]],["blacksquare",[9642]],["blacktriangle",[9652]],["blacktriangledown",[9662]],["blacktriangleleft",[9666]],["blacktriangleright",[9656]],["blank",[9251]],["blk12",[9618]],["blk14",[9617]],["blk34",[9619]],["block",[9608]],["bne",[61,8421]],["bnequiv",[8801,8421]],["bNot",[10989]],["bnot",[8976]],["Bopf",[120121]],["bopf",[120147]],["bot",[8869]],["bottom",[8869]],["bowtie",[8904]],["boxbox",[10697]],["boxdl",[9488]],["boxdL",[9557]],["boxDl",[9558]],["boxDL",[9559]],["boxdr",[9484]],["boxdR",[9554]],["boxDr",[9555]],["boxDR",[9556]],["boxh",[9472]],["boxH",[9552]],["boxhd",[9516]],["boxHd",[9572]],["boxhD",[9573]],["boxHD",[9574]],["boxhu",[9524]],["boxHu",[9575]],["boxhU",[9576]],["boxHU",[9577]],["boxminus",[8863]],["boxplus",[8862]],["boxtimes",[8864]],["boxul",[9496]],["boxuL",[9563]],["boxUl",[9564]],["boxUL",[9565]],["boxur",[9492]],["boxuR",[9560]],["boxUr",[9561]],["boxUR",[9562]],["boxv",[9474]],["boxV",[9553]],["boxvh",[9532]],["boxvH",[9578]],["boxVh",[9579]],["boxVH",[9580]],["boxvl",[9508]],["boxvL",[9569]],["boxVl",[9570]],["boxVL",[9571]],["boxvr",[9500]],["boxvR",[9566]],["boxVr",[9567]],["boxVR",[9568]],["bprime",[8245]],["breve",[728]],["Breve",[728]],["brvbar",[166]],["bscr",[119991]],["Bscr",[8492]],["bsemi",[8271]],["bsim",[8765]],["bsime",[8909]],["bsolb",[10693]],["bsol",[92]],["bsolhsub",[10184]],["bull",[8226]],["bullet",[8226]],["bump",[8782]],["bumpE",[10926]],["bumpe",[8783]],["Bumpeq",[8782]],["bumpeq",[8783]],["Cacute",[262]],["cacute",[263]],["capand",[10820]],["capbrcup",[10825]],["capcap",[10827]],["cap",[8745]],["Cap",[8914]],["capcup",[10823]],["capdot",[10816]],["CapitalDifferentialD",[8517]],["caps",[8745,65024]],["caret",[8257]],["caron",[711]],["Cayleys",[8493]],["ccaps",[10829]],["Ccaron",[268]],["ccaron",[269]],["Ccedil",[199]],["ccedil",[231]],["Ccirc",[264]],["ccirc",[265]],["Cconint",[8752]],["ccups",[10828]],["ccupssm",[10832]],["Cdot",[266]],["cdot",[267]],["cedil",[184]],["Cedilla",[184]],["cemptyv",[10674]],["cent",[162]],["centerdot",[183]],["CenterDot",[183]],["cfr",[120096]],["Cfr",[8493]],["CHcy",[1063]],["chcy",[1095]],["check",[10003]],["checkmark",[10003]],["Chi",[935]],["chi",[967]],["circ",[710]],["circeq",[8791]],["circlearrowleft",[8634]],["circlearrowright",[8635]],["circledast",[8859]],["circledcirc",[8858]],["circleddash",[8861]],["CircleDot",[8857]],["circledR",[174]],["circledS",[9416]],["CircleMinus",[8854]],["CirclePlus",[8853]],["CircleTimes",[8855]],["cir",[9675]],["cirE",[10691]],["cire",[8791]],["cirfnint",[10768]],["cirmid",[10991]],["cirscir",[10690]],["ClockwiseContourIntegral",[8754]],["clubs",[9827]],["clubsuit",[9827]],["colon",[58]],["Colon",[8759]],["Colone",[10868]],["colone",[8788]],["coloneq",[8788]],["comma",[44]],["commat",[64]],["comp",[8705]],["compfn",[8728]],["complement",[8705]],["complexes",[8450]],["cong",[8773]],["congdot",[10861]],["Congruent",[8801]],["conint",[8750]],["Conint",[8751]],["ContourIntegral",[8750]],["copf",[120148]],["Copf",[8450]],["coprod",[8720]],["Coproduct",[8720]],["copy",[169]],["COPY",[169]],["copysr",[8471]],["CounterClockwiseContourIntegral",[8755]],["crarr",[8629]],["cross",[10007]],["Cross",[10799]],["Cscr",[119966]],["cscr",[119992]],["csub",[10959]],["csube",[10961]],["csup",[10960]],["csupe",[10962]],["ctdot",[8943]],["cudarrl",[10552]],["cudarrr",[10549]],["cuepr",[8926]],["cuesc",[8927]],["cularr",[8630]],["cularrp",[10557]],["cupbrcap",[10824]],["cupcap",[10822]],["CupCap",[8781]],["cup",[8746]],["Cup",[8915]],["cupcup",[10826]],["cupdot",[8845]],["cupor",[10821]],["cups",[8746,65024]],["curarr",[8631]],["curarrm",[10556]],["curlyeqprec",[8926]],["curlyeqsucc",[8927]],["curlyvee",[8910]],["curlywedge",[8911]],["curren",[164]],["curvearrowleft",[8630]],["curvearrowright",[8631]],["cuvee",[8910]],["cuwed",[8911]],["cwconint",[8754]],["cwint",[8753]],["cylcty",[9005]],["dagger",[8224]],["Dagger",[8225]],["daleth",[8504]],["darr",[8595]],["Darr",[8609]],["dArr",[8659]],["dash",[8208]],["Dashv",[10980]],["dashv",[8867]],["dbkarow",[10511]],["dblac",[733]],["Dcaron",[270]],["dcaron",[271]],["Dcy",[1044]],["dcy",[1076]],["ddagger",[8225]],["ddarr",[8650]],["DD",[8517]],["dd",[8518]],["DDotrahd",[10513]],["ddotseq",[10871]],["deg",[176]],["Del",[8711]],["Delta",[916]],["delta",[948]],["demptyv",[10673]],["dfisht",[10623]],["Dfr",[120071]],["dfr",[120097]],["dHar",[10597]],["dharl",[8643]],["dharr",[8642]],["DiacriticalAcute",[180]],["DiacriticalDot",[729]],["DiacriticalDoubleAcute",[733]],["DiacriticalGrave",[96]],["DiacriticalTilde",[732]],["diam",[8900]],["diamond",[8900]],["Diamond",[8900]],["diamondsuit",[9830]],["diams",[9830]],["die",[168]],["DifferentialD",[8518]],["digamma",[989]],["disin",[8946]],["div",[247]],["divide",[247]],["divideontimes",[8903]],["divonx",[8903]],["DJcy",[1026]],["djcy",[1106]],["dlcorn",[8990]],["dlcrop",[8973]],["dollar",[36]],["Dopf",[120123]],["dopf",[120149]],["Dot",[168]],["dot",[729]],["DotDot",[8412]],["doteq",[8784]],["doteqdot",[8785]],["DotEqual",[8784]],["dotminus",[8760]],["dotplus",[8724]],["dotsquare",[8865]],["doublebarwedge",[8966]],["DoubleContourIntegral",[8751]],["DoubleDot",[168]],["DoubleDownArrow",[8659]],["DoubleLeftArrow",[8656]],["DoubleLeftRightArrow",[8660]],["DoubleLeftTee",[10980]],["DoubleLongLeftArrow",[10232]],["DoubleLongLeftRightArrow",[10234]],["DoubleLongRightArrow",[10233]],["DoubleRightArrow",[8658]],["DoubleRightTee",[8872]],["DoubleUpArrow",[8657]],["DoubleUpDownArrow",[8661]],["DoubleVerticalBar",[8741]],["DownArrowBar",[10515]],["downarrow",[8595]],["DownArrow",[8595]],["Downarrow",[8659]],["DownArrowUpArrow",[8693]],["DownBreve",[785]],["downdownarrows",[8650]],["downharpoonleft",[8643]],["downharpoonright",[8642]],["DownLeftRightVector",[10576]],["DownLeftTeeVector",[10590]],["DownLeftVectorBar",[10582]],["DownLeftVector",[8637]],["DownRightTeeVector",[10591]],["DownRightVectorBar",[10583]],["DownRightVector",[8641]],["DownTeeArrow",[8615]],["DownTee",[8868]],["drbkarow",[10512]],["drcorn",[8991]],["drcrop",[8972]],["Dscr",[119967]],["dscr",[119993]],["DScy",[1029]],["dscy",[1109]],["dsol",[10742]],["Dstrok",[272]],["dstrok",[273]],["dtdot",[8945]],["dtri",[9663]],["dtrif",[9662]],["duarr",[8693]],["duhar",[10607]],["dwangle",[10662]],["DZcy",[1039]],["dzcy",[1119]],["dzigrarr",[10239]],["Eacute",[201]],["eacute",[233]],["easter",[10862]],["Ecaron",[282]],["ecaron",[283]],["Ecirc",[202]],["ecirc",[234]],["ecir",[8790]],["ecolon",[8789]],["Ecy",[1069]],["ecy",[1101]],["eDDot",[10871]],["Edot",[278]],["edot",[279]],["eDot",[8785]],["ee",[8519]],["efDot",[8786]],["Efr",[120072]],["efr",[120098]],["eg",[10906]],["Egrave",[200]],["egrave",[232]],["egs",[10902]],["egsdot",[10904]],["el",[10905]],["Element",[8712]],["elinters",[9191]],["ell",[8467]],["els",[10901]],["elsdot",[10903]],["Emacr",[274]],["emacr",[275]],["empty",[8709]],["emptyset",[8709]],["EmptySmallSquare",[9723]],["emptyv",[8709]],["EmptyVerySmallSquare",[9643]],["emsp13",[8196]],["emsp14",[8197]],["emsp",[8195]],["ENG",[330]],["eng",[331]],["ensp",[8194]],["Eogon",[280]],["eogon",[281]],["Eopf",[120124]],["eopf",[120150]],["epar",[8917]],["eparsl",[10723]],["eplus",[10865]],["epsi",[949]],["Epsilon",[917]],["epsilon",[949]],["epsiv",[1013]],["eqcirc",[8790]],["eqcolon",[8789]],["eqsim",[8770]],["eqslantgtr",[10902]],["eqslantless",[10901]],["Equal",[10869]],["equals",[61]],["EqualTilde",[8770]],["equest",[8799]],["Equilibrium",[8652]],["equiv",[8801]],["equivDD",[10872]],["eqvparsl",[10725]],["erarr",[10609]],["erDot",[8787]],["escr",[8495]],["Escr",[8496]],["esdot",[8784]],["Esim",[10867]],["esim",[8770]],["Eta",[919]],["eta",[951]],["ETH",[208]],["eth",[240]],["Euml",[203]],["euml",[235]],["euro",[8364]],["excl",[33]],["exist",[8707]],["Exists",[8707]],["expectation",[8496]],["exponentiale",[8519]],["ExponentialE",[8519]],["fallingdotseq",[8786]],["Fcy",[1060]],["fcy",[1092]],["female",[9792]],["ffilig",[64259]],["fflig",[64256]],["ffllig",[64260]],["Ffr",[120073]],["ffr",[120099]],["filig",[64257]],["FilledSmallSquare",[9724]],["FilledVerySmallSquare",[9642]],["fjlig",[102,106]],["flat",[9837]],["fllig",[64258]],["fltns",[9649]],["fnof",[402]],["Fopf",[120125]],["fopf",[120151]],["forall",[8704]],["ForAll",[8704]],["fork",[8916]],["forkv",[10969]],["Fouriertrf",[8497]],["fpartint",[10765]],["frac12",[189]],["frac13",[8531]],["frac14",[188]],["frac15",[8533]],["frac16",[8537]],["frac18",[8539]],["frac23",[8532]],["frac25",[8534]],["frac34",[190]],["frac35",[8535]],["frac38",[8540]],["frac45",[8536]],["frac56",[8538]],["frac58",[8541]],["frac78",[8542]],["frasl",[8260]],["frown",[8994]],["fscr",[119995]],["Fscr",[8497]],["gacute",[501]],["Gamma",[915]],["gamma",[947]],["Gammad",[988]],["gammad",[989]],["gap",[10886]],["Gbreve",[286]],["gbreve",[287]],["Gcedil",[290]],["Gcirc",[284]],["gcirc",[285]],["Gcy",[1043]],["gcy",[1075]],["Gdot",[288]],["gdot",[289]],["ge",[8805]],["gE",[8807]],["gEl",[10892]],["gel",[8923]],["geq",[8805]],["geqq",[8807]],["geqslant",[10878]],["gescc",[10921]],["ges",[10878]],["gesdot",[10880]],["gesdoto",[10882]],["gesdotol",[10884]],["gesl",[8923,65024]],["gesles",[10900]],["Gfr",[120074]],["gfr",[120100]],["gg",[8811]],["Gg",[8921]],["ggg",[8921]],["gimel",[8503]],["GJcy",[1027]],["gjcy",[1107]],["gla",[10917]],["gl",[8823]],["glE",[10898]],["glj",[10916]],["gnap",[10890]],["gnapprox",[10890]],["gne",[10888]],["gnE",[8809]],["gneq",[10888]],["gneqq",[8809]],["gnsim",[8935]],["Gopf",[120126]],["gopf",[120152]],["grave",[96]],["GreaterEqual",[8805]],["GreaterEqualLess",[8923]],["GreaterFullEqual",[8807]],["GreaterGreater",[10914]],["GreaterLess",[8823]],["GreaterSlantEqual",[10878]],["GreaterTilde",[8819]],["Gscr",[119970]],["gscr",[8458]],["gsim",[8819]],["gsime",[10894]],["gsiml",[10896]],["gtcc",[10919]],["gtcir",[10874]],["gt",[62]],["GT",[62]],["Gt",[8811]],["gtdot",[8919]],["gtlPar",[10645]],["gtquest",[10876]],["gtrapprox",[10886]],["gtrarr",[10616]],["gtrdot",[8919]],["gtreqless",[8923]],["gtreqqless",[10892]],["gtrless",[8823]],["gtrsim",[8819]],["gvertneqq",[8809,65024]],["gvnE",[8809,65024]],["Hacek",[711]],["hairsp",[8202]],["half",[189]],["hamilt",[8459]],["HARDcy",[1066]],["hardcy",[1098]],["harrcir",[10568]],["harr",[8596]],["hArr",[8660]],["harrw",[8621]],["Hat",[94]],["hbar",[8463]],["Hcirc",[292]],["hcirc",[293]],["hearts",[9829]],["heartsuit",[9829]],["hellip",[8230]],["hercon",[8889]],["hfr",[120101]],["Hfr",[8460]],["HilbertSpace",[8459]],["hksearow",[10533]],["hkswarow",[10534]],["hoarr",[8703]],["homtht",[8763]],["hookleftarrow",[8617]],["hookrightarrow",[8618]],["hopf",[120153]],["Hopf",[8461]],["horbar",[8213]],["HorizontalLine",[9472]],["hscr",[119997]],["Hscr",[8459]],["hslash",[8463]],["Hstrok",[294]],["hstrok",[295]],["HumpDownHump",[8782]],["HumpEqual",[8783]],["hybull",[8259]],["hyphen",[8208]],["Iacute",[205]],["iacute",[237]],["ic",[8291]],["Icirc",[206]],["icirc",[238]],["Icy",[1048]],["icy",[1080]],["Idot",[304]],["IEcy",[1045]],["iecy",[1077]],["iexcl",[161]],["iff",[8660]],["ifr",[120102]],["Ifr",[8465]],["Igrave",[204]],["igrave",[236]],["ii",[8520]],["iiiint",[10764]],["iiint",[8749]],["iinfin",[10716]],["iiota",[8489]],["IJlig",[306]],["ijlig",[307]],["Imacr",[298]],["imacr",[299]],["image",[8465]],["ImaginaryI",[8520]],["imagline",[8464]],["imagpart",[8465]],["imath",[305]],["Im",[8465]],["imof",[8887]],["imped",[437]],["Implies",[8658]],["incare",[8453]],["in",[8712]],["infin",[8734]],["infintie",[10717]],["inodot",[305]],["intcal",[8890]],["int",[8747]],["Int",[8748]],["integers",[8484]],["Integral",[8747]],["intercal",[8890]],["Intersection",[8898]],["intlarhk",[10775]],["intprod",[10812]],["InvisibleComma",[8291]],["InvisibleTimes",[8290]],["IOcy",[1025]],["iocy",[1105]],["Iogon",[302]],["iogon",[303]],["Iopf",[120128]],["iopf",[120154]],["Iota",[921]],["iota",[953]],["iprod",[10812]],["iquest",[191]],["iscr",[119998]],["Iscr",[8464]],["isin",[8712]],["isindot",[8949]],["isinE",[8953]],["isins",[8948]],["isinsv",[8947]],["isinv",[8712]],["it",[8290]],["Itilde",[296]],["itilde",[297]],["Iukcy",[1030]],["iukcy",[1110]],["Iuml",[207]],["iuml",[239]],["Jcirc",[308]],["jcirc",[309]],["Jcy",[1049]],["jcy",[1081]],["Jfr",[120077]],["jfr",[120103]],["jmath",[567]],["Jopf",[120129]],["jopf",[120155]],["Jscr",[119973]],["jscr",[119999]],["Jsercy",[1032]],["jsercy",[1112]],["Jukcy",[1028]],["jukcy",[1108]],["Kappa",[922]],["kappa",[954]],["kappav",[1008]],["Kcedil",[310]],["kcedil",[311]],["Kcy",[1050]],["kcy",[1082]],["Kfr",[120078]],["kfr",[120104]],["kgreen",[312]],["KHcy",[1061]],["khcy",[1093]],["KJcy",[1036]],["kjcy",[1116]],["Kopf",[120130]],["kopf",[120156]],["Kscr",[119974]],["kscr",[12e4]],["lAarr",[8666]],["Lacute",[313]],["lacute",[314]],["laemptyv",[10676]],["lagran",[8466]],["Lambda",[923]],["lambda",[955]],["lang",[10216]],["Lang",[10218]],["langd",[10641]],["langle",[10216]],["lap",[10885]],["Laplacetrf",[8466]],["laquo",[171]],["larrb",[8676]],["larrbfs",[10527]],["larr",[8592]],["Larr",[8606]],["lArr",[8656]],["larrfs",[10525]],["larrhk",[8617]],["larrlp",[8619]],["larrpl",[10553]],["larrsim",[10611]],["larrtl",[8610]],["latail",[10521]],["lAtail",[10523]],["lat",[10923]],["late",[10925]],["lates",[10925,65024]],["lbarr",[10508]],["lBarr",[10510]],["lbbrk",[10098]],["lbrace",[123]],["lbrack",[91]],["lbrke",[10635]],["lbrksld",[10639]],["lbrkslu",[10637]],["Lcaron",[317]],["lcaron",[318]],["Lcedil",[315]],["lcedil",[316]],["lceil",[8968]],["lcub",[123]],["Lcy",[1051]],["lcy",[1083]],["ldca",[10550]],["ldquo",[8220]],["ldquor",[8222]],["ldrdhar",[10599]],["ldrushar",[10571]],["ldsh",[8626]],["le",[8804]],["lE",[8806]],["LeftAngleBracket",[10216]],["LeftArrowBar",[8676]],["leftarrow",[8592]],["LeftArrow",[8592]],["Leftarrow",[8656]],["LeftArrowRightArrow",[8646]],["leftarrowtail",[8610]],["LeftCeiling",[8968]],["LeftDoubleBracket",[10214]],["LeftDownTeeVector",[10593]],["LeftDownVectorBar",[10585]],["LeftDownVector",[8643]],["LeftFloor",[8970]],["leftharpoondown",[8637]],["leftharpoonup",[8636]],["leftleftarrows",[8647]],["leftrightarrow",[8596]],["LeftRightArrow",[8596]],["Leftrightarrow",[8660]],["leftrightarrows",[8646]],["leftrightharpoons",[8651]],["leftrightsquigarrow",[8621]],["LeftRightVector",[10574]],["LeftTeeArrow",[8612]],["LeftTee",[8867]],["LeftTeeVector",[10586]],["leftthreetimes",[8907]],["LeftTriangleBar",[10703]],["LeftTriangle",[8882]],["LeftTriangleEqual",[8884]],["LeftUpDownVector",[10577]],["LeftUpTeeVector",[10592]],["LeftUpVectorBar",[10584]],["LeftUpVector",[8639]],["LeftVectorBar",[10578]],["LeftVector",[8636]],["lEg",[10891]],["leg",[8922]],["leq",[8804]],["leqq",[8806]],["leqslant",[10877]],["lescc",[10920]],["les",[10877]],["lesdot",[10879]],["lesdoto",[10881]],["lesdotor",[10883]],["lesg",[8922,65024]],["lesges",[10899]],["lessapprox",[10885]],["lessdot",[8918]],["lesseqgtr",[8922]],["lesseqqgtr",[10891]],["LessEqualGreater",[8922]],["LessFullEqual",[8806]],["LessGreater",[8822]],["lessgtr",[8822]],["LessLess",[10913]],["lesssim",[8818]],["LessSlantEqual",[10877]],["LessTilde",[8818]],["lfisht",[10620]],["lfloor",[8970]],["Lfr",[120079]],["lfr",[120105]],["lg",[8822]],["lgE",[10897]],["lHar",[10594]],["lhard",[8637]],["lharu",[8636]],["lharul",[10602]],["lhblk",[9604]],["LJcy",[1033]],["ljcy",[1113]],["llarr",[8647]],["ll",[8810]],["Ll",[8920]],["llcorner",[8990]],["Lleftarrow",[8666]],["llhard",[10603]],["lltri",[9722]],["Lmidot",[319]],["lmidot",[320]],["lmoustache",[9136]],["lmoust",[9136]],["lnap",[10889]],["lnapprox",[10889]],["lne",[10887]],["lnE",[8808]],["lneq",[10887]],["lneqq",[8808]],["lnsim",[8934]],["loang",[10220]],["loarr",[8701]],["lobrk",[10214]],["longleftarrow",[10229]],["LongLeftArrow",[10229]],["Longleftarrow",[10232]],["longleftrightarrow",[10231]],["LongLeftRightArrow",[10231]],["Longleftrightarrow",[10234]],["longmapsto",[10236]],["longrightarrow",[10230]],["LongRightArrow",[10230]],["Longrightarrow",[10233]],["looparrowleft",[8619]],["looparrowright",[8620]],["lopar",[10629]],["Lopf",[120131]],["lopf",[120157]],["loplus",[10797]],["lotimes",[10804]],["lowast",[8727]],["lowbar",[95]],["LowerLeftArrow",[8601]],["LowerRightArrow",[8600]],["loz",[9674]],["lozenge",[9674]],["lozf",[10731]],["lpar",[40]],["lparlt",[10643]],["lrarr",[8646]],["lrcorner",[8991]],["lrhar",[8651]],["lrhard",[10605]],["lrm",[8206]],["lrtri",[8895]],["lsaquo",[8249]],["lscr",[120001]],["Lscr",[8466]],["lsh",[8624]],["Lsh",[8624]],["lsim",[8818]],["lsime",[10893]],["lsimg",[10895]],["lsqb",[91]],["lsquo",[8216]],["lsquor",[8218]],["Lstrok",[321]],["lstrok",[322]],["ltcc",[10918]],["ltcir",[10873]],["lt",[60]],["LT",[60]],["Lt",[8810]],["ltdot",[8918]],["lthree",[8907]],["ltimes",[8905]],["ltlarr",[10614]],["ltquest",[10875]],["ltri",[9667]],["ltrie",[8884]],["ltrif",[9666]],["ltrPar",[10646]],["lurdshar",[10570]],["luruhar",[10598]],["lvertneqq",[8808,65024]],["lvnE",[8808,65024]],["macr",[175]],["male",[9794]],["malt",[10016]],["maltese",[10016]],["Map",[10501]],["map",[8614]],["mapsto",[8614]],["mapstodown",[8615]],["mapstoleft",[8612]],["mapstoup",[8613]],["marker",[9646]],["mcomma",[10793]],["Mcy",[1052]],["mcy",[1084]],["mdash",[8212]],["mDDot",[8762]],["measuredangle",[8737]],["MediumSpace",[8287]],["Mellintrf",[8499]],["Mfr",[120080]],["mfr",[120106]],["mho",[8487]],["micro",[181]],["midast",[42]],["midcir",[10992]],["mid",[8739]],["middot",[183]],["minusb",[8863]],["minus",[8722]],["minusd",[8760]],["minusdu",[10794]],["MinusPlus",[8723]],["mlcp",[10971]],["mldr",[8230]],["mnplus",[8723]],["models",[8871]],["Mopf",[120132]],["mopf",[120158]],["mp",[8723]],["mscr",[120002]],["Mscr",[8499]],["mstpos",[8766]],["Mu",[924]],["mu",[956]],["multimap",[8888]],["mumap",[8888]],["nabla",[8711]],["Nacute",[323]],["nacute",[324]],["nang",[8736,8402]],["nap",[8777]],["napE",[10864,824]],["napid",[8779,824]],["napos",[329]],["napprox",[8777]],["natural",[9838]],["naturals",[8469]],["natur",[9838]],["nbsp",[160]],["nbump",[8782,824]],["nbumpe",[8783,824]],["ncap",[10819]],["Ncaron",[327]],["ncaron",[328]],["Ncedil",[325]],["ncedil",[326]],["ncong",[8775]],["ncongdot",[10861,824]],["ncup",[10818]],["Ncy",[1053]],["ncy",[1085]],["ndash",[8211]],["nearhk",[10532]],["nearr",[8599]],["neArr",[8663]],["nearrow",[8599]],["ne",[8800]],["nedot",[8784,824]],["NegativeMediumSpace",[8203]],["NegativeThickSpace",[8203]],["NegativeThinSpace",[8203]],["NegativeVeryThinSpace",[8203]],["nequiv",[8802]],["nesear",[10536]],["nesim",[8770,824]],["NestedGreaterGreater",[8811]],["NestedLessLess",[8810]],["nexist",[8708]],["nexists",[8708]],["Nfr",[120081]],["nfr",[120107]],["ngE",[8807,824]],["nge",[8817]],["ngeq",[8817]],["ngeqq",[8807,824]],["ngeqslant",[10878,824]],["nges",[10878,824]],["nGg",[8921,824]],["ngsim",[8821]],["nGt",[8811,8402]],["ngt",[8815]],["ngtr",[8815]],["nGtv",[8811,824]],["nharr",[8622]],["nhArr",[8654]],["nhpar",[10994]],["ni",[8715]],["nis",[8956]],["nisd",[8954]],["niv",[8715]],["NJcy",[1034]],["njcy",[1114]],["nlarr",[8602]],["nlArr",[8653]],["nldr",[8229]],["nlE",[8806,824]],["nle",[8816]],["nleftarrow",[8602]],["nLeftarrow",[8653]],["nleftrightarrow",[8622]],["nLeftrightarrow",[8654]],["nleq",[8816]],["nleqq",[8806,824]],["nleqslant",[10877,824]],["nles",[10877,824]],["nless",[8814]],["nLl",[8920,824]],["nlsim",[8820]],["nLt",[8810,8402]],["nlt",[8814]],["nltri",[8938]],["nltrie",[8940]],["nLtv",[8810,824]],["nmid",[8740]],["NoBreak",[8288]],["NonBreakingSpace",[160]],["nopf",[120159]],["Nopf",[8469]],["Not",[10988]],["not",[172]],["NotCongruent",[8802]],["NotCupCap",[8813]],["NotDoubleVerticalBar",[8742]],["NotElement",[8713]],["NotEqual",[8800]],["NotEqualTilde",[8770,824]],["NotExists",[8708]],["NotGreater",[8815]],["NotGreaterEqual",[8817]],["NotGreaterFullEqual",[8807,824]],["NotGreaterGreater",[8811,824]],["NotGreaterLess",[8825]],["NotGreaterSlantEqual",[10878,824]],["NotGreaterTilde",[8821]],["NotHumpDownHump",[8782,824]],["NotHumpEqual",[8783,824]],["notin",[8713]],["notindot",[8949,824]],["notinE",[8953,824]],["notinva",[8713]],["notinvb",[8951]],["notinvc",[8950]],["NotLeftTriangleBar",[10703,824]],["NotLeftTriangle",[8938]],["NotLeftTriangleEqual",[8940]],["NotLess",[8814]],["NotLessEqual",[8816]],["NotLessGreater",[8824]],["NotLessLess",[8810,824]],["NotLessSlantEqual",[10877,824]],["NotLessTilde",[8820]],["NotNestedGreaterGreater",[10914,824]],["NotNestedLessLess",[10913,824]],["notni",[8716]],["notniva",[8716]],["notnivb",[8958]],["notnivc",[8957]],["NotPrecedes",[8832]],["NotPrecedesEqual",[10927,824]],["NotPrecedesSlantEqual",[8928]],["NotReverseElement",[8716]],["NotRightTriangleBar",[10704,824]],["NotRightTriangle",[8939]],["NotRightTriangleEqual",[8941]],["NotSquareSubset",[8847,824]],["NotSquareSubsetEqual",[8930]],["NotSquareSuperset",[8848,824]],["NotSquareSupersetEqual",[8931]],["NotSubset",[8834,8402]],["NotSubsetEqual",[8840]],["NotSucceeds",[8833]],["NotSucceedsEqual",[10928,824]],["NotSucceedsSlantEqual",[8929]],["NotSucceedsTilde",[8831,824]],["NotSuperset",[8835,8402]],["NotSupersetEqual",[8841]],["NotTilde",[8769]],["NotTildeEqual",[8772]],["NotTildeFullEqual",[8775]],["NotTildeTilde",[8777]],["NotVerticalBar",[8740]],["nparallel",[8742]],["npar",[8742]],["nparsl",[11005,8421]],["npart",[8706,824]],["npolint",[10772]],["npr",[8832]],["nprcue",[8928]],["nprec",[8832]],["npreceq",[10927,824]],["npre",[10927,824]],["nrarrc",[10547,824]],["nrarr",[8603]],["nrArr",[8655]],["nrarrw",[8605,824]],["nrightarrow",[8603]],["nRightarrow",[8655]],["nrtri",[8939]],["nrtrie",[8941]],["nsc",[8833]],["nsccue",[8929]],["nsce",[10928,824]],["Nscr",[119977]],["nscr",[120003]],["nshortmid",[8740]],["nshortparallel",[8742]],["nsim",[8769]],["nsime",[8772]],["nsimeq",[8772]],["nsmid",[8740]],["nspar",[8742]],["nsqsube",[8930]],["nsqsupe",[8931]],["nsub",[8836]],["nsubE",[10949,824]],["nsube",[8840]],["nsubset",[8834,8402]],["nsubseteq",[8840]],["nsubseteqq",[10949,824]],["nsucc",[8833]],["nsucceq",[10928,824]],["nsup",[8837]],["nsupE",[10950,824]],["nsupe",[8841]],["nsupset",[8835,8402]],["nsupseteq",[8841]],["nsupseteqq",[10950,824]],["ntgl",[8825]],["Ntilde",[209]],["ntilde",[241]],["ntlg",[8824]],["ntriangleleft",[8938]],["ntrianglelefteq",[8940]],["ntriangleright",[8939]],["ntrianglerighteq",[8941]],["Nu",[925]],["nu",[957]],["num",[35]],["numero",[8470]],["numsp",[8199]],["nvap",[8781,8402]],["nvdash",[8876]],["nvDash",[8877]],["nVdash",[8878]],["nVDash",[8879]],["nvge",[8805,8402]],["nvgt",[62,8402]],["nvHarr",[10500]],["nvinfin",[10718]],["nvlArr",[10498]],["nvle",[8804,8402]],["nvlt",[60,8402]],["nvltrie",[8884,8402]],["nvrArr",[10499]],["nvrtrie",[8885,8402]],["nvsim",[8764,8402]],["nwarhk",[10531]],["nwarr",[8598]],["nwArr",[8662]],["nwarrow",[8598]],["nwnear",[10535]],["Oacute",[211]],["oacute",[243]],["oast",[8859]],["Ocirc",[212]],["ocirc",[244]],["ocir",[8858]],["Ocy",[1054]],["ocy",[1086]],["odash",[8861]],["Odblac",[336]],["odblac",[337]],["odiv",[10808]],["odot",[8857]],["odsold",[10684]],["OElig",[338]],["oelig",[339]],["ofcir",[10687]],["Ofr",[120082]],["ofr",[120108]],["ogon",[731]],["Ograve",[210]],["ograve",[242]],["ogt",[10689]],["ohbar",[10677]],["ohm",[937]],["oint",[8750]],["olarr",[8634]],["olcir",[10686]],["olcross",[10683]],["oline",[8254]],["olt",[10688]],["Omacr",[332]],["omacr",[333]],["Omega",[937]],["omega",[969]],["Omicron",[927]],["omicron",[959]],["omid",[10678]],["ominus",[8854]],["Oopf",[120134]],["oopf",[120160]],["opar",[10679]],["OpenCurlyDoubleQuote",[8220]],["OpenCurlyQuote",[8216]],["operp",[10681]],["oplus",[8853]],["orarr",[8635]],["Or",[10836]],["or",[8744]],["ord",[10845]],["order",[8500]],["orderof",[8500]],["ordf",[170]],["ordm",[186]],["origof",[8886]],["oror",[10838]],["orslope",[10839]],["orv",[10843]],["oS",[9416]],["Oscr",[119978]],["oscr",[8500]],["Oslash",[216]],["oslash",[248]],["osol",[8856]],["Otilde",[213]],["otilde",[245]],["otimesas",[10806]],["Otimes",[10807]],["otimes",[8855]],["Ouml",[214]],["ouml",[246]],["ovbar",[9021]],["OverBar",[8254]],["OverBrace",[9182]],["OverBracket",[9140]],["OverParenthesis",[9180]],["para",[182]],["parallel",[8741]],["par",[8741]],["parsim",[10995]],["parsl",[11005]],["part",[8706]],["PartialD",[8706]],["Pcy",[1055]],["pcy",[1087]],["percnt",[37]],["period",[46]],["permil",[8240]],["perp",[8869]],["pertenk",[8241]],["Pfr",[120083]],["pfr",[120109]],["Phi",[934]],["phi",[966]],["phiv",[981]],["phmmat",[8499]],["phone",[9742]],["Pi",[928]],["pi",[960]],["pitchfork",[8916]],["piv",[982]],["planck",[8463]],["planckh",[8462]],["plankv",[8463]],["plusacir",[10787]],["plusb",[8862]],["pluscir",[10786]],["plus",[43]],["plusdo",[8724]],["plusdu",[10789]],["pluse",[10866]],["PlusMinus",[177]],["plusmn",[177]],["plussim",[10790]],["plustwo",[10791]],["pm",[177]],["Poincareplane",[8460]],["pointint",[10773]],["popf",[120161]],["Popf",[8473]],["pound",[163]],["prap",[10935]],["Pr",[10939]],["pr",[8826]],["prcue",[8828]],["precapprox",[10935]],["prec",[8826]],["preccurlyeq",[8828]],["Precedes",[8826]],["PrecedesEqual",[10927]],["PrecedesSlantEqual",[8828]],["PrecedesTilde",[8830]],["preceq",[10927]],["precnapprox",[10937]],["precneqq",[10933]],["precnsim",[8936]],["pre",[10927]],["prE",[10931]],["precsim",[8830]],["prime",[8242]],["Prime",[8243]],["primes",[8473]],["prnap",[10937]],["prnE",[10933]],["prnsim",[8936]],["prod",[8719]],["Product",[8719]],["profalar",[9006]],["profline",[8978]],["profsurf",[8979]],["prop",[8733]],["Proportional",[8733]],["Proportion",[8759]],["propto",[8733]],["prsim",[8830]],["prurel",[8880]],["Pscr",[119979]],["pscr",[120005]],["Psi",[936]],["psi",[968]],["puncsp",[8200]],["Qfr",[120084]],["qfr",[120110]],["qint",[10764]],["qopf",[120162]],["Qopf",[8474]],["qprime",[8279]],["Qscr",[119980]],["qscr",[120006]],["quaternions",[8461]],["quatint",[10774]],["quest",[63]],["questeq",[8799]],["quot",[34]],["QUOT",[34]],["rAarr",[8667]],["race",[8765,817]],["Racute",[340]],["racute",[341]],["radic",[8730]],["raemptyv",[10675]],["rang",[10217]],["Rang",[10219]],["rangd",[10642]],["range",[10661]],["rangle",[10217]],["raquo",[187]],["rarrap",[10613]],["rarrb",[8677]],["rarrbfs",[10528]],["rarrc",[10547]],["rarr",[8594]],["Rarr",[8608]],["rArr",[8658]],["rarrfs",[10526]],["rarrhk",[8618]],["rarrlp",[8620]],["rarrpl",[10565]],["rarrsim",[10612]],["Rarrtl",[10518]],["rarrtl",[8611]],["rarrw",[8605]],["ratail",[10522]],["rAtail",[10524]],["ratio",[8758]],["rationals",[8474]],["rbarr",[10509]],["rBarr",[10511]],["RBarr",[10512]],["rbbrk",[10099]],["rbrace",[125]],["rbrack",[93]],["rbrke",[10636]],["rbrksld",[10638]],["rbrkslu",[10640]],["Rcaron",[344]],["rcaron",[345]],["Rcedil",[342]],["rcedil",[343]],["rceil",[8969]],["rcub",[125]],["Rcy",[1056]],["rcy",[1088]],["rdca",[10551]],["rdldhar",[10601]],["rdquo",[8221]],["rdquor",[8221]],["CloseCurlyDoubleQuote",[8221]],["rdsh",[8627]],["real",[8476]],["realine",[8475]],["realpart",[8476]],["reals",[8477]],["Re",[8476]],["rect",[9645]],["reg",[174]],["REG",[174]],["ReverseElement",[8715]],["ReverseEquilibrium",[8651]],["ReverseUpEquilibrium",[10607]],["rfisht",[10621]],["rfloor",[8971]],["rfr",[120111]],["Rfr",[8476]],["rHar",[10596]],["rhard",[8641]],["rharu",[8640]],["rharul",[10604]],["Rho",[929]],["rho",[961]],["rhov",[1009]],["RightAngleBracket",[10217]],["RightArrowBar",[8677]],["rightarrow",[8594]],["RightArrow",[8594]],["Rightarrow",[8658]],["RightArrowLeftArrow",[8644]],["rightarrowtail",[8611]],["RightCeiling",[8969]],["RightDoubleBracket",[10215]],["RightDownTeeVector",[10589]],["RightDownVectorBar",[10581]],["RightDownVector",[8642]],["RightFloor",[8971]],["rightharpoondown",[8641]],["rightharpoonup",[8640]],["rightleftarrows",[8644]],["rightleftharpoons",[8652]],["rightrightarrows",[8649]],["rightsquigarrow",[8605]],["RightTeeArrow",[8614]],["RightTee",[8866]],["RightTeeVector",[10587]],["rightthreetimes",[8908]],["RightTriangleBar",[10704]],["RightTriangle",[8883]],["RightTriangleEqual",[8885]],["RightUpDownVector",[10575]],["RightUpTeeVector",[10588]],["RightUpVectorBar",[10580]],["RightUpVector",[8638]],["RightVectorBar",[10579]],["RightVector",[8640]],["ring",[730]],["risingdotseq",[8787]],["rlarr",[8644]],["rlhar",[8652]],["rlm",[8207]],["rmoustache",[9137]],["rmoust",[9137]],["rnmid",[10990]],["roang",[10221]],["roarr",[8702]],["robrk",[10215]],["ropar",[10630]],["ropf",[120163]],["Ropf",[8477]],["roplus",[10798]],["rotimes",[10805]],["RoundImplies",[10608]],["rpar",[41]],["rpargt",[10644]],["rppolint",[10770]],["rrarr",[8649]],["Rrightarrow",[8667]],["rsaquo",[8250]],["rscr",[120007]],["Rscr",[8475]],["rsh",[8625]],["Rsh",[8625]],["rsqb",[93]],["rsquo",[8217]],["rsquor",[8217]],["CloseCurlyQuote",[8217]],["rthree",[8908]],["rtimes",[8906]],["rtri",[9657]],["rtrie",[8885]],["rtrif",[9656]],["rtriltri",[10702]],["RuleDelayed",[10740]],["ruluhar",[10600]],["rx",[8478]],["Sacute",[346]],["sacute",[347]],["sbquo",[8218]],["scap",[10936]],["Scaron",[352]],["scaron",[353]],["Sc",[10940]],["sc",[8827]],["sccue",[8829]],["sce",[10928]],["scE",[10932]],["Scedil",[350]],["scedil",[351]],["Scirc",[348]],["scirc",[349]],["scnap",[10938]],["scnE",[10934]],["scnsim",[8937]],["scpolint",[10771]],["scsim",[8831]],["Scy",[1057]],["scy",[1089]],["sdotb",[8865]],["sdot",[8901]],["sdote",[10854]],["searhk",[10533]],["searr",[8600]],["seArr",[8664]],["searrow",[8600]],["sect",[167]],["semi",[59]],["seswar",[10537]],["setminus",[8726]],["setmn",[8726]],["sext",[10038]],["Sfr",[120086]],["sfr",[120112]],["sfrown",[8994]],["sharp",[9839]],["SHCHcy",[1065]],["shchcy",[1097]],["SHcy",[1064]],["shcy",[1096]],["ShortDownArrow",[8595]],["ShortLeftArrow",[8592]],["shortmid",[8739]],["shortparallel",[8741]],["ShortRightArrow",[8594]],["ShortUpArrow",[8593]],["shy",[173]],["Sigma",[931]],["sigma",[963]],["sigmaf",[962]],["sigmav",[962]],["sim",[8764]],["simdot",[10858]],["sime",[8771]],["simeq",[8771]],["simg",[10910]],["simgE",[10912]],["siml",[10909]],["simlE",[10911]],["simne",[8774]],["simplus",[10788]],["simrarr",[10610]],["slarr",[8592]],["SmallCircle",[8728]],["smallsetminus",[8726]],["smashp",[10803]],["smeparsl",[10724]],["smid",[8739]],["smile",[8995]],["smt",[10922]],["smte",[10924]],["smtes",[10924,65024]],["SOFTcy",[1068]],["softcy",[1100]],["solbar",[9023]],["solb",[10692]],["sol",[47]],["Sopf",[120138]],["sopf",[120164]],["spades",[9824]],["spadesuit",[9824]],["spar",[8741]],["sqcap",[8851]],["sqcaps",[8851,65024]],["sqcup",[8852]],["sqcups",[8852,65024]],["Sqrt",[8730]],["sqsub",[8847]],["sqsube",[8849]],["sqsubset",[8847]],["sqsubseteq",[8849]],["sqsup",[8848]],["sqsupe",[8850]],["sqsupset",[8848]],["sqsupseteq",[8850]],["square",[9633]],["Square",[9633]],["SquareIntersection",[8851]],["SquareSubset",[8847]],["SquareSubsetEqual",[8849]],["SquareSuperset",[8848]],["SquareSupersetEqual",[8850]],["SquareUnion",[8852]],["squarf",[9642]],["squ",[9633]],["squf",[9642]],["srarr",[8594]],["Sscr",[119982]],["sscr",[120008]],["ssetmn",[8726]],["ssmile",[8995]],["sstarf",[8902]],["Star",[8902]],["star",[9734]],["starf",[9733]],["straightepsilon",[1013]],["straightphi",[981]],["strns",[175]],["sub",[8834]],["Sub",[8912]],["subdot",[10941]],["subE",[10949]],["sube",[8838]],["subedot",[10947]],["submult",[10945]],["subnE",[10955]],["subne",[8842]],["subplus",[10943]],["subrarr",[10617]],["subset",[8834]],["Subset",[8912]],["subseteq",[8838]],["subseteqq",[10949]],["SubsetEqual",[8838]],["subsetneq",[8842]],["subsetneqq",[10955]],["subsim",[10951]],["subsub",[10965]],["subsup",[10963]],["succapprox",[10936]],["succ",[8827]],["succcurlyeq",[8829]],["Succeeds",[8827]],["SucceedsEqual",[10928]],["SucceedsSlantEqual",[8829]],["SucceedsTilde",[8831]],["succeq",[10928]],["succnapprox",[10938]],["succneqq",[10934]],["succnsim",[8937]],["succsim",[8831]],["SuchThat",[8715]],["sum",[8721]],["Sum",[8721]],["sung",[9834]],["sup1",[185]],["sup2",[178]],["sup3",[179]],["sup",[8835]],["Sup",[8913]],["supdot",[10942]],["supdsub",[10968]],["supE",[10950]],["supe",[8839]],["supedot",[10948]],["Superset",[8835]],["SupersetEqual",[8839]],["suphsol",[10185]],["suphsub",[10967]],["suplarr",[10619]],["supmult",[10946]],["supnE",[10956]],["supne",[8843]],["supplus",[10944]],["supset",[8835]],["Supset",[8913]],["supseteq",[8839]],["supseteqq",[10950]],["supsetneq",[8843]],["supsetneqq",[10956]],["supsim",[10952]],["supsub",[10964]],["supsup",[10966]],["swarhk",[10534]],["swarr",[8601]],["swArr",[8665]],["swarrow",[8601]],["swnwar",[10538]],["szlig",[223]],["Tab",[9]],["target",[8982]],["Tau",[932]],["tau",[964]],["tbrk",[9140]],["Tcaron",[356]],["tcaron",[357]],["Tcedil",[354]],["tcedil",[355]],["Tcy",[1058]],["tcy",[1090]],["tdot",[8411]],["telrec",[8981]],["Tfr",[120087]],["tfr",[120113]],["there4",[8756]],["therefore",[8756]],["Therefore",[8756]],["Theta",[920]],["theta",[952]],["thetasym",[977]],["thetav",[977]],["thickapprox",[8776]],["thicksim",[8764]],["ThickSpace",[8287,8202]],["ThinSpace",[8201]],["thinsp",[8201]],["thkap",[8776]],["thksim",[8764]],["THORN",[222]],["thorn",[254]],["tilde",[732]],["Tilde",[8764]],["TildeEqual",[8771]],["TildeFullEqual",[8773]],["TildeTilde",[8776]],["timesbar",[10801]],["timesb",[8864]],["times",[215]],["timesd",[10800]],["tint",[8749]],["toea",[10536]],["topbot",[9014]],["topcir",[10993]],["top",[8868]],["Topf",[120139]],["topf",[120165]],["topfork",[10970]],["tosa",[10537]],["tprime",[8244]],["trade",[8482]],["TRADE",[8482]],["triangle",[9653]],["triangledown",[9663]],["triangleleft",[9667]],["trianglelefteq",[8884]],["triangleq",[8796]],["triangleright",[9657]],["trianglerighteq",[8885]],["tridot",[9708]],["trie",[8796]],["triminus",[10810]],["TripleDot",[8411]],["triplus",[10809]],["trisb",[10701]],["tritime",[10811]],["trpezium",[9186]],["Tscr",[119983]],["tscr",[120009]],["TScy",[1062]],["tscy",[1094]],["TSHcy",[1035]],["tshcy",[1115]],["Tstrok",[358]],["tstrok",[359]],["twixt",[8812]],["twoheadleftarrow",[8606]],["twoheadrightarrow",[8608]],["Uacute",[218]],["uacute",[250]],["uarr",[8593]],["Uarr",[8607]],["uArr",[8657]],["Uarrocir",[10569]],["Ubrcy",[1038]],["ubrcy",[1118]],["Ubreve",[364]],["ubreve",[365]],["Ucirc",[219]],["ucirc",[251]],["Ucy",[1059]],["ucy",[1091]],["udarr",[8645]],["Udblac",[368]],["udblac",[369]],["udhar",[10606]],["ufisht",[10622]],["Ufr",[120088]],["ufr",[120114]],["Ugrave",[217]],["ugrave",[249]],["uHar",[10595]],["uharl",[8639]],["uharr",[8638]],["uhblk",[9600]],["ulcorn",[8988]],["ulcorner",[8988]],["ulcrop",[8975]],["ultri",[9720]],["Umacr",[362]],["umacr",[363]],["uml",[168]],["UnderBar",[95]],["UnderBrace",[9183]],["UnderBracket",[9141]],["UnderParenthesis",[9181]],["Union",[8899]],["UnionPlus",[8846]],["Uogon",[370]],["uogon",[371]],["Uopf",[120140]],["uopf",[120166]],["UpArrowBar",[10514]],["uparrow",[8593]],["UpArrow",[8593]],["Uparrow",[8657]],["UpArrowDownArrow",[8645]],["updownarrow",[8597]],["UpDownArrow",[8597]],["Updownarrow",[8661]],["UpEquilibrium",[10606]],["upharpoonleft",[8639]],["upharpoonright",[8638]],["uplus",[8846]],["UpperLeftArrow",[8598]],["UpperRightArrow",[8599]],["upsi",[965]],["Upsi",[978]],["upsih",[978]],["Upsilon",[933]],["upsilon",[965]],["UpTeeArrow",[8613]],["UpTee",[8869]],["upuparrows",[8648]],["urcorn",[8989]],["urcorner",[8989]],["urcrop",[8974]],["Uring",[366]],["uring",[367]],["urtri",[9721]],["Uscr",[119984]],["uscr",[120010]],["utdot",[8944]],["Utilde",[360]],["utilde",[361]],["utri",[9653]],["utrif",[9652]],["uuarr",[8648]],["Uuml",[220]],["uuml",[252]],["uwangle",[10663]],["vangrt",[10652]],["varepsilon",[1013]],["varkappa",[1008]],["varnothing",[8709]],["varphi",[981]],["varpi",[982]],["varpropto",[8733]],["varr",[8597]],["vArr",[8661]],["varrho",[1009]],["varsigma",[962]],["varsubsetneq",[8842,65024]],["varsubsetneqq",[10955,65024]],["varsupsetneq",[8843,65024]],["varsupsetneqq",[10956,65024]],["vartheta",[977]],["vartriangleleft",[8882]],["vartriangleright",[8883]],["vBar",[10984]],["Vbar",[10987]],["vBarv",[10985]],["Vcy",[1042]],["vcy",[1074]],["vdash",[8866]],["vDash",[8872]],["Vdash",[8873]],["VDash",[8875]],["Vdashl",[10982]],["veebar",[8891]],["vee",[8744]],["Vee",[8897]],["veeeq",[8794]],["vellip",[8942]],["verbar",[124]],["Verbar",[8214]],["vert",[124]],["Vert",[8214]],["VerticalBar",[8739]],["VerticalLine",[124]],["VerticalSeparator",[10072]],["VerticalTilde",[8768]],["VeryThinSpace",[8202]],["Vfr",[120089]],["vfr",[120115]],["vltri",[8882]],["vnsub",[8834,8402]],["vnsup",[8835,8402]],["Vopf",[120141]],["vopf",[120167]],["vprop",[8733]],["vrtri",[8883]],["Vscr",[119985]],["vscr",[120011]],["vsubnE",[10955,65024]],["vsubne",[8842,65024]],["vsupnE",[10956,65024]],["vsupne",[8843,65024]],["Vvdash",[8874]],["vzigzag",[10650]],["Wcirc",[372]],["wcirc",[373]],["wedbar",[10847]],["wedge",[8743]],["Wedge",[8896]],["wedgeq",[8793]],["weierp",[8472]],["Wfr",[120090]],["wfr",[120116]],["Wopf",[120142]],["wopf",[120168]],["wp",[8472]],["wr",[8768]],["wreath",[8768]],["Wscr",[119986]],["wscr",[120012]],["xcap",[8898]],["xcirc",[9711]],["xcup",[8899]],["xdtri",[9661]],["Xfr",[120091]],["xfr",[120117]],["xharr",[10231]],["xhArr",[10234]],["Xi",[926]],["xi",[958]],["xlarr",[10229]],["xlArr",[10232]],["xmap",[10236]],["xnis",[8955]],["xodot",[10752]],["Xopf",[120143]],["xopf",[120169]],["xoplus",[10753]],["xotime",[10754]],["xrarr",[10230]],["xrArr",[10233]],["Xscr",[119987]],["xscr",[120013]],["xsqcup",[10758]],["xuplus",[10756]],["xutri",[9651]],["xvee",[8897]],["xwedge",[8896]],["Yacute",[221]],["yacute",[253]],["YAcy",[1071]],["yacy",[1103]],["Ycirc",[374]],["ycirc",[375]],["Ycy",[1067]],["ycy",[1099]],["yen",[165]],["Yfr",[120092]],["yfr",[120118]],["YIcy",[1031]],["yicy",[1111]],["Yopf",[120144]],["yopf",[120170]],["Yscr",[119988]],["yscr",[120014]],["YUcy",[1070]],["yucy",[1102]],["yuml",[255]],["Yuml",[376]],["Zacute",[377]],["zacute",[378]],["Zcaron",[381]],["zcaron",[382]],["Zcy",[1047]],["zcy",[1079]],["Zdot",[379]],["zdot",[380]],["zeetrf",[8488]],["ZeroWidthSpace",[8203]],["Zeta",[918]],["zeta",[950]],["zfr",[120119]],["Zfr",[8488]],["ZHcy",[1046]],["zhcy",[1078]],["zigrarr",[8669]],["zopf",[120171]],["Zopf",[8484]],["Zscr",[119989]],["zscr",[120015]],["zwj",[8205]],["zwnj",[8204]]],n={},i={};function a(){}!function(e,t){var n=r.length,i=[];for(;n--;){var a,o=r[n],s=o[0],u=o[1],c=u[0],l=c<32||c>126||62===c||60===c||38===c||34===c||39===c;if(l&&(a=t[c]=t[c]||{}),u[1]){var f=u[1];e[s]=String.fromCharCode(c)+String.fromCharCode(f),i.push(l&&(a[f]=s))}else e[s]=String.fromCharCode(c),i.push(l&&(a[""]=s))}}(n,i),a.prototype.decode=function(e){return e&&e.length?e.replace(/&(#?[\w\d]+);?/g,(function(e,t){var r;if("#"===t.charAt(0)){var i="x"===t.charAt(1)?parseInt(t.substr(2).toLowerCase(),16):parseInt(t.substr(1));isNaN(i)||i<-32768||i>65535||(r=String.fromCharCode(i))}else r=n[t];return r||e})):""},a.decode=function(e){return(new a).decode(e)},a.prototype.encode=function(e){if(!e||!e.length)return"";for(var t=e.length,r="",n=0;n<t;){var a=i[e.charCodeAt(n)];if(a){var o=a[e.charCodeAt(n+1)];if(o?n++:o=a[""],o){r+="&"+o+";",n++;continue}}r+=e.charAt(n),n++}return r},a.encode=function(e){return(new a).encode(e)},a.prototype.encodeNonUTF=function(e){if(!e||!e.length)return"";for(var t=e.length,r="",n=0;n<t;){var a=e.charCodeAt(n),o=i[a];if(o){var s=o[e.charCodeAt(n+1)];if(s?n++:s=o[""],s){r+="&"+s+";",n++;continue}}r+=a<32||a>126?"&#"+a+";":e.charAt(n),n++}return r},a.encodeNonUTF=function(e){return(new a).encodeNonUTF(e)},a.prototype.encodeNonASCII=function(e){if(!e||!e.length)return"";for(var t=e.length,r="",n=0;n<t;){var i=e.charCodeAt(n);i<=255?r+=e[n++]:(r+="&#"+i+";",n++)}return r},a.encodeNonASCII=function(e){return(new a).encodeNonASCII(e)},e.exports=a},,,function(e,t,r){"use strict";r.r(t),function(e){var n=r(94);r.d(t,"OfflineController",(function(){return n.a}));var i="undefined"!=typeof window&&window||e,a=i.dashjs;a||(a=i.dashjs={}),a.OfflineController=n.a,t.default=a}.call(this,r(21))},function(e,t,r){(function(t){e.exports=function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[o]={exports:{}};t[o][0].call(c.exports,(function(e){var r=t[o][1][e];return i(r||e)}),c,c.exports,e,t,r,n)}return r[o].exports}for(var a=!1,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,r,n){(function(e){"use strict";var t,n,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var a=0,o=new i(l),s=e.document.createTextNode("");o.observe(s,{characterData:!0}),t=function(){s.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)t="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var u=new e.MessageChannel;u.port1.onmessage=l,t=function(){u.port2.postMessage(0)}}var c=[];function l(){var e,t;n=!0;for(var r=c.length;r;){for(t=c,c=[],e=-1;++e<r;)t[e]();r=c.length}n=!1}r.exports=function(e){1!==c.push(e)||n||t()}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,r){"use strict";var n=e(1);function i(){}var a={},o=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,e!==i&&p(this,e)}function l(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function f(e,t,r){n((function(){var n;try{n=t(r)}catch(t){return a.reject(e,t)}n===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,n)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var r=!1;function n(t){r||(r=!0,a.reject(e,t))}function i(t){r||(r=!0,a.resolve(e,t))}var o=h((function(){t(i,n)}));"error"===o.status&&n(o.value)}function h(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===o)return this;var r=new this.constructor(i);return this.state!==u?f(r,this.state===s?e:t,this.outcome):this.queue.push(new l(r,e,t)),r},l.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){a.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},a.resolve=function(e,t){var r=h(d,t);if("error"===r.status)return a.reject(e,r.value);var n=r.value;if(n)p(e,n);else{e.state=s,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:a.resolve(new this(i),e)},c.reject=function(e){var t=new this(i);return a.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var o=new Array(r),s=0,u=-1,c=new this(i);++u<r;)l(e[u],u);return c;function l(e,i){t.resolve(e).then((function(e){o[i]=e,++s!==r||n||(n=!0,a.resolve(c,o))}),(function(e){n||(n=!0,a.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var o,s=-1,u=new this(i);++s<r;)o=e[s],t.resolve(o).then((function(e){n||(n=!0,a.resolve(u,e))}),(function(e){n||(n=!0,a.reject(u,e))}));return u}},{1:1}],3:[function(e,r,n){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function a(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<e.length;n+=1)r.append(e[n]);return r.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var o=Promise;function s(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function u(e,t,r){"function"==typeof t&&e.then(t),"function"==typeof r&&e.catch(r)}function c(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function l(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var f=void 0,d={},p=Object.prototype.toString;function h(e){return"boolean"==typeof f?o.resolve(f):function(e){return new o((function(t){var r=e.transaction("local-forage-detect-blob-support","readwrite"),n=a([""]);r.objectStore("local-forage-detect-blob-support").put(n,"key"),r.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},r.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);t(r||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return f=e}))}function m(e){var t=d[e.name],r={};r.promise=new o((function(e,t){r.resolve=e,r.reject=t})),t.deferredOperations.push(r),t.dbReady?t.dbReady=t.dbReady.then((function(){return r.promise})):t.dbReady=r.promise}function _(e){var t=d[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function g(e,t){var r=d[e.name].deferredOperations.pop();if(r)return r.reject(t),r.promise}function y(e,t){return new o((function(r,n){if(d[e.name]=d[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return r(e.db);m(e),e.db.close()}var a=[e.name];t&&a.push(e.version);var o=i.open.apply(i,a);t&&(o.onupgradeneeded=function(t){var r=o.result;try{r.createObjectStore(e.storeName),t.oldVersion<=1&&r.createObjectStore("local-forage-detect-blob-support")}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),o.onerror=function(e){e.preventDefault(),n(o.error)},o.onsuccess=function(){r(o.result),_(e)}}))}function E(e){return y(e,!1)}function v(e){return y(e,!0)}function T(e,t){if(!e.db)return!0;var r=!e.db.objectStoreNames.contains(e.storeName),n=e.version<e.db.version,i=e.version>e.db.version;if(n&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||r){if(r){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function b(e){return a([function(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),i=0;i<t;i++)n[i]=e.charCodeAt(i);return r}(atob(e.data))],{type:e.type})}function A(e){return e&&e.__local_forage_encoded_blob}function I(e){var t=this,r=t._initReady().then((function(){var e=d[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return u(r,e,e),r}function S(e,t,r,n){void 0===n&&(n=1);try{var i=e.db.transaction(e.storeName,t);r(null,i)}catch(i){if(n>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return o.resolve().then((function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),v(e)})).then((function(){return function(e){m(e);for(var t=d[e.name],r=t.forages,n=0;n<r.length;n++){var i=r[n];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,E(e).then((function(t){return e.db=t,T(e)?v(e):t})).then((function(n){e.db=t.db=n;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=n})).catch((function(t){throw g(e,t),t}))}(e).then((function(){S(e,t,r,n-1)}))})).catch(r);r(i)}}var R={_driver:"asyncStorage",_initStorage:function(e){var t=this,r={db:null};if(e)for(var n in e)r[n]=e[n];var i=d[r.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},d[r.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=I);var a=[];function s(){return o.resolve()}for(var u=0;u<i.forages.length;u++){var c=i.forages[u];c!==t&&a.push(c._initReady().catch(s))}var l=i.forages.slice(0);return o.all(a).then((function(){return r.db=i.db,E(r)})).then((function(e){return r.db=e,T(r,t._defaultConfig.version)?v(r):e})).then((function(e){r.db=i.db=e,t._dbInfo=r;for(var n=0;n<l.length;n++){var a=l[n];a!==t&&(a._dbInfo.db=r.db,a._dbInfo.version=r.version)}}))},_support:function(){try{if(!i)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var r=this,n=new o((function(t,n){r.ready().then((function(){S(r._dbInfo,"readonly",(function(i,a){if(i)return n(i);try{var o=a.objectStore(r._dbInfo.storeName).openCursor(),s=1;o.onsuccess=function(){var r=o.result;if(r){var n=r.value;A(n)&&(n=b(n));var i=e(n,r.key,s++);void 0!==i?t(i):r.continue()}else t()},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return s(n,t),n},getItem:function(e,t){var r=this;e=c(e);var n=new o((function(t,n){r.ready().then((function(){S(r._dbInfo,"readonly",(function(i,a){if(i)return n(i);try{var o=a.objectStore(r._dbInfo.storeName).get(e);o.onsuccess=function(){var e=o.result;void 0===e&&(e=null),A(e)&&(e=b(e)),t(e)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return s(n,t),n},setItem:function(e,t,r){var n=this;e=c(e);var i=new o((function(r,i){var a;n.ready().then((function(){return a=n._dbInfo,"[object Blob]"===p.call(t)?h(a.db).then((function(e){return e?t:(r=t,new o((function(e,t){var n=new FileReader;n.onerror=t,n.onloadend=function(t){var n=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:n,type:r.type})},n.readAsBinaryString(r)})));var r})):t})).then((function(t){S(n._dbInfo,"readwrite",(function(a,o){if(a)return i(a);try{var s=o.objectStore(n._dbInfo.storeName);null===t&&(t=void 0);var u=s.put(t,e);o.oncomplete=function(){void 0===t&&(t=null),r(t)},o.onabort=o.onerror=function(){var e=u.error?u.error:u.transaction.error;i(e)}}catch(e){i(e)}}))})).catch(i)}));return s(i,r),i},removeItem:function(e,t){var r=this;e=c(e);var n=new o((function(t,n){r.ready().then((function(){S(r._dbInfo,"readwrite",(function(i,a){if(i)return n(i);try{var o=a.objectStore(r._dbInfo.storeName).delete(e);a.oncomplete=function(){t()},a.onerror=function(){n(o.error)},a.onabort=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return s(n,t),n},clear:function(e){var t=this,r=new o((function(e,r){t.ready().then((function(){S(t._dbInfo,"readwrite",(function(n,i){if(n)return r(n);try{var a=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return s(r,e),r},length:function(e){var t=this,r=new o((function(e,r){t.ready().then((function(){S(t._dbInfo,"readonly",(function(n,i){if(n)return r(n);try{var a=i.objectStore(t._dbInfo.storeName).count();a.onsuccess=function(){e(a.result)},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return s(r,e),r},key:function(e,t){var r=this,n=new o((function(t,n){e<0?t(null):r.ready().then((function(){S(r._dbInfo,"readonly",(function(i,a){if(i)return n(i);try{var o=a.objectStore(r._dbInfo.storeName),s=!1,u=o.openCursor();u.onsuccess=function(){var r=u.result;r?0===e||s?t(r.key):(s=!0,r.advance(e)):t(null)},u.onerror=function(){n(u.error)}}catch(e){n(e)}}))})).catch(n)}));return s(n,t),n},keys:function(e){var t=this,r=new o((function(e,r){t.ready().then((function(){S(t._dbInfo,"readonly",(function(n,i){if(n)return r(n);try{var a=i.objectStore(t._dbInfo.storeName).openCursor(),o=[];a.onsuccess=function(){var t=a.result;t?(o.push(t.key),t.continue()):e(o)},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return s(r,e),r},dropInstance:function(e,t){t=l.apply(this,arguments);var r=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var n,a=this;if(e.name){var u=e.name===r.name&&a._dbInfo.db,c=u?o.resolve(a._dbInfo.db):E(e).then((function(t){var r=d[e.name],n=r.forages;r.db=t;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=t;return t}));n=e.storeName?c.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var r=t.version+1;m(e);var n=d[e.name],a=n.forages;t.close();for(var s=0;s<a.length;s++){var u=a[s];u._dbInfo.db=null,u._dbInfo.version=r}return new o((function(t,n){var a=i.open(e.name,r);a.onerror=function(e){a.result.close(),n(e)},a.onupgradeneeded=function(){a.result.deleteObjectStore(e.storeName)},a.onsuccess=function(){var e=a.result;e.close(),t(e)}})).then((function(e){n.db=e;for(var t=0;t<a.length;t++){var r=a[t];r._dbInfo.db=e,_(r._dbInfo)}})).catch((function(t){throw(g(e,t)||o.resolve()).catch((function(){})),t}))}})):c.then((function(t){m(e);var r=d[e.name],n=r.forages;t.close();for(var a=0;a<n.length;a++)n[a]._dbInfo.db=null;return new o((function(t,r){var n=i.deleteDatabase(e.name);n.onerror=n.onblocked=function(e){var t=n.result;t&&t.close(),r(e)},n.onsuccess=function(){var e=n.result;e&&e.close(),t(e)}})).then((function(e){r.db=e;for(var t=0;t<n.length;t++)_(n[t]._dbInfo)})).catch((function(t){throw(g(e,t)||o.resolve()).catch((function(){})),t}))}))}else n=o.reject("Invalid arguments");return s(n,t),n}},O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N=/^~~local_forage_type~([^~]+)~/,w="__lfsc__:".length,D=w+"arbf".length,P=Object.prototype.toString;function C(e){var t,r,n,i,a,o=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c=new ArrayBuffer(o),l=new Uint8Array(c);for(t=0;t<s;t+=4)r=O.indexOf(e[t]),n=O.indexOf(e[t+1]),i=O.indexOf(e[t+2]),a=O.indexOf(e[t+3]),l[u++]=r<<2|n>>4,l[u++]=(15&n)<<4|i>>2,l[u++]=(3&i)<<6|63&a;return c}function L(e){var t,r=new Uint8Array(e),n="";for(t=0;t<r.length;t+=3)n+=O[r[t]>>2],n+=O[(3&r[t])<<4|r[t+1]>>4],n+=O[(15&r[t+1])<<2|r[t+2]>>6],n+=O[63&r[t+2]];return r.length%3==2?n=n.substring(0,n.length-1)+"=":r.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}var M={serialize:function(e,t){var r="";if(e&&(r=P.call(e)),e&&("[object ArrayBuffer]"===r||e.buffer&&"[object ArrayBuffer]"===P.call(e.buffer))){var n,i="__lfsc__:";e instanceof ArrayBuffer?(n=e,i+="arbf"):(n=e.buffer,"[object Int8Array]"===r?i+="si08":"[object Uint8Array]"===r?i+="ui08":"[object Uint8ClampedArray]"===r?i+="uic8":"[object Int16Array]"===r?i+="si16":"[object Uint16Array]"===r?i+="ur16":"[object Int32Array]"===r?i+="si32":"[object Uint32Array]"===r?i+="ui32":"[object Float32Array]"===r?i+="fl32":"[object Float64Array]"===r?i+="fl64":t(new Error("Failed to get type for BinaryArray"))),t(i+L(n))}else if("[object Blob]"===r){var a=new FileReader;a.onload=function(){var r="~~local_forage_type~"+e.type+"~"+L(this.result);t("__lfsc__:blob"+r)},a.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(r){console.error("Couldn't convert value into a JSON string: ",e),t(null,r)}},deserialize:function(e){if("__lfsc__:"!==e.substring(0,w))return JSON.parse(e);var t,r=e.substring(D),n=e.substring(w,D);if("blob"===n&&N.test(r)){var i=r.match(N);t=i[1],r=r.substring(i[0].length)}var o=C(r);switch(n){case"arbf":return o;case"blob":return a([o],{type:t});case"si08":return new Int8Array(o);case"ui08":return new Uint8Array(o);case"uic8":return new Uint8ClampedArray(o);case"si16":return new Int16Array(o);case"ur16":return new Uint16Array(o);case"si32":return new Int32Array(o);case"ui32":return new Uint32Array(o);case"fl32":return new Float32Array(o);case"fl64":return new Float64Array(o);default:throw new Error("Unkown type: "+n)}},stringToBuffer:C,bufferToString:L};function F(e,t,r,n){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,n)}function x(e,t,r,n,i,a){e.executeSql(r,n,i,(function(e,o){o.code===o.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?a(e,o):F(e,t,(function(){e.executeSql(r,n,i,a)}),a)}),a):a(e,o)}),a)}function U(e,t,r,n){var i=this;e=c(e);var a=new o((function(a,o){i.ready().then((function(){void 0===t&&(t=null);var s=t,u=i._dbInfo;u.serializer.serialize(t,(function(t,c){c?o(c):u.db.transaction((function(r){x(r,u,"INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){a(s)}),(function(e,t){o(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(n>0)return void a(U.apply(i,[e,s,r,n-1]));o(t)}}))}))})).catch(o)}));return s(a,r),a}function B(e){return new o((function(t,r){e.transaction((function(n){n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(r,n){for(var i=[],a=0;a<n.rows.length;a++)i.push(n.rows.item(a).name);t({db:e,storeNames:i})}),(function(e,t){r(t)}))}),(function(e){r(e)}))}))}var G={_driver:"webSQLStorage",_initStorage:function(e){var t=this,r={db:null};if(e)for(var n in e)r[n]="string"!=typeof e[n]?e[n].toString():e[n];var i=new o((function(e,n){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(e){return n(e)}r.db.transaction((function(i){F(i,r,(function(){t._dbInfo=r,e()}),(function(e,t){n(t)}))}),n)}));return r.serializer=M,i},_support:"function"==typeof openDatabase,iterate:function(e,t){var r=this,n=new o((function(t,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){x(r,i,"SELECT * FROM "+i.storeName,[],(function(r,n){for(var a=n.rows,o=a.length,s=0;s<o;s++){var u=a.item(s),c=u.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=e(c,u.key,s+1)))return void t(c)}t()}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,t),n},getItem:function(e,t){var r=this;e=c(e);var n=new o((function(t,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){x(r,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,r){var n=r.rows.length?r.rows.item(0).value:null;n&&(n=i.serializer.deserialize(n)),t(n)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,t),n},setItem:function(e,t,r){return U.apply(this,[e,t,r,1])},removeItem:function(e,t){var r=this;e=c(e);var n=new o((function(t,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){x(r,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,t),n},clear:function(e){var t=this,r=new o((function(e,r){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){x(t,n,"DELETE FROM "+n.storeName,[],(function(){e()}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,e),r},length:function(e){var t=this,r=new o((function(e,r){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){x(t,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],(function(t,r){var n=r.rows.item(0).c;e(n)}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,e),r},key:function(e,t){var r=this,n=new o((function(t,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){x(r,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,r){var n=r.rows.length?r.rows.item(0).key:null;t(n)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,t),n},keys:function(e){var t=this,r=new o((function(e,r){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){x(t,n,"SELECT key FROM "+n.storeName,[],(function(t,r){for(var n=[],i=0;i<r.rows.length;i++)n.push(r.rows.item(i).key);e(n)}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,e),r},dropInstance:function(e,t){t=l.apply(this,arguments);var r=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var n,i=this;return s(n=e.name?new o((function(t){var n;n=e.name===r.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:n,storeNames:[e.storeName]}):t(B(n))})).then((function(e){return new o((function(t,r){e.db.transaction((function(n){function i(e){return new o((function(t,r){n.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){r(t)}))}))}for(var a=[],s=0,u=e.storeNames.length;s<u;s++)a.push(i(e.storeNames[s]));o.all(a).then((function(){t()})).catch((function(e){r(e)}))}),(function(e){r(e)}))}))})):o.reject("Invalid arguments"),t),n}};function q(e,t){var r=e.name+"/";return e.storeName!==t.storeName&&(r+=e.storeName+"/"),r}function j(){return!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(e){return!0}}()||localStorage.length>0}var k={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var r in e)t[r]=e[r];return t.keyPrefix=q(e,this._defaultConfig),j()?(this._dbInfo=t,t.serializer=M,o.resolve()):o.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var r=this,n=r.ready().then((function(){for(var t=r._dbInfo,n=t.keyPrefix,i=n.length,a=localStorage.length,o=1,s=0;s<a;s++){var u=localStorage.key(s);if(0===u.indexOf(n)){var c=localStorage.getItem(u);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,u.substring(i),o++)))return c}}}));return s(n,t),n},getItem:function(e,t){var r=this;e=c(e);var n=r.ready().then((function(){var t=r._dbInfo,n=localStorage.getItem(t.keyPrefix+e);return n&&(n=t.serializer.deserialize(n)),n}));return s(n,t),n},setItem:function(e,t,r){var n=this;e=c(e);var i=n.ready().then((function(){void 0===t&&(t=null);var r=t;return new o((function(i,a){var o=n._dbInfo;o.serializer.serialize(t,(function(t,n){if(n)a(n);else try{localStorage.setItem(o.keyPrefix+e,t),i(r)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||a(e),a(e)}}))}))}));return s(i,r),i},removeItem:function(e,t){var r=this;e=c(e);var n=r.ready().then((function(){var t=r._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return s(n,t),n},clear:function(e){var t=this,r=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var n=localStorage.key(r);0===n.indexOf(e)&&localStorage.removeItem(n)}}));return s(r,e),r},length:function(e){var t=this.keys().then((function(e){return e.length}));return s(t,e),t},key:function(e,t){var r=this,n=r.ready().then((function(){var t,n=r._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(n.keyPrefix.length)),t}));return s(n,t),n},keys:function(e){var t=this,r=t.ready().then((function(){for(var e=t._dbInfo,r=localStorage.length,n=[],i=0;i<r;i++){var a=localStorage.key(i);0===a.indexOf(e.keyPrefix)&&n.push(a.substring(e.keyPrefix.length))}return n}));return s(r,e),r},dropInstance:function(e,t){if(t=l.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var r=this.config();e.name=e.name||r.name,e.storeName=e.storeName||r.storeName}var n,i=this;return s(n=e.name?new o((function(t){e.storeName?t(q(e,i._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var r=localStorage.key(t);0===r.indexOf(e)&&localStorage.removeItem(r)}})):o.reject("Invalid arguments"),t),n}},H=function(e,t){for(var r,n,i=e.length,a=0;a<i;){if((r=e[a])===(n=t)||"number"==typeof r&&"number"==typeof n&&isNaN(r)&&isNaN(n))return!0;a++}return!1},V=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Y={},z={},X={INDEXEDDB:R,WEBSQL:G,LOCALSTORAGE:k},W=[X.INDEXEDDB._driver,X.WEBSQL._driver,X.LOCALSTORAGE._driver],K=["dropInstance"],Q=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(K),Z={description:"",driver:W.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function $(e,t){e[t]=function(){var r=arguments;return e.ready().then((function(){return e[t].apply(e,r)}))}}function J(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var r in t)t.hasOwnProperty(r)&&(V(t[r])?arguments[0][r]=t[r].slice():arguments[0][r]=t[r])}return arguments[0]}var ee=new(function(){function e(t){for(var r in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),X)if(X.hasOwnProperty(r)){var n=X[r],i=n._driver;this[r]=i,Y[i]||this.defineDriver(n)}this._defaultConfig=J({},Z),this._config=J({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":n(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,r){var n=new o((function(t,r){try{var n=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void r(i);for(var a=Q.concat("_initStorage"),u=0,c=a.length;u<c;u++){var l=a[u];if((!H(K,l)||e[l])&&"function"!=typeof e[l])return void r(i)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),r=o.reject(t);return s(r,arguments[arguments.length-1]),r}},r=0,n=K.length;r<n;r++){var i=K[r];e[i]||(e[i]=t(i))}}();var f=function(r){Y[n]&&console.info("Redefining LocalForage driver: "+n),Y[n]=e,z[n]=r,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(f,r):f(!!e._support):f(!0)}catch(e){r(e)}}));return u(n,t,r),n},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,r){var n=Y[e]?o.resolve(Y[e]):o.reject(new Error("Driver not found."));return u(n,t,r),n},e.prototype.getSerializer=function(e){var t=o.resolve(M);return u(t,e),t},e.prototype.ready=function(e){var t=this,r=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return u(r,e,e),r},e.prototype.setDriver=function(e,t,r){var n=this;V(e)||(e=[e]);var i=this._getSupportedDrivers(e);function a(){n._config.driver=n.driver()}function s(e){return n._extend(e),a(),n._ready=n._initStorage(n._config),n._ready}var c=null!==this._driverSet?this._driverSet.catch((function(){return o.resolve()})):o.resolve();return this._driverSet=c.then((function(){var e=i[0];return n._dbInfo=null,n._ready=null,n.getDriver(e).then((function(e){n._driver=e._driver,a(),n._wrapLibraryMethodsWithReady(),n._initDriver=function(e){return function(){var t=0;return function r(){for(;t<e.length;){var i=e[t];return t++,n._dbInfo=null,n._ready=null,n.getDriver(i).then(s).catch(r)}a();var u=new Error("No available storage method found.");return n._driverSet=o.reject(u),n._driverSet}()}}(i)}))})).catch((function(){a();var e=new Error("No available storage method found.");return n._driverSet=o.reject(e),n._driverSet})),u(this._driverSet,t,r),this._driverSet},e.prototype.supports=function(e){return!!z[e]},e.prototype._extend=function(e){J(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=Q.length;e<t;e++)$(this,Q[e])},e.prototype.createInstance=function(t){return new e(t)},e}());t.exports=ee},{3:3}]},{},[4])(4)}).call(this,r(21))},function(e,t){var r={"&lt":"<","&gt":">","&quot":'"',"&apos":"'","&amp":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&amp;":"&"},n={60:"lt",62:"gt",34:"quot",39:"apos",38:"amp"},i={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","&":"&amp;"};function a(){}a.prototype.encode=function(e){return e&&e.length?e.replace(/<|>|"|'|&/g,(function(e){return i[e]})):""},a.encode=function(e){return(new a).encode(e)},a.prototype.decode=function(e){return e&&e.length?e.replace(/&#?[0-9a-zA-Z]+;?/g,(function(e){if("#"===e.charAt(1)){var t="x"===e.charAt(2).toLowerCase()?parseInt(e.substr(3),16):parseInt(e.substr(2));return isNaN(t)||t<-32768||t>65535?"":String.fromCharCode(t)}return r[e]||e})):""},a.decode=function(e){return(new a).decode(e)},a.prototype.encodeNonUTF=function(e){if(!e||!e.length)return"";for(var t=e.length,r="",i=0;i<t;){var a=e.charCodeAt(i),o=n[a];o?(r+="&"+o+";",i++):(r+=a<32||a>126?"&#"+a+";":e.charAt(i),i++)}return r},a.encodeNonUTF=function(e){return(new a).encodeNonUTF(e)},a.prototype.encodeNonASCII=function(e){if(!e||!e.length)return"";for(var t=e.length,r="",n=0;n<t;){var i=e.charCodeAt(n);i<=255?r+=e[n++]:(r+="&#"+i+";",n++)}return r},a.encodeNonASCII=function(e){return(new a).encodeNonASCII(e)},e.exports=a},function(e,t){for(var r=["apos","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","copy","ordf","laquo","not","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34","iquest","Agrave","Aacute","Acirc","Atilde","Auml","Aring","Aelig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","times","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","szlig","agrave","aacute","acirc","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","divide","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","quot","amp","lt","gt","OElig","oelig","Scaron","scaron","Yuml","circ","tilde","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","permil","lsaquo","rsaquo","euro","fnof","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigmaf","sigma","tau","upsilon","phi","chi","psi","omega","thetasym","upsih","piv","bull","hellip","prime","Prime","oline","frasl","weierp","image","real","trade","alefsym","larr","uarr","rarr","darr","harr","crarr","lArr","uArr","rArr","dArr","hArr","forall","part","exist","empty","nabla","isin","notin","ni","prod","sum","minus","lowast","radic","prop","infin","ang","and","or","cap","cup","int","there4","sim","cong","asymp","ne","equiv","le","ge","sub","sup","nsub","sube","supe","oplus","otimes","perp","sdot","lceil","rceil","lfloor","rfloor","lang","rang","loz","spades","clubs","hearts","diams"],n=[39,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,34,38,60,62,338,339,352,353,376,710,732,8194,8195,8201,8204,8205,8206,8207,8211,8212,8216,8217,8218,8220,8221,8222,8224,8225,8240,8249,8250,8364,402,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,977,978,982,8226,8230,8242,8243,8254,8260,8472,8465,8476,8482,8501,8592,8593,8594,8595,8596,8629,8656,8657,8658,8659,8660,8704,8706,8707,8709,8711,8712,8713,8715,8719,8721,8722,8727,8730,8733,8734,8736,8743,8744,8745,8746,8747,8756,8764,8773,8776,8800,8801,8804,8805,8834,8835,8836,8838,8839,8853,8855,8869,8901,8968,8969,8970,8971,9001,9002,9674,9824,9827,9829,9830],i={},a={},o=0,s=r.length;o<s;){var u=r[o],c=n[o];i[u]=String.fromCharCode(c),a[c]=u,o++}function l(){}l.prototype.decode=function(e){return e&&e.length?e.replace(/&(#?[\w\d]+);?/g,(function(e,t){var r;if("#"===t.charAt(0)){var n="x"===t.charAt(1).toLowerCase()?parseInt(t.substr(2),16):parseInt(t.substr(1));isNaN(n)||n<-32768||n>65535||(r=String.fromCharCode(n))}else r=i[t];return r||e})):""},l.decode=function(e){return(new l).decode(e)},l.prototype.encode=function(e){if(!e||!e.length)return"";for(var t=e.length,r="",n=0;n<t;){var i=a[e.charCodeAt(n)];r+=i?"&"+i+";":e.charAt(n),n++}return r},l.encode=function(e){return(new l).encode(e)},l.prototype.encodeNonUTF=function(e){if(!e||!e.length)return"";for(var t=e.length,r="",n=0;n<t;){var i=e.charCodeAt(n),o=a[i];r+=o?"&"+o+";":i<32||i>126?"&#"+i+";":e.charAt(n),n++}return r},l.encodeNonUTF=function(e){return(new l).encodeNonUTF(e)},l.prototype.encodeNonASCII=function(e){if(!e||!e.length)return"";for(var t=e.length,r="",n=0;n<t;){var i=e.charCodeAt(n);i<=255?r+=e[n++]:(r+="&#"+i+";",n++)}return r},l.encodeNonASCII=function(e){return(new l).encodeNonASCII(e)},e.exports=l}]).default}));
//# sourceMappingURL=dash.offline.min.js.map